======================================================================
PROYEK: NGEVENT.ID (LARAVEL)
Export Date: 2026-01-09T13:35:26.030Z
======================================================================

STRUKTUR FOLDER & FILE:
──────────────────────────────────────────────────
├── app
│   ├── Enums
│   │   ├── EventStatus.php
│   │   ├── OrderStatus.php
│   │   ├── PaymentStatus.php
│   │   ├── SettlementStatus.php
│   │   ├── TicketType.php
│   │   ├── UserRole.php
│   │   └── VoucherType.php
│   ├── Events
│   │   ├── OrderPaid.php
│   │   └── TicketIssued.php
│   ├── Exceptions
│   │   ├── InsufficientTicketException.php
│   │   ├── PaymentFailedException.php
│   │   └── VoucherInvalidException.php
│   ├── Http
│   │   ├── Controllers
│   │   │   ├── Admin
│   │   │   │   ├── CategoryController.php
│   │   │   │   ├── DashboardController.php
│   │   │   │   ├── EventController.php
│   │   │   │   ├── SettlementController.php
│   │   │   │   ├── UserController.php
│   │   │   │   └── VoucherController.php
│   │   │   ├── Auth
│   │   │   │   ├── ForgotPasswordController.php
│   │   │   │   ├── LoginController.php
│   │   │   │   ├── RegisterController.php
│   │   │   │   ├── ResetPasswordController.php
│   │   │   │   └── VerifyEmailController.php
│   │   │   ├── Organizer
│   │   │   │   ├── AttendeeController.php
│   │   │   │   ├── DashboardController.php
│   │   │   │   ├── EventController.php
│   │   │   │   ├── OrderController.php
│   │   │   │   ├── ProfileController.php
│   │   │   │   └── TicketController.php
│   │   │   ├── User
│   │   │   │   ├── CheckoutController.php
│   │   │   │   ├── EventController.php
│   │   │   │   ├── HomeController.php
│   │   │   │   ├── OrderController.php
│   │   │   │   ├── ProfileController.php
│   │   │   │   └── TicketController.php
│   │   │   ├── Webhook
│   │   │   │   └── XenditController.php
│   │   │   └── Controller.php
│   │   └── Middleware
│   │       ├── AdminMiddleware.php
│   │       ├── EnsureUserIsAdmin.php
│   │       ├── EnsureUserIsOrganizer.php
│   │       ├── OrganizerMiddleware.php
│   │       ├── ThrottleCheckout.php
│   │       └── XenditWebhookSignature.php
│   ├── Jobs
│   │   ├── ExpireUnpaidOrders.php
│   │   ├── GenerateETicket.php
│   │   └── SendOrderConfirmation.php
│   ├── Listeners
│   │   ├── SendTicketEmail.php
│   │   └── UpdateTicketStock.php
│   ├── Models
│   │   ├── Category.php
│   │   ├── Event.php
│   │   ├── EventDay.php
│   │   ├── IssuedTicket.php
│   │   ├── Order.php
│   │   ├── OrderItem.php
│   │   ├── Organizer.php
│   │   ├── OrganizerSocialLink.php
│   │   ├── Payment.php
│   │   ├── Subcategory.php
│   │   ├── Ticket.php
│   │   ├── TicketVariant.php
│   │   ├── User.php
│   │   ├── Voucher.php
│   │   └── VoucherUsage.php
│   ├── Providers
│   │   └── AppServiceProvider.php
│   ├── Services
│   │   ├── Xendit
│   │   │   └── XenditClient.php
│   │   ├── ETicketService.php
│   │   ├── EventService.php
│   │   ├── OrderService.php
│   │   ├── PaymentService.php
│   │   ├── SettlementService.php
│   │   ├── TicketService.php
│   │   └── VoucherService.php
│   ├── Traits
│   │   └── HasSlug.php
│   └── View
│       └── Components
│           ├── AppLayout.php
│           └── OrganizerLayout.php
├── config
│   ├── app.php
│   ├── auth.php
│   ├── cache.php
│   ├── database.php
│   ├── dompdf.php
│   ├── filesystems.php
│   ├── logging.php
│   ├── mail.php
│   ├── ngevent.php
│   ├── queue.php
│   ├── services.php
│   ├── session.php
│   └── xendit.php
├── database
│   ├── factories
│   │   └── UserFactory.php
│   ├── migrations
│   │   ├── 0001_01_01_000000_create_users_table.php
│   │   ├── 0001_01_01_000001_create_cache_table.php
│   │   ├── 0001_01_01_000002_create_jobs_table.php
│   │   ├── 2024_01_01_000001_create_organizers_table.php
│   │   ├── 2024_01_01_000002_create_organizer_social_links_table.php
│   │   ├── 2024_01_01_000003_create_categories_table.php
│   │   ├── 2024_01_01_000004_create_subcategories_table.php
│   │   ├── 2024_01_01_000005_create_events_table.php
│   │   ├── 2024_01_01_000006_create_event_subcategory_table.php
│   │   ├── 2024_01_01_000007_create_event_days_table.php
│   │   ├── 2024_01_01_000008_create_tickets_table.php
│   │   ├── 2024_01_01_000009_create_ticket_variants_table.php
│   │   ├── 2024_01_01_000010_create_vouchers_table.php
│   │   ├── 2024_01_01_000011_create_orders_table.php
│   │   ├── 2024_01_01_000012_create_order_items_table.php
│   │   ├── 2024_01_01_000013_create_payments_table.php
│   │   ├── 2024_01_01_000014_create_issued_tickets_table.php
│   │   ├── 2024_01_01_000015_create_voucher_usages_table.php
│   │   └── 2024_01_01_000016_create_settlements_table.php
│   └── seeders
│       ├── CategorySeeder.php
│       ├── DatabaseSeeder.php
│       ├── EventSeeder.php
│       ├── OrganizerSeeder.php
│       ├── SubcategorySeeder.php
│       ├── UserSeeder.php
│       └── VoucherSeeder.php
├── resources
│   ├── css
│   │   └── app.css
│   ├── js
│   │   ├── app.js
│   │   └── bootstrap.js
│   └── views
│       ├── admin
│       │   ├── dashboard
│       │   │   └── index.blade.php
│       │   └── placeholder.blade.php
│       ├── auth
│       │   ├── forgot-password.blade.php
│       │   ├── login.blade.php
│       │   ├── register-organizer.blade.php
│       │   └── register.blade.php
│       ├── components
│       │   └── event-card.blade.php
│       ├── layouts
│       │   ├── app.blade.php
│       │   └── organizer.blade.php
│       ├── organizer
│       │   ├── dashboard
│       │   │   └── index.blade.php
│       │   ├── events
│       │   │   ├── create.blade.php
│       │   │   ├── edit.blade.php
│       │   │   ├── index.blade.php
│       │   │   └── show.blade.php
│       │   └── dashboard.blade.php
│       ├── pages
│       │   ├── checkout
│       │   │   ├── expired.blade.php
│       │   │   ├── failed.blade.php
│       │   │   ├── index.blade.php
│       │   │   ├── payment.blade.php
│       │   │   └── success.blade.php
│       │   ├── events
│       │   │   ├── settings
│       │   │   │   └── index.blade.php
│       │   │   ├── category.blade.php
│       │   │   ├── index.blade.php
│       │   │   └── show.blade.php
│       │   ├── home
│       │   │   └── index.blade.php
│       │   ├── orders
│       │   │   ├── index.blade.php
│       │   │   └── show.blade.php
│       │   ├── organizers
│       │   │   └── show.blade.php
│       │   ├── profile
│       │   │   ├── edit.blade.php
│       │   │   └── index.blade.php
│       │   └── tickets
│       │       ├── index.blade.php
│       │       └── show.blade.php
│       └── pdf
│           └── ticket.blade.php
├── routes
│   ├── admin.php
│   ├── api.php
│   ├── auth.php
│   ├── console.php
│   ├── organizer.php
│   ├── web.php
│   └── webhook.php
├── tests
│   ├── Feature
│   │   └── ExampleTest.php
│   ├── Unit
│   │   └── ExampleTest.php
│   └── TestCase.php
├── composer.json
├── package.json
├── tailwind.config.js
└── vite.config.js


======================================================================
FILE: app/Enums/EventStatus.php (70 lines)
======================================================================
<?php

namespace App\Enums;

enum EventStatus: string
{
    case DRAFT = 'draft';
    case PENDING_REVIEW = 'pending_review';
    case APPROVED = 'approved';
    case PUBLISHED = 'published';
    case CANCELLED = 'cancelled';
    case COMPLETED = 'completed';

    public function label(): string
    {
        return match ($this) {
            self::DRAFT => 'Draft',
            self::PENDING_REVIEW => 'Menunggu Review',
            self::APPROVED => 'Disetujui',
            self::PUBLISHED => 'Dipublikasi',
            self::CANCELLED => 'Dibatalkan',
            self::COMPLETED => 'Selesai',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::DRAFT => 'gray',
            self::PENDING_REVIEW => 'yellow',
            self::APPROVED => 'blue',
            self::PUBLISHED => 'green',
            self::CANCELLED => 'red',
            self::COMPLETED => 'indigo',
        };
    }

    public function icon(): string
    {
        return match ($this) {
            self::DRAFT => 'pencil',
            self::PENDING_REVIEW => 'clock',
            self::APPROVED => 'check',
            self::PUBLISHED => 'globe',
            self::CANCELLED => 'x-circle',
            self::COMPLETED => 'check-circle',
        };
    }

    public static function publicStatuses(): array
    {
        return [self::PUBLISHED, self::COMPLETED];
    }

    public function canEdit(): bool
    {
        return in_array($this, [self::DRAFT, self::PENDING_REVIEW, self::APPROVED]);
    }

    public function canDelete(): bool
    {
        return $this === self::DRAFT;
    }

    public function canPublish(): bool
    {
        return $this === self::APPROVED;
    }
}

======================================================================
FILE: app/Enums/OrderStatus.php (69 lines)
======================================================================
<?php

namespace App\Enums;

enum OrderStatus: string
{
    case PENDING = 'pending';
    case AWAITING_PAYMENT = 'awaiting_payment';
    case PAID = 'paid';
    case COMPLETED = 'completed';
    case EXPIRED = 'expired';
    case CANCELLED = 'cancelled';
    case REFUNDED = 'refunded';

    public function label(): string
    {
        return match ($this) {
            self::PENDING => 'Menunggu',
            self::AWAITING_PAYMENT => 'Menunggu Pembayaran',
            self::PAID => 'Dibayar',
            self::COMPLETED => 'Selesai',
            self::EXPIRED => 'Kedaluwarsa',
            self::CANCELLED => 'Dibatalkan',
            self::REFUNDED => 'Dikembalikan',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::PENDING => 'gray',
            self::AWAITING_PAYMENT => 'yellow',
            self::PAID => 'green',
            self::COMPLETED => 'blue',
            self::EXPIRED => 'red',
            self::CANCELLED => 'red',
            self::REFUNDED => 'orange',
        };
    }

    public function icon(): string
    {
        return match ($this) {
            self::PENDING => 'clock',
            self::AWAITING_PAYMENT => 'credit-card',
            self::PAID => 'check-circle',
            self::COMPLETED => 'badge-check',
            self::EXPIRED => 'x-circle',
            self::CANCELLED => 'ban',
            self::REFUNDED => 'receipt-refund',
        };
    }

    public function isPaid(): bool
    {
        return in_array($this, [self::PAID, self::COMPLETED]);
    }

    public function isFinal(): bool
    {
        return in_array($this, [self::COMPLETED, self::EXPIRED, self::CANCELLED, self::REFUNDED]);
    }

    public function canRefund(): bool
    {
        return in_array($this, [self::PAID, self::COMPLETED]);
    }
}

======================================================================
FILE: app/Enums/PaymentStatus.php (45 lines)
======================================================================
<?php

namespace App\Enums;

enum PaymentStatus: string
{
    case PENDING = 'pending';
    case PAID = 'paid';
    case EXPIRED = 'expired';
    case FAILED = 'failed';
    case REFUNDED = 'refunded';

    public function label(): string
    {
        return match ($this) {
            self::PENDING => 'Menunggu',
            self::PAID => 'Dibayar',
            self::EXPIRED => 'Kedaluwarsa',
            self::FAILED => 'Gagal',
            self::REFUNDED => 'Dikembalikan',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::PENDING => 'yellow',
            self::PAID => 'green',
            self::EXPIRED => 'gray',
            self::FAILED => 'red',
            self::REFUNDED => 'orange',
        };
    }

    public function isSuccessful(): bool
    {
        return $this === self::PAID;
    }

    public function isFinal(): bool
    {
        return in_array($this, [self::PAID, self::EXPIRED, self::FAILED, self::REFUNDED]);
    }
}

======================================================================
FILE: app/Enums/SettlementStatus.php (52 lines)
======================================================================
<?php

namespace App\Enums;

enum SettlementStatus: string
{
    case PENDING = 'pending';
    case PROCESSING = 'processing';
    case TRANSFERRED = 'transferred';
    case FAILED = 'failed';

    public function label(): string
    {
        return match ($this) {
            self::PENDING => 'Menunggu',
            self::PROCESSING => 'Diproses',
            self::TRANSFERRED => 'Ditransfer',
            self::FAILED => 'Gagal',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::PENDING => 'yellow',
            self::PROCESSING => 'blue',
            self::TRANSFERRED => 'green',
            self::FAILED => 'red',
        };
    }

    public function icon(): string
    {
        return match ($this) {
            self::PENDING => 'clock',
            self::PROCESSING => 'arrow-path',
            self::TRANSFERRED => 'check-circle',
            self::FAILED => 'x-circle',
        };
    }

    public function canProcess(): bool
    {
        return $this === self::PENDING;
    }

    public function canRetry(): bool
    {
        return $this === self::FAILED;
    }
}

======================================================================
FILE: app/Enums/TicketType.php (56 lines)
======================================================================
<?php

namespace App\Enums;

enum TicketType: string
{
    case REGULAR = 'regular';
    case VIP = 'vip';
    case BUNDLE = 'bundle';
    case ADDON = 'addon';
    case FREE = 'free';

    public function label(): string
    {
        return match ($this) {
            self::REGULAR => 'Regular',
            self::VIP => 'VIP',
            self::BUNDLE => 'Bundle',
            self::ADDON => 'Add-on',
            self::FREE => 'Gratis',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::REGULAR => 'blue',
            self::VIP => 'purple',
            self::BUNDLE => 'orange',
            self::ADDON => 'teal',
            self::FREE => 'green',
        };
    }

    public function icon(): string
    {
        return match ($this) {
            self::REGULAR => 'ticket',
            self::VIP => 'star',
            self::BUNDLE => 'collection',
            self::ADDON => 'plus-circle',
            self::FREE => 'gift',
        };
    }

    public function isFree(): bool
    {
        return $this === self::FREE;
    }

    public function isPremium(): bool
    {
        return in_array($this, [self::VIP, self::BUNDLE]);
    }
}

======================================================================
FILE: app/Enums/UserRole.php (29 lines)
======================================================================
<?php

namespace App\Enums;

enum UserRole: string
{
    case ADMIN = 'admin';
    case ORGANIZER = 'organizer';
    case USER = 'user';

    public function label(): string
    {
        return match ($this) {
            self::ADMIN => 'Administrator',
            self::ORGANIZER => 'Penyelenggara',
            self::USER => 'Pengguna',
        };
    }

    public function color(): string
    {
        return match ($this) {
            self::ADMIN => 'red',
            self::ORGANIZER => 'blue',
            self::USER => 'gray',
        };
    }
}

======================================================================
FILE: app/Enums/VoucherType.php (40 lines)
======================================================================
<?php

namespace App\Enums;

enum VoucherType: string
{
    case FIXED = 'fixed';
    case PERCENTAGE = 'percentage';

    public function label(): string
    {
        return match ($this) {
            self::FIXED => 'Nominal Tetap',
            self::PERCENTAGE => 'Persentase',
        };
    }

    public function calculateDiscount(int $subtotal, int $value, ?int $maxDiscount = null): int
    {
        $discount = match ($this) {
            self::FIXED => $value,
            self::PERCENTAGE => (int) ceil($subtotal * $value / 100),
        };

        if ($maxDiscount !== null && $discount > $maxDiscount) {
            return $maxDiscount;
        }

        return min($discount, $subtotal);
    }

    public function formatValue(int $value): string
    {
        return match ($this) {
            self::FIXED => 'Rp ' . number_format($value, 0, ',', '.'),
            self::PERCENTAGE => $value . '%',
        };
    }
}

======================================================================
FILE: app/Events/OrderPaid.php (1 lines)
======================================================================


======================================================================
FILE: app/Events/TicketIssued.php (1 lines)
======================================================================


======================================================================
FILE: app/Exceptions/InsufficientTicketException.php (49 lines)
======================================================================
<?php

namespace App\Exceptions;

use Exception;
use Illuminate\Http\Request;
use Illuminate\Http\Response;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\RedirectResponse;

class InsufficientTicketException extends Exception
{
    public function __construct(
        public int $ticketVariantId,
        public int $requested,
        public int $available,
        string $message = null
    ) {
        parent::__construct(
            $message ?? "Stok tiket tidak mencukupi. Diminta: {$requested}, Tersedia: {$available}"
        );
    }

    public function render(Request $request): JsonResponse|RedirectResponse
    {
        if ($request->expectsJson()) {
            return response()->json([
                'error' => 'insufficient_stock',
                'message' => 'Tiket tidak tersedia dalam jumlah yang diminta',
                'details' => [
                    'ticket_variant_id' => $this->ticketVariantId,
                    'requested' => $this->requested,
                    'available' => $this->available,
                ],
            ], Response::HTTP_UNPROCESSABLE_ENTITY);
        }

        return back()->withErrors([
            'ticket' => 'Tiket tidak tersedia dalam jumlah yang diminta. Tersedia: ' . $this->available
        ])->withInput();
    }

    public function report(): bool
    {
        // Don't report to error tracking - this is expected user behavior
        return false;
    }
}

======================================================================
FILE: app/Exceptions/PaymentFailedException.php (52 lines)
======================================================================
<?php

namespace App\Exceptions;

use Exception;
use Illuminate\Http\Request;
use Illuminate\Http\Response;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\RedirectResponse;

class PaymentFailedException extends Exception
{
    public function __construct(
        public ?int $orderId = null,
        public ?string $reason = null,
        string $message = null
    ) {
        parent::__construct($message ?? 'Pembayaran gagal diproses');
    }

    public function render(Request $request): JsonResponse|RedirectResponse
    {
        if ($request->expectsJson()) {
            return response()->json([
                'error' => 'payment_failed',
                'message' => $this->getMessage(),
                'reason' => $this->reason,
            ], Response::HTTP_PAYMENT_REQUIRED);
        }

        if ($this->orderId) {
            return redirect()
                ->route('checkout.failed', ['order' => $this->orderId])
                ->with('error', $this->getMessage());
        }

        return back()->withErrors([
            'payment' => $this->getMessage()
        ]);
    }

    public function report(): void
    {
        // Log payment failures for monitoring
        logger()->channel('payment')->error('Payment failed', [
            'order_id' => $this->orderId,
            'reason' => $this->reason,
            'message' => $this->getMessage(),
        ]);
    }
}

======================================================================
FILE: app/Exceptions/VoucherInvalidException.php (61 lines)
======================================================================
<?php

namespace App\Exceptions;

use Exception;
use Illuminate\Http\Request;
use Illuminate\Http\Response;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\RedirectResponse;

class VoucherInvalidException extends Exception
{
    public const REASON_NOT_FOUND = 'not_found';
    public const REASON_EXPIRED = 'expired';
    public const REASON_USAGE_LIMIT = 'usage_limit';
    public const REASON_USER_LIMIT = 'user_limit';
    public const REASON_MIN_PURCHASE = 'min_purchase';
    public const REASON_NOT_APPLICABLE = 'not_applicable';
    public const REASON_INACTIVE = 'inactive';

    public function __construct(
        public string $code,
        public string $reason = self::REASON_NOT_FOUND,
        string $message = null
    ) {
        $defaultMessages = [
            self::REASON_NOT_FOUND => 'Kode voucher tidak ditemukan',
            self::REASON_EXPIRED => 'Voucher sudah kedaluwarsa',
            self::REASON_USAGE_LIMIT => 'Voucher sudah mencapai batas penggunaan',
            self::REASON_USER_LIMIT => 'Anda sudah mencapai batas penggunaan voucher ini',
            self::REASON_MIN_PURCHASE => 'Minimum pembelian belum tercapai',
            self::REASON_NOT_APPLICABLE => 'Voucher tidak berlaku untuk event ini',
            self::REASON_INACTIVE => 'Voucher tidak aktif',
        ];

        parent::__construct($message ?? ($defaultMessages[$reason] ?? 'Voucher tidak valid'));
    }

    public function render(Request $request): JsonResponse|RedirectResponse
    {
        if ($request->expectsJson()) {
            return response()->json([
                'error' => 'voucher_invalid',
                'message' => $this->getMessage(),
                'reason' => $this->reason,
                'code' => $this->code,
            ], Response::HTTP_UNPROCESSABLE_ENTITY);
        }

        return back()->withErrors([
            'voucher' => $this->getMessage()
        ])->withInput();
    }

    public function report(): bool
    {
        // Don't report to error tracking - this is expected user behavior
        return false;
    }
}

======================================================================
FILE: app/Http/Controllers/Admin/CategoryController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Admin/DashboardController.php (26 lines)
======================================================================
<?php

namespace App\Http\Controllers\Admin;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\Order;
use App\Models\User;
use App\Models\Organizer;
use Illuminate\View\View;

class DashboardController extends Controller
{
    public function index(): View
    {
        $stats = [
            'total_users' => User::count(),
            'total_organizers' => Organizer::count(),
            'total_events' => Event::count(),
            'total_orders' => Order::count(),
        ];

        return view('admin.dashboard.index', compact('stats'));
    }
}

======================================================================
FILE: app/Http/Controllers/Admin/EventController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Admin/SettlementController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Admin/UserController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Admin/VoucherController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Auth/ForgotPasswordController.php (32 lines)
======================================================================
<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Password;
use Illuminate\View\View;

class ForgotPasswordController extends Controller
{
    public function showLinkRequestForm(): View
    {
        return view('auth.forgot-password');
    }

    public function sendResetLinkEmail(Request $request)
    {
        $request->validate([
            'email' => 'required|email',
        ]);

        $status = Password::sendResetLink(
            $request->only('email')
        );

        return $status === Password::RESET_LINK_SENT
            ? back()->with(['status' => __($status)])
            : back()->withErrors(['email' => __($status)]);
    }
}

======================================================================
FILE: app/Http/Controllers/Auth/LoginController.php (44 lines)
======================================================================
<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\View\View;

class LoginController extends Controller
{
    public function showLoginForm(): View
    {
        return view('auth.login');
    }

    public function login(Request $request)
    {
        $credentials = $request->validate([
            'email' => 'required|email',
            'password' => 'required',
        ]);

        if (Auth::attempt($credentials, $request->boolean('remember'))) {
            $request->session()->regenerate();

            return redirect()->intended('/');
        }

        return back()->withErrors([
            'email' => 'Email atau password salah.',
        ])->onlyInput('email');
    }

    public function logout(Request $request)
    {
        Auth::logout();
        $request->session()->invalidate();
        $request->session()->regenerateToken();

        return redirect('/');
    }
}

======================================================================
FILE: app/Http/Controllers/Auth/RegisterController.php (70 lines)
======================================================================
<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use App\Models\User;
use App\Enums\UserRole;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\View\View;

class RegisterController extends Controller
{
    public function showRegistrationForm(): View
    {
        return view('auth.register');
    }

    public function register(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users',
            'password' => 'required|string|min:8|confirmed',
        ]);

        $user = User::create([
            'name' => $request->name,
            'email' => $request->email,
            'password' => Hash::make($request->password),
            'role' => UserRole::USER,
        ]);

        Auth::login($user);

        return redirect('/');
    }

    public function showOrganizerForm(): View
    {
        return view('auth.register-organizer');
    }

    public function registerOrganizer(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users',
            'password' => 'required|string|min:8|confirmed',
            'organizer_name' => 'required|string|max:255',
        ]);

        $user = User::create([
            'name' => $request->name,
            'email' => $request->email,
            'password' => Hash::make($request->password),
            'role' => UserRole::ORGANIZER,
        ]);

        $user->organizer()->create([
            'name' => $request->organizer_name,
        ]);

        Auth::login($user);

        return redirect()->route('organizer.dashboard');
    }
}

======================================================================
FILE: app/Http/Controllers/Auth/ResetPasswordController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Auth/VerifyEmailController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/Controller.php (9 lines)
======================================================================
<?php

namespace App\Http\Controllers;

abstract class Controller
{
    //
}

======================================================================
FILE: app/Http/Controllers/Organizer/AttendeeController.php (95 lines)
======================================================================
<?php

namespace App\Http\Controllers\Organizer;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\IssuedTicket;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\View\View;

class AttendeeController extends Controller
{
    public function index(): View
    {
        $organizer = auth()->user()->organizer;

        $events = Event::where('organizer_id', $organizer->id)
            ->where('status', 'published')
            ->withCount(['issuedTickets', 'issuedTickets as checked_in_count' => function ($query) {
                $query->where('is_used', true);
            }])
            ->orderBy('start_date', 'desc')
            ->get();

        return view('organizer.attendees.index', compact('events'));
    }

    public function event(Event $event, Request $request): View
    {
        $organizer = auth()->user()->organizer;

        if ($event->organizer_id !== $organizer->id) {
            abort(403);
        }

        $query = IssuedTicket::with(['orderItem.order', 'orderItem'])
            ->whereHas('orderItem.order', function ($q) use ($event) {
                $q->where('event_id', $event->id)
                  ->where('status', 'paid');
            });

        if ($request->filled('search')) {
            $query->where(function ($q) use ($request) {
                $q->where('code', 'like', '%' . $request->search . '%')
                  ->orWhere('attendee_name', 'like', '%' . $request->search . '%')
                  ->orWhere('attendee_email', 'like', '%' . $request->search . '%');
            });
        }

        if ($request->filled('status')) {
            if ($request->status === 'checked_in') {
                $query->where('is_used', true);
            } else {
                $query->where('is_used', false);
            }
        }

        $attendees = $query->orderBy('attendee_name')->paginate(20);

        $stats = [
            'total' => IssuedTicket::whereHas('orderItem.order', function ($q) use ($event) {
                $q->where('event_id', $event->id)->where('status', 'paid');
            })->count(),
            'checked_in' => IssuedTicket::whereHas('orderItem.order', function ($q) use ($event) {
                $q->where('event_id', $event->id)->where('status', 'paid');
            })->where('is_used', true)->count(),
        ];

        return view('organizer.attendees.event', compact('event', 'attendees', 'stats'));
    }

    public function checkin(IssuedTicket $ticket): RedirectResponse
    {
        $organizer = auth()->user()->organizer;
        $event = $ticket->orderItem->order->event;

        if ($event->organizer_id !== $organizer->id) {
            abort(403);
        }

        if ($ticket->is_used) {
            return back()->with('error', 'Tiket sudah digunakan pada ' . $ticket->used_at->format('d M Y H:i'));
        }

        $ticket->update([
            'is_used' => true,
            'used_at' => now(),
            'used_by' => auth()->id(),
        ]);

        return back()->with('success', 'Check-in berhasil untuk ' . $ticket->attendee_name);
    }
}

======================================================================
FILE: app/Http/Controllers/Organizer/DashboardController.php (47 lines)
======================================================================
<?php

namespace App\Http\Controllers\Organizer;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\Order;
use App\Enums\OrderStatus;
use Illuminate\View\View;

class DashboardController extends Controller
{
    public function index(): View
    {
        $organizer = auth()->user()->organizer;

        if (!$organizer) {
            abort(403, 'Anda belum terdaftar sebagai organizer');
        }

        $eventIds = Event::where('organizer_id', $organizer->id)->pluck('id');

        $stats = [
            'total_events' => Event::where('organizer_id', $organizer->id)->count(),
            'published_events' => Event::where('organizer_id', $organizer->id)->where('status', 'published')->count(),
            'total_orders' => Order::whereIn('event_id', $eventIds)->count(),
            'total_revenue' => Order::whereIn('event_id', $eventIds)->where('status', OrderStatus::PAID)->sum('subtotal'),
            'total_tickets_sold' => Order::whereIn('event_id', $eventIds)->where('status', OrderStatus::PAID)->withSum('items', 'quantity')->get()->sum('items_sum_quantity'),
        ];

        $recentOrders = Order::with(['event', 'user'])
            ->whereIn('event_id', $eventIds)
            ->latest()
            ->take(5)
            ->get();

        $upcomingEvents = Event::where('organizer_id', $organizer->id)
            ->where('start_date', '>=', now())
            ->where('status', 'published')
            ->orderBy('start_date')
            ->take(5)
            ->get();

        return view('organizer.dashboard', compact('stats', 'recentOrders', 'upcomingEvents', 'organizer'));
    }
}

======================================================================
FILE: app/Http/Controllers/Organizer/EventController.php (300 lines)
======================================================================
<?php

namespace App\Http\Controllers\Organizer;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\Category;
use App\Models\Ticket;
use App\Models\TicketVariant;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Str;
use Illuminate\View\View;

class EventController extends Controller
{
    public function index(Request $request): View
    {
        $organizer = auth()->user()->organizer;

        $query = Event::where('organizer_id', $organizer->id)
            ->withCount(['orders', 'tickets']);

        if ($request->filled('status')) {
            $query->where('status', $request->status);
        }

        if ($request->filled('search')) {
            $query->where('title', 'like', '%' . $request->search . '%');
        }

        $events = $query->latest()->paginate(10);

        return view('organizer.events.index', compact('events'));
    }

    public function create(): View
    {
        $categories = Category::orderBy('name')->get();
        return view('organizer.events.create', compact('categories'));
    }

    public function store(Request $request): RedirectResponse
    {
        $request->validate([
            'title' => 'required|string|max:255',
            'category_id' => 'required|exists:categories,id',
            'description' => 'required|string',
            'short_description' => 'nullable|string|max:500',
            'start_date' => 'required|date|after:today',
            'end_date' => 'required|date|after_or_equal:start_date',
            'start_time' => 'required',
            'end_time' => 'required',
            'venue_name' => 'required|string|max:255',
            'venue_address' => 'required|string|max:500',
            'city' => 'required|string|max:100',
            'province' => 'required|string|max:100',
            'is_online' => 'boolean',
            'online_url' => 'nullable|url|required_if:is_online,true',
            'tickets' => 'required|array|min:1',
            'tickets.*.name' => 'required|string|max:255',
            'tickets.*.description' => 'nullable|string',
            'tickets.*.price' => 'required|numeric|min:0',
            'tickets.*.stock' => 'required|integer|min:1',
        ]);

        $organizer = auth()->user()->organizer;

        try {
            DB::beginTransaction();

            // Create event
            $event = Event::create([
                'organizer_id' => $organizer->id,
                'category_id' => $request->category_id,
                'title' => $request->title,
                'slug' => Str::slug($request->title) . '-' . Str::random(6),
                'description' => $request->description,
                'short_description' => $request->short_description,
                'start_date' => $request->start_date,
                'end_date' => $request->end_date,
                'start_time' => $request->start_time,
                'end_time' => $request->end_time,
                'timezone' => 'Asia/Jakarta',
                'venue_name' => $request->venue_name,
                'venue_address' => $request->venue_address,
                'city' => $request->city,
                'province' => $request->province,
                'is_online' => $request->boolean('is_online'),
                'online_url' => $request->online_url,
                'status' => 'draft',
                'is_free' => collect($request->tickets)->every(fn($t) => $t['price'] == 0),
            ]);

            // Create tickets
            $minPrice = null;
            $maxPrice = null;

            foreach ($request->tickets as $ticketData) {
                $ticket = $event->tickets()->create([
                    'name' => $ticketData['name'],
                    'description' => $ticketData['description'] ?? null,
                    'type' => $ticketData['price'] == 0 ? 'free' : 'paid',
                    'is_active' => true,
                ]);

                $ticket->variants()->create([
                    'name' => null,
                    'price' => $ticketData['price'],
                    'stock' => $ticketData['stock'],
                    'is_active' => true,
                ]);

                if ($minPrice === null || $ticketData['price'] < $minPrice) {
                    $minPrice = $ticketData['price'];
                }
                if ($maxPrice === null || $ticketData['price'] > $maxPrice) {
                    $maxPrice = $ticketData['price'];
                }
            }

            $event->update([
                'min_price' => $minPrice,
                'max_price' => $maxPrice,
            ]);

            // Create event days
            $startDate = \Carbon\Carbon::parse($request->start_date);
            $endDate = \Carbon\Carbon::parse($request->end_date);
            $dayNumber = 1;

            while ($startDate <= $endDate) {
                $event->days()->create([
                    'date' => $startDate->format('Y-m-d'),
                    'day_number' => $dayNumber,
                    'name' => 'Hari ' . $dayNumber,
                    'start_time' => $request->start_time,
                    'end_time' => $request->end_time,
                ]);
                $startDate->addDay();
                $dayNumber++;
            }

            DB::commit();

            return redirect()->route('organizer.events.show', $event)
                ->with('success', 'Event berhasil dibuat');

        } catch (\Exception $e) {
            DB::rollBack();
            return back()->with('error', 'Gagal membuat event: ' . $e->getMessage())->withInput();
        }
    }

    public function show(Event $event): View
    {
        $this->authorizeEvent($event);

        $event->load(['category', 'tickets.variants', 'days']);

        $stats = [
            'total_orders' => $event->orders()->count(),
            'paid_orders' => $event->orders()->where('status', OrderStatus::PAID)->count(),
            'total_revenue' => $event->orders()->where('status', OrderStatus::PAID)->sum('subtotal'),
            'tickets_sold' => $event->orders()->where('status', OrderStatus::PAID)->withSum('items', 'quantity')->get()->sum('items_sum_quantity'),
        ];

        return view('organizer.events.show', compact('event', 'stats'));
    }

    public function edit(Event $event): View
    {
        $this->authorizeEvent($event);

        $categories = Category::orderBy('name')->get();
        $event->load(['tickets.variants']);

        return view('organizer.events.edit', compact('event', 'categories'));
    }

    public function update(Request $request, Event $event): RedirectResponse
    {
        $this->authorizeEvent($event);

        $request->validate([
            'title' => 'required|string|max:255',
            'category_id' => 'required|exists:categories,id',
            'description' => 'required|string',
            'short_description' => 'nullable|string|max:500',
            'start_date' => 'required|date',
            'end_date' => 'required|date|after_or_equal:start_date',
            'start_time' => 'required',
            'end_time' => 'required',
            'venue_name' => 'required|string|max:255',
            'venue_address' => 'required|string|max:500',
            'city' => 'required|string|max:100',
            'province' => 'required|string|max:100',
        ]);

        $event->update([
            'category_id' => $request->category_id,
            'title' => $request->title,
            'description' => $request->description,
            'short_description' => $request->short_description,
            'start_date' => $request->start_date,
            'end_date' => $request->end_date,
            'start_time' => $request->start_time,
            'end_time' => $request->end_time,
            'venue_name' => $request->venue_name,
            'venue_address' => $request->venue_address,
            'city' => $request->city,
            'province' => $request->province,
            'is_online' => $request->boolean('is_online'),
            'online_url' => $request->online_url,
        ]);

        return redirect()->route('organizer.events.show', $event)
            ->with('success', 'Event berhasil diperbarui');
    }

    public function destroy(Event $event): RedirectResponse
    {
        $this->authorizeEvent($event);

        if ($event->orders()->exists()) {
            return back()->with('error', 'Event tidak dapat dihapus karena sudah ada pesanan');
        }

        $event->delete();

        return redirect()->route('organizer.events.index')
            ->with('success', 'Event berhasil dihapus');
    }

    public function publish(Event $event): RedirectResponse
    {
        $this->authorizeEvent($event);

        $event->update([
            'status' => 'published',
            'published_at' => now(),
        ]);

        return back()->with('success', 'Event berhasil dipublikasikan');
    }

    public function unpublish(Event $event): RedirectResponse
    {
        $this->authorizeEvent($event);

        $event->update([
            'status' => 'draft',
            'published_at' => null,
        ]);

        return back()->with('success', 'Event berhasil di-unpublish');
    }

    public function duplicate(Event $event): RedirectResponse
    {
        $this->authorizeEvent($event);

        $newEvent = $event->replicate();
        $newEvent->title = $event->title . ' (Copy)';
        $newEvent->slug = Str::slug($newEvent->title) . '-' . Str::random(6);
        $newEvent->status = 'draft';
        $newEvent->published_at = null;
        $newEvent->views_count = 0;
        $newEvent->save();

        // Duplicate tickets
        foreach ($event->tickets as $ticket) {
            $newTicket = $ticket->replicate();
            $newTicket->event_id = $newEvent->id;
            $newTicket->save();

            foreach ($ticket->variants as $variant) {
                $newVariant = $variant->replicate();
                $newVariant->ticket_id = $newTicket->id;
                $newVariant->sold_count = 0;
                $newVariant->reserved_count = 0;
                $newVariant->save();
            }
        }

        return redirect()->route('organizer.events.edit', $newEvent)
            ->with('success', 'Event berhasil diduplikasi');
    }

    protected function authorizeEvent(Event $event): void
    {
        $organizer = auth()->user()->organizer;

        if (!$organizer || $event->organizer_id !== $organizer->id) {
            abort(403);
        }
    }
}

======================================================================
FILE: app/Http/Controllers/Organizer/OrderController.php (59 lines)
======================================================================
<?php

namespace App\Http\Controllers\Organizer;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\Order;
use Illuminate\Http\Request;
use Illuminate\View\View;

class OrderController extends Controller
{
    public function index(Request $request): View
    {
        $organizer = auth()->user()->organizer;
        $eventIds = Event::where('organizer_id', $organizer->id)->pluck('id');

        $query = Order::with(['event', 'user', 'items'])
            ->whereIn('event_id', $eventIds);

        if ($request->filled('event_id')) {
            $query->where('event_id', $request->event_id);
        }

        if ($request->filled('status')) {
            $query->where('status', $request->status);
        }

        if ($request->filled('search')) {
            $query->where(function ($q) use ($request) {
                $q->where('order_number', 'like', '%' . $request->search . '%')
                  ->orWhere('customer_name', 'like', '%' . $request->search . '%')
                  ->orWhere('customer_email', 'like', '%' . $request->search . '%');
            });
        }

        $orders = $query->latest()->paginate(15);

        $events = Event::where('organizer_id', $organizer->id)
            ->orderBy('title')
            ->get();

        return view('organizer.orders.index', compact('orders', 'events'));
    }

    public function show(Order $order): View
    {
        $organizer = auth()->user()->organizer;

        if ($order->event->organizer_id !== $organizer->id) {
            abort(403);
        }

        $order->load(['event', 'user', 'items.ticket', 'items.ticketVariant', 'issuedTickets']);

        return view('organizer.orders.show', compact('order'));
    }
}

======================================================================
FILE: app/Http/Controllers/Organizer/ProfileController.php (39 lines)
======================================================================
<?php

namespace App\Http\Controllers\Organizer;

use App\Http\Controllers\Controller;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\View\View;

class ProfileController extends Controller
{
    public function index(): View
    {
        $organizer = auth()->user()->organizer;
        return view('organizer.settings.index', compact('organizer'));
    }

    public function update(Request $request): RedirectResponse
    {
        $organizer = auth()->user()->organizer;

        $request->validate([
            'name' => 'required|string|max:255',
            'description' => 'nullable|string',
            'email' => 'required|email|max:255',
            'phone' => 'nullable|string|max:20',
            'website' => 'nullable|url|max:255',
            'instagram' => 'nullable|string|max:100',
            'address' => 'nullable|string|max:500',
        ]);

        $organizer->update($request->only([
            'name', 'description', 'email', 'phone', 'website', 'instagram', 'address'
        ]));

        return back()->with('success', 'Pengaturan organizer berhasil diperbarui');
    }
}

======================================================================
FILE: app/Http/Controllers/Organizer/TicketController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Controllers/User/CheckoutController.php (277 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use App\Models\Event;
use App\Models\Order;
use App\Models\OrderItem;
use App\Models\TicketVariant;
use App\Enums\OrderStatus;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;
use Illuminate\View\View;

class CheckoutController extends Controller
{
    public function index(Event $event): View|RedirectResponse
    {
        if (!$event->isPublished()) {
            abort(404);
        }

        if ($event->isPast()) {
            return redirect()->route('events.show', $event)
                ->with('error', 'Event sudah berakhir');
        }

        $event->load(['tickets.variants' => function ($query) {
            $query->where('is_active', true);
        }, 'days']);

        return view('pages.checkout.index', compact('event'));
    }

    public function store(Request $request, Event $event): RedirectResponse
    {
        $request->validate([
            'tickets' => 'required|array|min:1',
            'tickets.*.variant_id' => 'required|exists:ticket_variants,id',
            'tickets.*.quantity' => 'required|integer|min:0|max:10',
            'voucher_code' => 'nullable|string|max:50',
            'customer_name' => 'required|string|max:255',
            'customer_email' => 'required|email|max:255',
            'customer_phone' => 'required|string|max:20',
        ]);

        $selectedTickets = collect($request->tickets)->filter(fn($t) => $t['quantity'] > 0);

        if ($selectedTickets->isEmpty()) {
            return back()->with('error', 'Pilih minimal 1 tiket');
        }

        try {
            DB::beginTransaction();

            $orderItems = [];
            $subtotal = 0;

            foreach ($selectedTickets as $ticketData) {
                $variant = TicketVariant::with('ticket')->findOrFail($ticketData['variant_id']);

                if ($variant->ticket->event_id !== $event->id) {
                    throw new \Exception('Tiket tidak valid untuk event ini');
                }

                $available = $variant->stock - $variant->sold_count - $variant->reserved_count;
                if ($ticketData['quantity'] > $available) {
                    throw new \Exception("Tiket {$variant->ticket->name} tidak cukup tersedia");
                }

                $variant->increment('reserved_count', $ticketData['quantity']);

                $itemSubtotal = $variant->price * $ticketData['quantity'];
                $subtotal += $itemSubtotal;

                $orderItems[] = [
                    'variant' => $variant,
                    'quantity' => $ticketData['quantity'],
                    'price' => $variant->price,
                    'subtotal' => $itemSubtotal,
                ];
            }

            $platformFee = 0;
            $paymentFee = (int) ceil($subtotal * 0.025);
            $discount = 0;
            $voucherId = null;
            $total = $subtotal + $paymentFee - $discount;

            $order = Order::create([
                'user_id' => auth()->id(),
                'event_id' => $event->id,
                'voucher_id' => $voucherId,
                'order_number' => $this->generateOrderNumber(),
                'status' => OrderStatus::PENDING,
                'subtotal' => $subtotal,
                'discount' => $discount,
                'platform_fee' => $platformFee,
                'payment_fee' => $paymentFee,
                'total' => $total,
                'customer_name' => $request->customer_name,
                'customer_email' => $request->customer_email,
                'customer_phone' => $request->customer_phone,
                'expires_at' => now()->addMinutes(15),
            ]);

            foreach ($orderItems as $item) {
                OrderItem::create([
                    'order_id' => $order->id,
                    'ticket_id' => $item['variant']->ticket_id,
                    'ticket_variant_id' => $item['variant']->id,
                    'ticket_name' => $item['variant']->ticket->name,
                    'variant_name' => $item['variant']->name,
                    'quantity' => $item['quantity'],
                    'unit_price' => $item['price'],
                    'subtotal' => $item['subtotal'],
                ]);
            }

            DB::commit();

            return redirect()->route('checkout.payment', $order);

        } catch (\Exception $e) {
            DB::rollBack();
            return back()->with('error', $e->getMessage())->withInput();
        }
    }

    public function payment(Order $order): View|RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $status = $order->status instanceof OrderStatus ? $order->status->value : $order->status;

        if ($status !== 'pending') {
            return redirect()->route('orders.show', $order);
        }

        // Cek expired
        if ($order->expires_at && $order->expires_at->isPast()) {
            return redirect()->route('checkout.expired', $order);
        }

        $order->load(['event', 'items.ticket', 'items.ticketVariant']);

        return view('pages.checkout.payment', compact('order'));
    }

    public function processPayment(Request $request, Order $order): RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $status = $order->status instanceof OrderStatus ? $order->status->value : $order->status;

        if ($status !== 'pending') {
            return redirect()->route('orders.show', $order);
        }

        try {
            DB::beginTransaction();

            $order->update([
                'status' => OrderStatus::PAID,
                'paid_at' => now(),
            ]);

            foreach ($order->items as $item) {
                if ($item->ticketVariant) {
                    $item->ticketVariant->decrement('reserved_count', $item->quantity);
                    $item->ticketVariant->increment('sold_count', $item->quantity);
                }
            }

            $this->generateIssuedTickets($order);

            DB::commit();

            return redirect()->route('checkout.success', $order);

        } catch (\Exception $e) {
            DB::rollBack();
            return redirect()->route('checkout.failed', $order)
                ->with('error', $e->getMessage());
        }
    }

    public function success(Order $order): View|RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $order->load(['event', 'items', 'issuedTickets.orderItem']);

        return view('pages.checkout.success', compact('order'));
    }

    public function failed(Order $order): View|RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $order->load(['event']);

        return view('pages.checkout.failed', compact('order'));
    }

    public function expired(Order $order): View|RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $status = $order->status instanceof OrderStatus ? $order->status->value : $order->status;

        if ($status === 'pending') {
            $this->releaseReservedTickets($order);
            $order->update(['status' => OrderStatus::EXPIRED]);
        }

        $order->load(['event']);

        return view('pages.checkout.expired', compact('order'));
    }

    protected function generateOrderNumber(): string
    {
        $prefix = 'NGE';
        $date = now()->format('Ymd');
        $random = strtoupper(substr(uniqid(), -6));

        return "{$prefix}{$date}{$random}";
    }

    protected function generateIssuedTickets(Order $order): void
    {
        foreach ($order->items as $item) {
            for ($i = 0; $i < $item->quantity; $i++) {
                $order->issuedTickets()->create([
                    'user_id' => $order->user_id,
                    'order_item_id' => $item->id,
                    'code' => $this->generateTicketCode(),
                    'attendee_name' => $order->customer_name,
                    'attendee_email' => $order->customer_email,
                    'attendee_phone' => $order->customer_phone,
                    'status' => 'active',
                ]);
            }
        }
    }

    protected function generateTicketCode(): string
    {
        do {
            $code = strtoupper(substr(md5(uniqid(mt_rand(), true)), 0, 12));
        } while (\App\Models\IssuedTicket::where('code', $code)->exists());

        return $code;
    }

    protected function releaseReservedTickets(Order $order): void
    {
        foreach ($order->items as $item) {
            if ($item->ticketVariant) {
                $item->ticketVariant->decrement('reserved_count', $item->quantity);
            }
        }
    }
}

======================================================================
FILE: app/Http/Controllers/User/EventController.php (81 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use App\Models\Category;
use App\Models\Event;
use App\Models\Organizer;
use Illuminate\Http\Request;
use Illuminate\View\View;

class EventController extends Controller
{
    public function index(Request $request): View
    {
        $query = Event::with(['organizer', 'category'])
            ->published()
            ->upcoming();

        if ($request->filled('category')) {
            $query->where('category_id', $request->category);
        }

        if ($request->filled('city')) {
            $query->where('city', $request->city);
        }

        if ($request->filled('search')) {
            $query->search($request->search);
        }

        $events = $query->orderBy('start_date')->paginate(12);
        $categories = Category::active()->ordered()->get();

        return view('pages.events.index', compact('events', 'categories'));
    }

    public function show(Event $event): View
    {
        if (!$event->isPublished()) {
            abort(404);
        }

        $event->load(['organizer.socialLinks', 'category', 'subcategories', 'days', 'tickets.variants']);
        $event->incrementViews();

        $relatedEvents = Event::with(['organizer', 'category'])
            ->published()
            ->upcoming()
            ->where('category_id', $event->category_id)
            ->where('id', '!=', $event->id)
            ->limit(4)
            ->get();

        return view('pages.events.show', compact('event', 'relatedEvents'));
    }

    public function category(Category $category): View
    {
        $events = Event::with(['organizer', 'category'])
            ->published()
            ->upcoming()
            ->where('category_id', $category->id)
            ->orderBy('start_date')
            ->paginate(12);

        return view('pages.events.category', compact('category', 'events'));
    }

    public function organizer(Organizer $organizer): View
    {
        $events = Event::with(['category'])
            ->published()
            ->where('organizer_id', $organizer->id)
            ->orderBy('start_date', 'desc')
            ->paginate(12);

        return view('pages.organizers.show', compact('organizer', 'events'));
    }
}

======================================================================
FILE: app/Http/Controllers/User/HomeController.php (37 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use App\Models\Category;
use App\Models\Event;
use Illuminate\View\View;

class HomeController extends Controller
{
    public function index(): View
    {
        $categories = Category::active()
            ->ordered()
            ->withCount(['events' => fn($q) => $q->where('status', 'published')])
            ->get();

        $featuredEvents = Event::with(['organizer', 'category'])
            ->published()
            ->upcoming()
            ->where('is_featured', true)
            ->orderBy('start_date')
            ->limit(6)
            ->get();

        $upcomingEvents = Event::with(['organizer', 'category'])
            ->published()
            ->upcoming()
            ->orderBy('start_date')
            ->limit(8)
            ->get();

        return view('pages.home.index', compact('categories', 'featuredEvents', 'upcomingEvents'));
    }
}

======================================================================
FILE: app/Http/Controllers/User/OrderController.php (64 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use App\Models\Order;
use App\Enums\OrderStatus;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\View\View;

class OrderController extends Controller
{
    public function index(Request $request): View
    {
        $orders = Order::with(['event', 'items'])
            ->where('user_id', auth()->id())
            ->latest()
            ->paginate(10);

        return view('pages.orders.index', compact('orders'));
    }

    public function show(Order $order): View
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        $order->load(['event', 'items.ticket', 'items.ticketVariant', 'issuedTickets.orderItem']);

        return view('pages.orders.show', compact('order'));
    }

    public function cancel(Request $request, Order $order): RedirectResponse
    {
        if ($order->user_id !== auth()->id()) {
            abort(403);
        }

        // Cek status - convert enum ke string jika perlu
        $status = $order->status instanceof OrderStatus ? $order->status->value : $order->status;

        if ($status !== 'pending') {
            return back()->with('error', 'Pesanan tidak dapat dibatalkan');
        }

        // Release reserved tickets
        foreach ($order->items as $item) {
            if ($item->ticketVariant) {
                $item->ticketVariant->decrement('reserved_count', $item->quantity);
            }
        }

        $order->update([
            'status' => OrderStatus::CANCELLED,
            'cancelled_at' => now(),
            'cancellation_reason' => 'Dibatalkan oleh user',
        ]);

        return redirect()->route('orders.index')->with('success', 'Pesanan berhasil dibatalkan');
    }
}

======================================================================
FILE: app/Http/Controllers/User/ProfileController.php (63 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rule;
use Illuminate\View\View;

class ProfileController extends Controller
{
    public function index(): View
    {
        return view('pages.profile.index');
    }

    public function edit(): View
    {
        return view('pages.profile.edit');
    }

    public function update(Request $request): RedirectResponse
    {
        $user = auth()->user();

        $request->validate([
            'name' => 'required|string|max:255',
            'email' => [
                'required',
                'string',
                'email',
                'max:255',
                Rule::unique('users')->ignore($user->id),
            ],
            'phone' => 'nullable|string|max:20',
        ]);

        $user->update([
            'name' => $request->name,
            'email' => $request->email,
            'phone' => $request->phone,
        ]);

        return back()->with('success', 'Profil berhasil diperbarui');
    }

    public function updatePassword(Request $request): RedirectResponse
    {
        $request->validate([
            'current_password' => 'required|current_password',
            'password' => 'required|string|min:8|confirmed',
        ]);

        auth()->user()->update([
            'password' => Hash::make($request->password),
        ]);

        return back()->with('success', 'Password berhasil diubah');
    }
}

======================================================================
FILE: app/Http/Controllers/User/TicketController.php (53 lines)
======================================================================
<?php

namespace App\Http\Controllers\User;

use App\Http\Controllers\Controller;
use App\Models\IssuedTicket;
use Barryvdh\DomPDF\Facade\Pdf;
use Illuminate\View\View;

class TicketController extends Controller
{
    public function index(): View
    {
        $tickets = IssuedTicket::with(['orderItem.order.event', 'orderItem'])
            ->where('user_id', auth()->id())
            ->latest()
            ->paginate(10);

        return view('pages.tickets.index', compact('tickets'));
    }

    public function show(string $code): View
    {
        $ticket = IssuedTicket::with(['orderItem.order.event', 'orderItem'])
            ->where('code', $code)
            ->firstOrFail();

        if ($ticket->user_id !== auth()->id()) {
            abort(403);
        }

        return view('pages.tickets.show', compact('ticket'));
    }

    public function download(string $code)
    {
        $ticket = IssuedTicket::with(['orderItem.order.event', 'orderItem.order'])
            ->where('code', $code)
            ->firstOrFail();

        if ($ticket->user_id !== auth()->id()) {
            abort(403);
        }

        // Generate QR Code tanpa imagick (tidak pakai QR untuk PDF, tampilkan code saja)
        $pdf = Pdf::loadView('pdf.ticket', compact('ticket'));

        $pdf->setPaper('a5', 'landscape');

        return $pdf->download("ticket-{$ticket->code}.pdf");
    }
}

======================================================================
FILE: app/Http/Controllers/Webhook/XenditController.php (1 lines)
======================================================================


======================================================================
FILE: app/Http/Middleware/AdminMiddleware.php (24 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class AdminMiddleware
{
    public function handle(Request $request, Closure $next): Response
    {
        if (!auth()->check()) {
            return redirect()->route('login');
        }

        if (!auth()->user()->isAdmin()) {
            abort(403, 'Anda tidak memiliki akses sebagai admin');
        }

        return $next($request);
    }
}

======================================================================
FILE: app/Http/Middleware/EnsureUserIsAdmin.php (24 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class EnsureUserIsAdmin
{
    public function handle(Request $request, Closure $next): Response
    {
        if (!auth()->check()) {
            return redirect()->route('login');
        }

        if (!auth()->user()->isAdmin()) {
            abort(403, 'Anda tidak memiliki akses sebagai admin');
        }

        return $next($request);
    }
}

======================================================================
FILE: app/Http/Middleware/EnsureUserIsOrganizer.php (32 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class EnsureUserIsOrganizer
{
    public function handle(Request $request, Closure $next): Response
    {
        if (!auth()->check()) {
            return redirect()->route('login');
        }

        $user = auth()->user();

        // Admin juga bisa akses organizer dashboard
        if (!$user->isOrganizer() && !$user->isAdmin()) {
            abort(403, 'Anda tidak memiliki akses sebagai organizer');
        }

        // Cek apakah user punya data organizer
        if (!$user->organizer && !$user->isAdmin()) {
            abort(403, 'Anda belum terdaftar sebagai organizer. Silakan daftar sebagai organizer terlebih dahulu.');
        }

        return $next($request);
    }
}

======================================================================
FILE: app/Http/Middleware/OrganizerMiddleware.php (28 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class OrganizerMiddleware
{
    public function handle(Request $request, Closure $next): Response
    {
        if (!auth()->check()) {
            return redirect()->route('login');
        }

        if (!auth()->user()->isOrganizer() && !auth()->user()->isAdmin()) {
            abort(403, 'Anda tidak memiliki akses sebagai organizer');
        }

        if (!auth()->user()->organizer) {
            abort(403, 'Anda belum terdaftar sebagai organizer');
        }

        return $next($request);
    }
}

======================================================================
FILE: app/Http/Middleware/ThrottleCheckout.php (39 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Cache\RateLimiter;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class ThrottleCheckout
{
    public function __construct(
        protected RateLimiter $limiter
    ) {}

    public function handle(Request $request, Closure $next): Response
    {
        $key = 'checkout:' . ($request->user()?->id ?? $request->ip());

        if ($this->limiter->tooManyAttempts($key, 5)) {
            $seconds = $this->limiter->availableIn($key);

            if ($request->expectsJson()) {
                return response()->json([
                    'message' => 'Terlalu banyak percobaan. Coba lagi dalam ' . $seconds . ' detik.',
                ], 429);
            }

            return back()->withErrors([
                'checkout' => 'Terlalu banyak percobaan checkout. Silakan coba lagi dalam ' . $seconds . ' detik.'
            ]);
        }

        $this->limiter->hit($key, 60); // 5 attempts per minute

        return $next($request);
    }
}

======================================================================
FILE: app/Http/Middleware/XenditWebhookSignature.php (29 lines)
======================================================================
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Log;
use Symfony\Component\HttpFoundation\Response;

class XenditWebhookSignature
{
    public function handle(Request $request, Closure $next): Response
    {
        $callbackToken = $request->header('x-callback-token');
        $expectedToken = config('xendit.webhook_token');

        if (!$callbackToken || $callbackToken !== $expectedToken) {
            Log::channel('webhook')->warning('Invalid Xendit webhook signature', [
                'ip' => $request->ip(),
                'token_provided' => !empty($callbackToken),
            ]);

            return response()->json(['error' => 'Invalid signature'], 401);
        }

        return $next($request);
    }
}

======================================================================
FILE: app/Jobs/ExpireUnpaidOrders.php (1 lines)
======================================================================


======================================================================
FILE: app/Jobs/GenerateETicket.php (1 lines)
======================================================================


======================================================================
FILE: app/Jobs/SendOrderConfirmation.php (1 lines)
======================================================================


======================================================================
FILE: app/Listeners/SendTicketEmail.php (1 lines)
======================================================================


======================================================================
FILE: app/Listeners/UpdateTicketStock.php (1 lines)
======================================================================


======================================================================
FILE: app/Models/Category.php (72 lines)
======================================================================
<?php

namespace App\Models;

use App\Traits\HasSlug;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Category extends Model
{
    use HasFactory, HasSlug;

    protected $fillable = [
        'name',
        'slug',
        'description',
        'icon',
        'color',
        'sort_order',
        'is_active',
    ];

    protected function casts(): array
    {
        return [
            'is_active' => 'boolean',
            'sort_order' => 'integer',
        ];
    }

    protected function slugSource(): string
    {
        return 'name';
    }

    public function getRouteKeyName(): string
    {
        return 'slug';
    }

    public function subcategories(): HasMany
    {
        return $this->hasMany(Subcategory::class)->orderBy('name');
    }

    public function activeSubcategories(): HasMany
    {
        return $this->subcategories()->where('is_active', true);
    }

    public function events(): HasMany
    {
        return $this->hasMany(Event::class);
    }

    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    public function scopeOrdered($query)
    {
        return $query->orderBy('sort_order')->orderBy('name');
    }

    public function getEventsCountAttribute(): int
    {
        return $this->events()->where('status', 'published')->count();
    }
}

======================================================================
FILE: app/Models/Event.php (344 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\EventStatus;
use App\Traits\HasSlug;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\BelongsToMany;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\Relations\HasOne;

class Event extends Model
{
    use HasFactory, HasSlug;

    protected $fillable = [
        'organizer_id',
        'category_id',
        'title',
        'slug',
        'description',
        'short_description',
        'poster',
        'banner',
        'gallery',
        'start_date',
        'end_date',
        'start_time',
        'end_time',
        'timezone',
        'venue_name',
        'venue_address',
        'city',
        'province',
        'postal_code',
        'latitude',
        'longitude',
        'is_online',
        'online_url',
        'status',
        'is_featured',
        'is_free',
        'min_price',
        'max_price',
        'proposal_file',
        'admin_notes',
        'rejection_reason',
        'published_at',
        'approved_at',
        'approved_by',
        'views_count',
    ];

    protected function casts(): array
    {
        return [
            'status' => EventStatus::class,
            'start_date' => 'date',
            'end_date' => 'date',
            'gallery' => 'array',
            'is_featured' => 'boolean',
            'is_free' => 'boolean',
            'is_online' => 'boolean',
            'latitude' => 'decimal:8',
            'longitude' => 'decimal:8',
            'published_at' => 'datetime',
            'approved_at' => 'datetime',
            'min_price' => 'integer',
            'max_price' => 'integer',
            'views_count' => 'integer',
        ];
    }

    protected function slugSource(): string
    {
        return 'title';
    }

    public function getRouteKeyName(): string
    {
        return 'slug';
    }

    // Relationships
    public function organizer(): BelongsTo
    {
        return $this->belongsTo(Organizer::class);
    }

    public function category(): BelongsTo
    {
        return $this->belongsTo(Category::class);
    }

    public function subcategories(): BelongsToMany
    {
        return $this->belongsToMany(Subcategory::class, 'event_subcategory');
    }

    public function days(): HasMany
    {
        return $this->hasMany(EventDay::class)->orderBy('date');
    }

    public function tickets(): HasMany
    {
        return $this->hasMany(Ticket::class)->orderBy('sort_order');
    }

    public function orders(): HasMany
    {
        return $this->hasMany(Order::class);
    }

    public function settlement(): HasOne
    {
        return $this->hasOne(Settlement::class);
    }

    public function approvedBy(): BelongsTo
    {
        return $this->belongsTo(User::class, 'approved_by');
    }

    // Scopes
    public function scopePublished($query)
    {
        return $query->where('status', EventStatus::PUBLISHED);
    }

    public function scopeUpcoming($query)
    {
        return $query->where('start_date', '>=', now()->toDateString());
    }

    public function scopePast($query)
    {
        return $query->where('end_date', '<', now()->toDateString());
    }

    public function scopeFeatured($query)
    {
        return $query->where('is_featured', true);
    }

    public function scopeInCity($query, string $city)
    {
        return $query->where('city', $city);
    }

    public function scopeInCategory($query, $categoryId)
    {
        return $query->where('category_id', $categoryId);
    }

    public function scopeSearch($query, string $search)
    {
        return $query->where(function ($q) use ($search) {
            $q->where('title', 'like', "%{$search}%")
              ->orWhere('description', 'like', "%{$search}%")
              ->orWhere('venue_name', 'like', "%{$search}%")
              ->orWhere('city', 'like', "%{$search}%");
        });
    }

    // Status Checks
    public function isPublished(): bool
    {
        return $this->status === EventStatus::PUBLISHED;
    }

    public function isDraft(): bool
    {
        return $this->status === EventStatus::DRAFT;
    }

    public function isPendingReview(): bool
    {
        return $this->status === EventStatus::PENDING_REVIEW;
    }

    public function isCompleted(): bool
    {
        return $this->status === EventStatus::COMPLETED;
    }

    public function isCancelled(): bool
    {
        return $this->status === EventStatus::CANCELLED;
    }

    public function isMultiDay(): bool
    {
        return !$this->start_date->eq($this->end_date);
    }

    public function isUpcoming(): bool
    {
        return $this->start_date->isFuture() || $this->start_date->isToday();
    }

    public function isOngoing(): bool
    {
        return $this->start_date->isPast() && $this->end_date->isFuture();
    }

    public function isPast(): bool
    {
        return $this->end_date->isPast();
    }

    public function hasOrders(): bool
    {
        return $this->orders()->exists();
    }

    public function hasPaidOrders(): bool
    {
        return $this->orders()->whereIn('status', ['paid', 'completed'])->exists();
    }

    // Accessors
    public function getPosterUrlAttribute(): string
    {
        if ($this->poster) {
            return asset('storage/' . $this->poster);
        }

        return asset('images/default-event-poster.jpg');
    }

    public function getBannerUrlAttribute(): ?string
    {
        return $this->banner ? asset('storage/' . $this->banner) : null;
    }

    public function getFormattedDateAttribute(): string
    {
        if ($this->isMultiDay()) {
            if ($this->start_date->month === $this->end_date->month) {
                return $this->start_date->format('d') . ' - ' . $this->end_date->format('d M Y');
            }
            return $this->start_date->format('d M') . ' - ' . $this->end_date->format('d M Y');
        }

        return $this->start_date->format('d M Y');
    }

    public function getFormattedTimeAttribute(): ?string
    {
        if (!$this->start_time) {
            return null;
        }

        $start = \Carbon\Carbon::parse($this->start_time)->format('H:i');

        if ($this->end_time) {
            $end = \Carbon\Carbon::parse($this->end_time)->format('H:i');
            return "{$start} - {$end} WIB";
        }

        return "{$start} WIB";
    }

    public function getFormattedLocationAttribute(): string
    {
        $parts = array_filter([$this->venue_name, $this->city]);
        return implode(', ', $parts) ?: 'Online Event';
    }

    public function getLowestPriceAttribute(): int
    {
        return $this->tickets()
            ->join('ticket_variants', 'tickets.id', '=', 'ticket_variants.ticket_id')
            ->where('ticket_variants.is_active', true)
            ->min('ticket_variants.price') ?? 0;
    }

    public function getHighestPriceAttribute(): int
    {
        return $this->tickets()
            ->join('ticket_variants', 'tickets.id', '=', 'ticket_variants.ticket_id')
            ->where('ticket_variants.is_active', true)
            ->max('ticket_variants.price') ?? 0;
    }

    public function getFormattedPriceAttribute(): string
    {
        if ($this->is_free) {
            return 'Gratis';
        }

        $lowest = $this->lowest_price;
        $highest = $this->highest_price;

        if ($lowest === $highest) {
            return 'Rp ' . number_format($lowest, 0, ',', '.');
        }

        return 'Rp ' . number_format($lowest, 0, ',', '.') . ' - Rp ' . number_format($highest, 0, ',', '.');
    }

    // Stats
    public function getTotalTicketsSoldAttribute(): int
    {
        return $this->orders()
            ->whereIn('status', ['paid', 'completed'])
            ->join('order_items', 'orders.id', '=', 'order_items.order_id')
            ->sum('order_items.quantity');
    }

    public function getTotalRevenueAttribute(): int
    {
        return $this->orders()
            ->whereIn('status', ['paid', 'completed'])
            ->sum('subtotal');
    }

    public function getAvailableTicketsCountAttribute(): int
    {
        return $this->tickets()
            ->join('ticket_variants', 'tickets.id', '=', 'ticket_variants.ticket_id')
            ->where('ticket_variants.is_active', true)
            ->selectRaw('SUM(ticket_variants.stock - ticket_variants.sold_count - ticket_variants.reserved_count) as available')
            ->value('available') ?? 0;
    }

    // Methods
    public function incrementViews(): void
    {
        $this->increment('views_count');
    }

    public function updatePriceRange(): void
    {
        $this->update([
            'min_price' => $this->lowest_price,
            'max_price' => $this->highest_price,
        ]);
    }
}

======================================================================
FILE: app/Models/EventDay.php (89 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class EventDay extends Model
{
    use HasFactory;

    protected $fillable = [
        'event_id',
        'date',
        'name',
        'start_time',
        'end_time',
        'description',
    ];

    protected function casts(): array
    {
        return [
            'date' => 'date',
        ];
    }

    // Relationships
    public function event(): BelongsTo
    {
        return $this->belongsTo(Event::class);
    }

    public function ticketVariants(): HasMany
    {
        return $this->hasMany(TicketVariant::class);
    }

    // Accessors
    public function getFormattedDateAttribute(): string
    {
        return $this->date->translatedFormat('l, d F Y');
    }

    public function getShortDateAttribute(): string
    {
        return $this->date->format('d M');
    }

    public function getDayNameAttribute(): string
    {
        return $this->name ?: $this->date->translatedFormat('l');
    }

    public function getFormattedTimeAttribute(): ?string
    {
        if (!$this->start_time) {
            return null;
        }
        
        $start = \Carbon\Carbon::parse($this->start_time)->format('H:i');
        
        if ($this->end_time) {
            $end = \Carbon\Carbon::parse($this->end_time)->format('H:i');
            return "{$start} - {$end}";
        }
        
        return $start;
    }

    // Checks
    public function isPast(): bool
    {
        return $this->date->isPast();
    }

    public function isToday(): bool
    {
        return $this->date->isToday();
    }

    public function isFuture(): bool
    {
        return $this->date->isFuture();
    }
}

======================================================================
FILE: app/Models/IssuedTicket.php (153 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use SimpleSoftwareIO\QrCode\Facades\QrCode;
use Illuminate\Support\Str;

class IssuedTicket extends Model
{
    use HasFactory;

    protected $fillable = [
        'order_item_id',
        'user_id',
        'code',
        'qr_code',
        'attendee_name',
        'attendee_email',
        'attendee_phone',
        'is_used',
        'used_at',
        'used_by',
        'check_in_notes',
    ];

    protected function casts(): array
    {
        return [
            'is_used' => 'boolean',
            'used_at' => 'datetime',
        ];
    }

    // Relationships
    public function orderItem(): BelongsTo
    {
        return $this->belongsTo(OrderItem::class);
    }

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }

    public function usedByUser(): BelongsTo
    {
        return $this->belongsTo(User::class, 'used_by');
    }

    // Accessors
    public function getEventAttribute(): ?Event
    {
        return $this->orderItem?->order?->event;
    }

    public function getTicketAttribute(): ?Ticket
    {
        return $this->orderItem?->ticket;
    }

    public function getTicketVariantAttribute(): ?TicketVariant
    {
        return $this->orderItem?->ticketVariant;
    }

    public function getQrCodeImageAttribute(): string
    {
        return 'data:image/svg+xml;base64,' . base64_encode(
            QrCode::format('svg')
                ->size(200)
                ->errorCorrection('H')
                ->generate($this->code)
        );
    }

    public function getStatusAttribute(): string
    {
        return $this->is_used ? 'Sudah Digunakan' : 'Belum Digunakan';
    }

    public function getStatusColorAttribute(): string
    {
        return $this->is_used ? 'gray' : 'green';
    }

    // Methods
    public static function generateCode(): string
    {
        do {
            $code = strtoupper(Str::random(12));
        } while (static::where('code', $code)->exists());
        
        return $code;
    }

    public function markAsUsed(?int $usedBy = null, ?string $notes = null): bool
    {
        if ($this->is_used) {
            return false;
        }

        return $this->update([
            'is_used' => true,
            'used_at' => now(),
            'used_by' => $usedBy,
            'check_in_notes' => $notes,
        ]);
    }

    public function resetUsage(): bool
    {
        return $this->update([
            'is_used' => false,
            'used_at' => null,
            'used_by' => null,
            'check_in_notes' => null,
        ]);
    }

    // Scopes
    public function scopeUsed($query)
    {
        return $query->where('is_used', true);
    }

    public function scopeUnused($query)
    {
        return $query->where('is_used', false);
    }

    public function scopeForEvent($query, $eventId)
    {
        return $query->whereHas('orderItem.order', function ($q) use ($eventId) {
            $q->where('event_id', $eventId);
        });
    }

    // Boot
    protected static function boot()
    {
        parent::boot();
        
        static::creating(function ($ticket) {
            if (!$ticket->code) {
                $ticket->code = static::generateCode();
            }
        });
    }
}

======================================================================
FILE: app/Models/Order.php (233 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\OrderStatus;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\Relations\HasManyThrough;
use Illuminate\Database\Eloquent\Relations\HasOne;

class Order extends Model
{
    use HasFactory;

    protected $fillable = [
        'order_number',
        'user_id',
        'event_id',
        'voucher_id',
        'customer_name',
        'customer_email',
        'customer_phone',
        'subtotal',
        'discount',
        'platform_fee',
        'payment_fee',
        'total',
        'status',
        'notes',
        'paid_at',
        'completed_at',
        'cancelled_at',
        'cancellation_reason',
        'expires_at',
    ];

    protected function casts(): array
    {
        return [
            'status' => OrderStatus::class,
            'subtotal' => 'integer',
            'discount' => 'integer',
            'platform_fee' => 'integer',
            'payment_fee' => 'integer',
            'total' => 'integer',
            'paid_at' => 'datetime',
            'completed_at' => 'datetime',
            'cancelled_at' => 'datetime',
            'expires_at' => 'datetime',
        ];
    }

    // Relationships
    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }

    public function event(): BelongsTo
    {
        return $this->belongsTo(Event::class);
    }

    public function items(): HasMany
    {
        return $this->hasMany(OrderItem::class);
    }

    public function payment(): HasOne
    {
        return $this->hasOne(Payment::class);
    }

    public function voucher(): BelongsTo
    {
        return $this->belongsTo(Voucher::class);
    }

    public function voucherUsage(): HasOne
    {
        return $this->hasOne(VoucherUsage::class);
    }

    public function issuedTickets(): HasManyThrough
    {
        return $this->hasManyThrough(IssuedTicket::class, OrderItem::class);
    }

    // Scopes
    public function scopePaid($query)
    {
        return $query->whereIn('status', [OrderStatus::PAID, OrderStatus::COMPLETED]);
    }

    public function scopePending($query)
    {
        return $query->whereIn('status', [OrderStatus::PENDING, OrderStatus::AWAITING_PAYMENT]);
    }

    public function scopeExpired($query)
    {
        return $query->where('status', OrderStatus::EXPIRED);
    }

    public function scopeForEvent($query, $eventId)
    {
        return $query->where('event_id', $eventId);
    }

    // Status Checks
    public function isPending(): bool
    {
        return in_array($this->status, [OrderStatus::PENDING, OrderStatus::AWAITING_PAYMENT]);
    }

    public function isPaid(): bool
    {
        return in_array($this->status, [OrderStatus::PAID, OrderStatus::COMPLETED]);
    }

    public function isCompleted(): bool
    {
        return $this->status === OrderStatus::COMPLETED;
    }

    public function isExpired(): bool
    {
        if ($this->status === OrderStatus::EXPIRED) {
            return true;
        }
        
        return $this->expires_at && $this->expires_at->isPast() && !$this->isPaid();
    }

    public function isCancelled(): bool
    {
        return $this->status === OrderStatus::CANCELLED;
    }

    public function isRefunded(): bool
    {
        return $this->status === OrderStatus::REFUNDED;
    }

    public function isFinal(): bool
    {
        return $this->status->isFinal();
    }

    public function canPay(): bool
    {
        return $this->status === OrderStatus::AWAITING_PAYMENT && !$this->isExpired();
    }

    public function canCancel(): bool
    {
        return in_array($this->status, [OrderStatus::PENDING, OrderStatus::AWAITING_PAYMENT]);
    }

    public function canRefund(): bool
    {
        return $this->status->canRefund();
    }

    // Accessors
    public function getFormattedSubtotalAttribute(): string
    {
        return 'Rp ' . number_format($this->subtotal, 0, ',', '.');
    }

    public function getFormattedDiscountAttribute(): string
    {
        return 'Rp ' . number_format($this->discount, 0, ',', '.');
    }

    public function getFormattedPlatformFeeAttribute(): string
    {
        return 'Rp ' . number_format($this->platform_fee, 0, ',', '.');
    }

    public function getFormattedPaymentFeeAttribute(): string
    {
        return 'Rp ' . number_format($this->payment_fee, 0, ',', '.');
    }

    public function getFormattedTotalAttribute(): string
    {
        return 'Rp ' . number_format($this->total, 0, ',', '.');
    }

    public function getNetAmountAttribute(): int
    {
        return $this->subtotal - $this->discount - $this->platform_fee;
    }

    public function getFormattedNetAmountAttribute(): string
    {
        return 'Rp ' . number_format($this->net_amount, 0, ',', '.');
    }

    public function getTotalQuantityAttribute(): int
    {
        return $this->items->sum('quantity');
    }

    public function getRemainingTimeAttribute(): ?int
    {
        if (!$this->expires_at || $this->isPaid()) {
            return null;
        }
        
        $remaining = $this->expires_at->diffInSeconds(now(), false);
        return $remaining > 0 ? null : abs($remaining);
    }

    public function getPaymentUrlAttribute(): ?string
    {
        return $this->payment?->xendit_invoice_url;
    }

    // Helpers
    public static function generateOrderNumber(): string
    {
        $prefix = 'NGE';
        $date = now()->format('Ymd');
        $random = strtoupper(substr(md5(uniqid(mt_rand(), true)), 0, 6));
        
        return "{$prefix}{$date}{$random}";
    }
}

======================================================================
FILE: app/Models/OrderItem.php (91 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class OrderItem extends Model
{
    use HasFactory;

    protected $fillable = [
        'order_id',
        'ticket_id',
        'ticket_variant_id',
        'ticket_name',
        'variant_name',
        'quantity',
        'unit_price',
        'subtotal',
    ];

    protected function casts(): array
    {
        return [
            'quantity' => 'integer',
            'unit_price' => 'integer',
            'subtotal' => 'integer',
        ];
    }

    // Relationships
    public function order(): BelongsTo
    {
        return $this->belongsTo(Order::class);
    }

    public function ticket(): BelongsTo
    {
        return $this->belongsTo(Ticket::class);
    }

    public function ticketVariant(): BelongsTo
    {
        return $this->belongsTo(TicketVariant::class);
    }

    public function issuedTickets(): HasMany
    {
        return $this->hasMany(IssuedTicket::class);
    }

    // Accessors
    public function getFormattedUnitPriceAttribute(): string
    {
        if ($this->unit_price === 0) {
            return 'Gratis';
        }
        
        return 'Rp ' . number_format($this->unit_price, 0, ',', '.');
    }

    public function getFormattedSubtotalAttribute(): string
    {
        return 'Rp ' . number_format($this->subtotal, 0, ',', '.');
    }

    public function getDisplayNameAttribute(): string
    {
        $parts = [$this->ticket_name];
        
        if ($this->variant_name) {
            $parts[] = $this->variant_name;
        }
        
        return implode(' - ', $parts);
    }

    // Methods
    protected static function boot()
    {
        parent::boot();
        
        static::creating(function ($item) {
            $item->subtotal = $item->unit_price * $item->quantity;
        });
    }
}

======================================================================
FILE: app/Models/Organizer.php (117 lines)
======================================================================
<?php

namespace App\Models;

use App\Traits\HasSlug;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Organizer extends Model
{
    use HasFactory, HasSlug;

    protected $fillable = [
        'user_id',
        'name',
        'slug',
        'logo',
        'banner',
        'bio',
        'website',
        'email',
        'phone',
        'address',
        'city',
        'province',
        'bank_name',
        'bank_account_number',
        'bank_account_name',
        'is_verified',
        'verified_at',
    ];

    protected function casts(): array
    {
        return [
            'is_verified' => 'boolean',
            'verified_at' => 'datetime',
        ];
    }

    protected function slugSource(): string
    {
        return 'name';
    }

    public function getRouteKeyName(): string
    {
        return 'slug';
    }

    // Relationships
    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }

    public function events(): HasMany
    {
        return $this->hasMany(Event::class);
    }

    public function socialLinks(): HasMany
    {
        return $this->hasMany(OrganizerSocialLink::class);
    }

    public function settlements(): HasMany
    {
        return $this->hasMany(Settlement::class);
    }

    // Accessors
    public function getLogoUrlAttribute(): string
    {
        if ($this->logo) {
            return asset('storage/' . $this->logo);
        }

        return 'https://ui-avatars.com/api/?name=' . urlencode($this->name) . '&background=2563EB&color=fff&size=200';
    }

    public function getBannerUrlAttribute(): ?string
    {
        return $this->banner ? asset('storage/' . $this->banner) : null;
    }

    // Stats
    public function getTotalEventsAttribute(): int
    {
        return $this->events()->count();
    }

    public function getPublishedEventsCountAttribute(): int
    {
        return $this->events()->where('status', 'published')->count();
    }

    public function getTotalTicketsSoldAttribute(): int
    {
        return $this->events()
            ->join('orders', 'events.id', '=', 'orders.event_id')
            ->join('order_items', 'orders.id', '=', 'order_items.order_id')
            ->whereIn('orders.status', ['paid', 'completed'])
            ->sum('order_items.quantity');
    }

    public function getTotalRevenueAttribute(): int
    {
        return $this->events()
            ->join('orders', 'events.id', '=', 'orders.event_id')
            ->whereIn('orders.status', ['paid', 'completed'])
            ->sum('orders.subtotal');
    }
}

======================================================================
FILE: app/Models/OrganizerSocialLink.php (49 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class OrganizerSocialLink extends Model
{
    use HasFactory;

    protected $fillable = [
        'organizer_id',
        'platform',
        'url',
    ];

    public function organizer(): BelongsTo
    {
        return $this->belongsTo(Organizer::class);
    }

    public function getIconAttribute(): string
    {
        return match ($this->platform) {
            'instagram' => 'instagram',
            'twitter' => 'twitter',
            'facebook' => 'facebook',
            'youtube' => 'youtube',
            'tiktok' => 'tiktok',
            'website' => 'globe',
            default => 'link',
        };
    }

    public function getColorAttribute(): string
    {
        return match ($this->platform) {
            'instagram' => '#E4405F',
            'twitter' => '#1DA1F2',
            'facebook' => '#1877F2',
            'youtube' => '#FF0000',
            'tiktok' => '#000000',
            default => '#6B7280',
        };
    }
}

======================================================================
FILE: app/Models/Payment.php (135 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\PaymentStatus;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class Payment extends Model
{
    use HasFactory;

    protected $fillable = [
        'order_id',
        'xendit_invoice_id',
        'xendit_invoice_url',
        'xendit_external_id',
        'amount',
        'payment_method',
        'payment_channel',
        'status',
        'paid_at',
        'expires_at',
        'paid_amount',
        'adjusted_received_amount',
        'fees_paid_amount',
        'raw_response',
    ];

    protected function casts(): array
    {
        return [
            'status' => PaymentStatus::class,
            'amount' => 'integer',
            'paid_amount' => 'integer',
            'adjusted_received_amount' => 'integer',
            'fees_paid_amount' => 'integer',
            'paid_at' => 'datetime',
            'expires_at' => 'datetime',
            'raw_response' => 'array',
        ];
    }

    // Relationships
    public function order(): BelongsTo
    {
        return $this->belongsTo(Order::class);
    }

    // Status Checks
    public function isPending(): bool
    {
        return $this->status === PaymentStatus::PENDING;
    }

    public function isPaid(): bool
    {
        return $this->status === PaymentStatus::PAID;
    }

    public function isExpired(): bool
    {
        if ($this->status === PaymentStatus::EXPIRED) {
            return true;
        }
        
        return $this->expires_at && $this->expires_at->isPast() && !$this->isPaid();
    }

    public function isFailed(): bool
    {
        return $this->status === PaymentStatus::FAILED;
    }

    public function isRefunded(): bool
    {
        return $this->status === PaymentStatus::REFUNDED;
    }

    // Accessors
    public function getFormattedAmountAttribute(): string
    {
        return 'Rp ' . number_format($this->amount, 0, ',', '.');
    }

    public function getPaymentMethodLabelAttribute(): ?string
    {
        if (!$this->payment_method) {
            return null;
        }

        return match ($this->payment_method) {
            'CREDIT_CARD' => 'Kartu Kredit',
            'BANK_TRANSFER' => 'Transfer Bank',
            'EWALLET' => 'E-Wallet',
            'QR_CODE' => 'QRIS',
            'RETAIL_OUTLET' => 'Retail',
            default => $this->payment_method,
        };
    }

    public function getPaymentChannelLabelAttribute(): ?string
    {
        if (!$this->payment_channel) {
            return null;
        }

        return match ($this->payment_channel) {
            'BCA' => 'BCA',
            'BNI' => 'BNI',
            'BRI' => 'BRI',
            'MANDIRI' => 'Mandiri',
            'PERMATA' => 'Permata',
            'BSI' => 'BSI',
            'OVO' => 'OVO',
            'DANA' => 'DANA',
            'LINKAJA' => 'LinkAja',
            'SHOPEEPAY' => 'ShopeePay',
            'QRIS' => 'QRIS',
            default => $this->payment_channel,
        };
    }

    public function getRemainingTimeAttribute(): ?int
    {
        if (!$this->expires_at || $this->isPaid()) {
            return null;
        }
        
        $remaining = $this->expires_at->diffInSeconds(now(), false);
        return $remaining > 0 ? null : abs($remaining);
    }
}

======================================================================
FILE: app/Models/Subcategory.php (55 lines)
======================================================================
<?php

namespace App\Models;

use App\Traits\HasSlug;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\BelongsToMany;

class Subcategory extends Model
{
    use HasFactory, HasSlug;

    protected $fillable = [
        'category_id',
        'name',
        'slug',
        'description',
        'is_active',
    ];

    protected function casts(): array
    {
        return [
            'is_active' => 'boolean',
        ];
    }

    protected function slugSource(): string
    {
        return 'name';
    }

    public function category(): BelongsTo
    {
        return $this->belongsTo(Category::class);
    }

    public function events(): BelongsToMany
    {
        return $this->belongsToMany(Event::class, 'event_subcategory');
    }

    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    public function scopeForCategory($query, $categoryId)
    {
        return $query->where('category_id', $categoryId);
    }
}

======================================================================
FILE: app/Models/Ticket.php (140 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\TicketType;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Ticket extends Model
{
    use HasFactory;

    protected $fillable = [
        'event_id',
        'name',
        'description',
        'type',
        'benefits',
        'max_per_order',
        'sort_order',
        'is_active',
    ];

    protected function casts(): array
    {
        return [
            'type' => TicketType::class,
            'benefits' => 'array',
            'max_per_order' => 'integer',
            'sort_order' => 'integer',
            'is_active' => 'boolean',
        ];
    }

    // Relationships
    public function event(): BelongsTo
    {
        return $this->belongsTo(Event::class);
    }

    public function variants(): HasMany
    {
        return $this->hasMany(TicketVariant::class);
    }

    public function activeVariants(): HasMany
    {
        return $this->variants()
            ->where('is_active', true)
            ->where(function ($query) {
                $query->whereNull('sale_start_at')
                    ->orWhere('sale_start_at', '<=', now());
            })
            ->where(function ($query) {
                $query->whereNull('sale_end_at')
                    ->orWhere('sale_end_at', '>=', now());
            });
    }

    public function availableVariants(): HasMany
    {
        return $this->activeVariants()
            ->whereRaw('stock - sold_count - reserved_count > 0');
    }

    public function orderItems(): HasMany
    {
        return $this->hasMany(OrderItem::class);
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    public function scopeOrdered($query)
    {
        return $query->orderBy('sort_order');
    }

    // Accessors
    public function getLowestPriceAttribute(): int
    {
        return $this->variants()->where('is_active', true)->min('price') ?? 0;
    }

    public function getHighestPriceAttribute(): int
    {
        return $this->variants()->where('is_active', true)->max('price') ?? 0;
    }

    public function getFormattedPriceAttribute(): string
    {
        if ($this->type === TicketType::FREE) {
            return 'Gratis';
        }

        $lowest = $this->lowest_price;
        $highest = $this->highest_price;

        if ($lowest === $highest || $highest === 0) {
            return 'Rp ' . number_format($lowest, 0, ',', '.');
        }

        return 'Rp ' . number_format($lowest, 0, ',', '.') . ' - Rp ' . number_format($highest, 0, ',', '.');
    }

    public function getTotalStockAttribute(): int
    {
        return $this->variants()->sum('stock');
    }

    public function getTotalSoldAttribute(): int
    {
        return $this->variants()->sum('sold_count');
    }

    public function getTotalAvailableAttribute(): int
    {
        return $this->variants()
            ->where('is_active', true)
            ->selectRaw('SUM(stock - sold_count - reserved_count) as available')
            ->value('available') ?? 0;
    }

    // Checks
    public function hasAvailableStock(): bool
    {
        return $this->total_available > 0;
    }

    public function isFree(): bool
    {
        return $this->type === TicketType::FREE;
    }
}

======================================================================
FILE: app/Models/TicketVariant.php (207 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class TicketVariant extends Model
{
    use HasFactory;

    protected $fillable = [
        'ticket_id',
        'event_day_id',
        'name',
        'price',
        'original_price',
        'stock',
        'sold_count',
        'reserved_count',
        'min_per_order',
        'max_per_order',
        'sale_start_at',
        'sale_end_at',
        'is_active',
    ];

    protected function casts(): array
    {
        return [
            'price' => 'integer',
            'original_price' => 'integer',
            'stock' => 'integer',
            'sold_count' => 'integer',
            'reserved_count' => 'integer',
            'min_per_order' => 'integer',
            'max_per_order' => 'integer',
            'is_active' => 'boolean',
            'sale_start_at' => 'datetime',
            'sale_end_at' => 'datetime',
        ];
    }

    // Relationships
    public function ticket(): BelongsTo
    {
        return $this->belongsTo(Ticket::class);
    }

    public function eventDay(): BelongsTo
    {
        return $this->belongsTo(EventDay::class);
    }

    public function orderItems(): HasMany
    {
        return $this->hasMany(OrderItem::class);
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    public function scopeAvailable($query)
    {
        return $query->active()
            ->whereRaw('stock - sold_count - reserved_count > 0')
            ->where(function ($q) {
                $q->whereNull('sale_start_at')
                  ->orWhere('sale_start_at', '<=', now());
            })
            ->where(function ($q) {
                $q->whereNull('sale_end_at')
                  ->orWhere('sale_end_at', '>=', now());
            });
    }

    // Accessors
    public function getAvailableStockAttribute(): int
    {
        return max(0, $this->stock - $this->sold_count - $this->reserved_count);
    }

    public function getFormattedPriceAttribute(): string
    {
        if ($this->price === 0) {
            return 'Gratis';
        }
        
        return 'Rp ' . number_format($this->price, 0, ',', '.');
    }

    public function getFormattedOriginalPriceAttribute(): ?string
    {
        if (!$this->original_price || $this->original_price <= $this->price) {
            return null;
        }
        
        return 'Rp ' . number_format($this->original_price, 0, ',', '.');
    }

    public function getDiscountPercentageAttribute(): ?int
    {
        if (!$this->original_price || $this->original_price <= $this->price) {
            return null;
        }
        
        return (int) round((1 - $this->price / $this->original_price) * 100);
    }

    public function getDisplayNameAttribute(): string
    {
        $parts = [$this->ticket->name];
        
        if ($this->name) {
            $parts[] = $this->name;
        }
        
        if ($this->eventDay) {
            $parts[] = $this->eventDay->short_date;
        }
        
        return implode(' - ', $parts);
    }

    // Checks
    public function isAvailable(): bool
    {
        if (!$this->is_active) {
            return false;
        }
        
        if ($this->available_stock <= 0) {
            return false;
        }
        
        if ($this->sale_start_at && $this->sale_start_at->isFuture()) {
            return false;
        }
        
        if ($this->sale_end_at && $this->sale_end_at->isPast()) {
            return false;
        }
        
        return true;
    }

    public function isOnSale(): bool
    {
        return $this->original_price && $this->original_price > $this->price;
    }

    public function isSoldOut(): bool
    {
        return $this->available_stock <= 0;
    }

    public function isSaleNotStarted(): bool
    {
        return $this->sale_start_at && $this->sale_start_at->isFuture();
    }

    public function isSaleEnded(): bool
    {
        return $this->sale_end_at && $this->sale_end_at->isPast();
    }

    // Methods
    public function canPurchase(int $quantity): bool
    {
        if ($quantity < ($this->min_per_order ?? 1)) {
            return false;
        }
        
        if ($this->max_per_order && $quantity > $this->max_per_order) {
            return false;
        }
        
        return $this->available_stock >= $quantity;
    }

    public function reserve(int $quantity): bool
    {
        if ($this->available_stock < $quantity) {
            return false;
        }
        
        $this->increment('reserved_count', $quantity);
        return true;
    }

    public function releaseReservation(int $quantity): void
    {
        $this->decrement('reserved_count', min($quantity, $this->reserved_count));
    }

    public function confirmSale(int $quantity): void
    {
        $this->decrement('reserved_count', $quantity);
        $this->increment('sold_count', $quantity);
    }
}

======================================================================
FILE: app/Models/User.php (95 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\UserRole;
use Illuminate\Contracts\Auth\MustVerifyEmail;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\Relations\HasOne;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens;

class User extends Authenticatable implements MustVerifyEmail
{
    use HasApiTokens, HasFactory, Notifiable;

    protected $fillable = [
        'name',
        'email',
        'password',
        'role',
        'phone',
        'avatar',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected function casts(): array
    {
        return [
            'email_verified_at' => 'datetime',
            'password' => 'hashed',
            'role' => UserRole::class,
        ];
    }

    // Relationships
    public function organizer(): HasOne
    {
        return $this->hasOne(Organizer::class);
    }

    public function orders(): HasMany
    {
        return $this->hasMany(Order::class);
    }

    public function issuedTickets(): HasMany
    {
        return $this->hasMany(IssuedTicket::class);
    }

    // Role Checks
    public function isAdmin(): bool
    {
        return $this->role === UserRole::ADMIN;
    }

    public function isOrganizer(): bool
    {
        return $this->role === UserRole::ORGANIZER;
    }

    public function isUser(): bool
    {
        return $this->role === UserRole::USER;
    }

    // Accessors
    public function getAvatarUrlAttribute(): string
    {
        if ($this->avatar) {
            return asset('storage/' . $this->avatar);
        }
        
        return 'https://ui-avatars.com/api/?name=' . urlencode($this->name) . '&background=2563EB&color=fff';
    }

    public function getInitialsAttribute(): string
    {
        $words = explode(' ', $this->name);
        $initials = '';
        
        foreach (array_slice($words, 0, 2) as $word) {
            $initials .= strtoupper(substr($word, 0, 1));
        }
        
        return $initials;
    }
}

======================================================================
FILE: app/Models/Voucher.php (248 lines)
======================================================================
<?php

namespace App\Models;

use App\Enums\VoucherType;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Voucher extends Model
{
    use HasFactory;

    protected $fillable = [
        'code',
        'name',
        'description',
        'type',
        'value',
        'min_purchase',
        'max_discount',
        'usage_limit',
        'usage_count',
        'usage_limit_per_user',
        'event_id',
        'category_id',
        'starts_at',
        'expires_at',
        'is_active',
        'created_by',
    ];

    protected function casts(): array
    {
        return [
            'type' => VoucherType::class,
            'value' => 'integer',
            'min_purchase' => 'integer',
            'max_discount' => 'integer',
            'usage_limit' => 'integer',
            'usage_count' => 'integer',
            'usage_limit_per_user' => 'integer',
            'is_active' => 'boolean',
            'starts_at' => 'datetime',
            'expires_at' => 'datetime',
        ];
    }

    // Relationships
    public function event(): BelongsTo
    {
        return $this->belongsTo(Event::class);
    }

    public function category(): BelongsTo
    {
        return $this->belongsTo(Category::class);
    }

    public function createdBy(): BelongsTo
    {
        return $this->belongsTo(User::class, 'created_by');
    }

    public function usages(): HasMany
    {
        return $this->hasMany(VoucherUsage::class);
    }

    public function orders(): HasMany
    {
        return $this->hasMany(Order::class);
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true)
            ->where(function ($q) {
                $q->whereNull('starts_at')
                  ->orWhere('starts_at', '<=', now());
            })
            ->where(function ($q) {
                $q->whereNull('expires_at')
                  ->orWhere('expires_at', '>=', now());
            });
    }

    public function scopeAvailable($query)
    {
        return $query->active()
            ->where(function ($q) {
                $q->whereNull('usage_limit')
                  ->orWhereRaw('usage_count < usage_limit');
            });
    }

    public function scopeForEvent($query, $eventId)
    {
        return $query->where(function ($q) use ($eventId) {
            $q->whereNull('event_id')
              ->orWhere('event_id', $eventId);
        });
    }

    public function scopeForCategory($query, $categoryId)
    {
        return $query->where(function ($q) use ($categoryId) {
            $q->whereNull('category_id')
              ->orWhere('category_id', $categoryId);
        });
    }

    // Checks
    public function isActive(): bool
    {
        if (!$this->is_active) {
            return false;
        }

        if ($this->starts_at && $this->starts_at->isFuture()) {
            return false;
        }

        if ($this->expires_at && $this->expires_at->isPast()) {
            return false;
        }

        return true;
    }

    public function isExpired(): bool
    {
        return $this->expires_at && $this->expires_at->isPast();
    }

    public function hasReachedLimit(): bool
    {
        return $this->usage_limit !== null && $this->usage_count >= $this->usage_limit;
    }

    public function hasUserReachedLimit(int $userId): bool
    {
        if ($this->usage_limit_per_user === null) {
            return false;
        }

        $userUsage = $this->usages()->where('user_id', $userId)->count();
        return $userUsage >= $this->usage_limit_per_user;
    }

    public function isApplicableToEvent(Event $event): bool
    {
        if ($this->event_id && $this->event_id !== $event->id) {
            return false;
        }

        if ($this->category_id && $this->category_id !== $event->category_id) {
            return false;
        }

        return true;
    }

    public function isApplicableToAmount(int $subtotal): bool
    {
        return $this->min_purchase === null || $subtotal >= $this->min_purchase;
    }

    public function canBeUsedBy(int $userId, Event $event, int $subtotal): array
    {
        if (!$this->isActive()) {
            return [false, 'Voucher tidak aktif atau sudah kedaluwarsa'];
        }

        if ($this->hasReachedLimit()) {
            return [false, 'Voucher sudah mencapai batas penggunaan'];
        }

        if ($this->hasUserReachedLimit($userId)) {
            return [false, 'Anda sudah mencapai batas penggunaan voucher ini'];
        }

        if (!$this->isApplicableToEvent($event)) {
            return [false, 'Voucher tidak berlaku untuk event ini'];
        }

        if (!$this->isApplicableToAmount($subtotal)) {
            return [false, 'Minimum pembelian belum tercapai'];
        }

        return [true, null];
    }

    // Calculations
    public function calculateDiscount(int $subtotal): int
    {
        return $this->type->calculateDiscount($subtotal, $this->value, $this->max_discount);
    }

    // Accessors
    public function getFormattedValueAttribute(): string
    {
        return $this->type->formatValue($this->value);
    }

    public function getFormattedMinPurchaseAttribute(): ?string
    {
        if (!$this->min_purchase) {
            return null;
        }
        
        return 'Rp ' . number_format($this->min_purchase, 0, ',', '.');
    }

    public function getFormattedMaxDiscountAttribute(): ?string
    {
        if (!$this->max_discount) {
            return null;
        }
        
        return 'Rp ' . number_format($this->max_discount, 0, ',', '.');
    }

    public function getRemainingUsageAttribute(): ?int
    {
        if ($this->usage_limit === null) {
            return null;
        }
        
        return max(0, $this->usage_limit - $this->usage_count);
    }

    // Methods
    public function incrementUsage(): void
    {
        $this->increment('usage_count');
    }

    public function decrementUsage(): void
    {
        if ($this->usage_count > 0) {
            $this->decrement('usage_count');
        }
    }
}

======================================================================
FILE: app/Models/VoucherUsage.php (49 lines)
======================================================================
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;

class VoucherUsage extends Model
{
    use HasFactory;

    protected $fillable = [
        'voucher_id',
        'user_id',
        'order_id',
        'discount_amount',
    ];

    protected function casts(): array
    {
        return [
            'discount_amount' => 'integer',
        ];
    }

    // Relationships
    public function voucher(): BelongsTo
    {
        return $this->belongsTo(Voucher::class);
    }

    public function user(): BelongsTo
    {
        return $this->belongsTo(User::class);
    }

    public function order(): BelongsTo
    {
        return $this->belongsTo(Order::class);
    }

    // Accessors
    public function getFormattedDiscountAmountAttribute(): string
    {
        return 'Rp ' . number_format($this->discount_amount, 0, ',', '.');
    }
}

======================================================================
FILE: app/Providers/AppServiceProvider.php (25 lines)
======================================================================
<?php

namespace App\Providers;

use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        //
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        //
    }
}

======================================================================
FILE: app/Services/ETicketService.php (180 lines)
======================================================================
<?php

namespace App\Services;

use App\Events\TicketIssued;
use App\Models\IssuedTicket;
use App\Models\Order;
use App\Models\OrderItem;
use App\Models\User;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Support\Facades\DB;

class ETicketService
{
    public function generateTickets(Order $order): Collection
    {
        return DB::transaction(function () use ($order) {
            $issuedTickets = collect();

            foreach ($order->items as $item) {
                for ($i = 0; $i < $item->quantity; $i++) {
                    $ticket = $this->createIssuedTicket($item, $order->user);
                    $issuedTickets->push($ticket);
                }
            }

            event(new TicketIssued($order, $issuedTickets));

            return $issuedTickets;
        });
    }

    protected function createIssuedTicket(OrderItem $item, User $user): IssuedTicket
    {
        return IssuedTicket::create([
            'order_item_id' => $item->id,
            'user_id' => $user->id,
            'code' => IssuedTicket::generateCode(),
            'attendee_name' => $item->order->customer_name,
            'attendee_email' => $item->order->customer_email,
            'attendee_phone' => $item->order->customer_phone,
        ]);
    }

    public function getTicketByCode(string $code): ?IssuedTicket
    {
        return IssuedTicket::with([
            'orderItem.order.event',
            'orderItem.ticket',
            'orderItem.ticketVariant.eventDay',
        ])->where('code', $code)->first();
    }

    public function checkIn(IssuedTicket $ticket, ?User $checkedInBy = null, ?string $notes = null): bool
    {
        if ($ticket->is_used) {
            return false;
        }

        return $ticket->markAsUsed($checkedInBy?->id, $notes);
    }

    public function undoCheckIn(IssuedTicket $ticket): bool
    {
        if (!$ticket->is_used) {
            return false;
        }

        return $ticket->resetUsage();
    }

    public function validateTicket(string $code, int $eventId): array
    {
        $ticket = $this->getTicketByCode($code);

        if (!$ticket) {
            return [
                'valid' => false,
                'message' => 'Tiket tidak ditemukan',
                'ticket' => null,
            ];
        }

        $order = $ticket->orderItem->order;

        if ($order->event_id !== $eventId) {
            return [
                'valid' => false,
                'message' => 'Tiket bukan untuk event ini',
                'ticket' => null,
            ];
        }

        if (!$order->isPaid()) {
            return [
                'valid' => false,
                'message' => 'Pembayaran belum selesai',
                'ticket' => null,
            ];
        }

        if ($ticket->is_used) {
            return [
                'valid' => false,
                'message' => 'Tiket sudah digunakan pada ' . $ticket->used_at->format('d M Y H:i'),
                'ticket' => $ticket,
            ];
        }

        return [
            'valid' => true,
            'message' => 'Tiket valid',
            'ticket' => $ticket,
        ];
    }

    public function getUserTickets(User $user): Collection
    {
        return IssuedTicket::query()
            ->with([
                'orderItem.order.event',
                'orderItem.ticket',
                'orderItem.ticketVariant.eventDay',
            ])
            ->where('user_id', $user->id)
            ->whereHas('orderItem.order', fn($q) => $q->whereIn('status', ['paid', 'completed']))
            ->latest()
            ->get();
    }

    public function getEventAttendees(int $eventId, array $filters = []): Collection
    {
        $query = IssuedTicket::query()
            ->with(['orderItem.ticket', 'orderItem.ticketVariant.eventDay', 'user'])
            ->whereHas('orderItem.order', fn($q) => $q->where('event_id', $eventId)->whereIn('status', ['paid', 'completed']));

        if (isset($filters['is_used'])) {
            $query->where('is_used', $filters['is_used']);
        }

        if (!empty($filters['search'])) {
            $search = $filters['search'];
            $query->where(function ($q) use ($search) {
                $q->where('code', 'ilike', "%{$search}%")
                    ->orWhere('attendee_name', 'ilike', "%{$search}%")
                    ->orWhere('attendee_email', 'ilike', "%{$search}%");
            });
        }

        if (!empty($filters['ticket_id'])) {
            $query->whereHas('orderItem', fn($q) => $q->where('ticket_id', $filters['ticket_id']));
        }

        return $query->orderBy('created_at')->get();
    }

    public function getCheckInStats(int $eventId): array
    {
        $tickets = IssuedTicket::query()
            ->whereHas('orderItem.order', fn($q) => $q->where('event_id', $eventId)->whereIn('status', ['paid', 'completed']))
            ->get();

        $total = $tickets->count();
        $checkedIn = $tickets->where('is_used', true)->count();

        return [
            'total' => $total,
            'checked_in' => $checkedIn,
            'remaining' => $total - $checkedIn,
            'percentage' => $total > 0 ? round(($checkedIn / $total) * 100, 1) : 0,
        ];
    }

    public function bulkUpdateAttendeeInfo(array $ticketIds, array $data): int
    {
        return IssuedTicket::whereIn('id', $ticketIds)
            ->update(collect($data)->only(['attendee_name', 'attendee_email', 'attendee_phone'])->toArray());
    }
}

======================================================================
FILE: app/Services/EventService.php (272 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\EventStatus;
use App\Models\Event;
use App\Models\EventDay;
use App\Models\Organizer;
use App\Models\User;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Pagination\LengthAwarePaginator;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Storage;

class EventService
{
    public function __construct(
        private TicketService $ticketService,
    ) {}

    public function getPublishedEvents(array $filters = [], int $perPage = 12): LengthAwarePaginator
    {
        $query = Event::query()
            ->with(['organizer', 'category', 'subcategories'])
            ->published()
            ->upcoming();

        if (!empty($filters['category'])) {
            $query->where('category_id', $filters['category']);
        }

        if (!empty($filters['city'])) {
            $query->where('city', $filters['city']);
        }

        if (!empty($filters['search'])) {
            $query->search($filters['search']);
        }

        if (!empty($filters['date_from'])) {
            $query->where('start_date', '>=', $filters['date_from']);
        }

        if (!empty($filters['date_to'])) {
            $query->where('start_date', '<=', $filters['date_to']);
        }

        if (!empty($filters['is_free'])) {
            $query->where('is_free', true);
        }

        $sortBy = $filters['sort'] ?? 'date';
        match ($sortBy) {
            'popular' => $query->orderByDesc('views_count'),
            'price_low' => $query->orderBy('min_price'),
            'price_high' => $query->orderByDesc('max_price'),
            default => $query->orderBy('start_date'),
        };

        return $query->paginate($perPage);
    }

    public function getFeaturedEvents(int $limit = 6): Collection
    {
        return Event::query()
            ->with(['organizer', 'category'])
            ->published()
            ->upcoming()
            ->featured()
            ->orderBy('start_date')
            ->limit($limit)
            ->get();
    }

    public function getEventForDisplay(string $slug): ?Event
    {
        $event = Event::query()
            ->with(['organizer.socialLinks', 'category', 'subcategories', 'days', 'tickets.activeVariants.eventDay'])
            ->where('slug', $slug)
            ->whereIn('status', EventStatus::publicStatuses())
            ->first();

        if ($event) {
            $event->incrementViews();
        }

        return $event;
    }

    public function create(Organizer $organizer, array $data): Event
    {
        return DB::transaction(function () use ($organizer, $data) {
            $posterPath = isset($data['poster']) ? $data['poster']->store('events/posters', 'public') : null;
            $bannerPath = isset($data['banner']) ? $data['banner']->store('events/banners', 'public') : null;
            $proposalPath = isset($data['proposal_file']) ? $data['proposal_file']->store('events/proposals', 'public') : null;

            $event = Event::create([
                'organizer_id' => $organizer->id,
                'category_id' => $data['category_id'],
                'title' => $data['title'],
                'description' => $data['description'] ?? null,
                'short_description' => $data['short_description'] ?? null,
                'poster' => $posterPath,
                'banner' => $bannerPath,
                'start_date' => $data['start_date'],
                'end_date' => $data['end_date'],
                'start_time' => $data['start_time'] ?? null,
                'end_time' => $data['end_time'] ?? null,
                'venue_name' => $data['venue_name'] ?? null,
                'venue_address' => $data['venue_address'] ?? null,
                'city' => $data['city'] ?? null,
                'province' => $data['province'] ?? null,
                'is_online' => $data['is_online'] ?? false,
                'online_url' => $data['online_url'] ?? null,
                'is_free' => $data['is_free'] ?? false,
                'proposal_file' => $proposalPath,
                'status' => EventStatus::DRAFT,
            ]);

            if (!empty($data['subcategories'])) {
                $event->subcategories()->sync($data['subcategories']);
            }

            $this->createEventDays($event, $data);

            return $event;
        });
    }

    public function update(Event $event, array $data): Event
    {
        return DB::transaction(function () use ($event, $data) {
            $updateData = collect($data)->only([
                'category_id', 'title', 'description', 'short_description',
                'start_date', 'end_date', 'start_time', 'end_time',
                'venue_name', 'venue_address', 'city', 'province',
                'is_online', 'online_url', 'is_free',
            ])->toArray();

            if (isset($data['poster'])) {
                if ($event->poster) Storage::disk('public')->delete($event->poster);
                $updateData['poster'] = $data['poster']->store('events/posters', 'public');
            }

            if (isset($data['banner'])) {
                if ($event->banner) Storage::disk('public')->delete($event->banner);
                $updateData['banner'] = $data['banner']->store('events/banners', 'public');
            }

            $event->update($updateData);

            if (isset($data['subcategories'])) {
                $event->subcategories()->sync($data['subcategories']);
            }

            return $event->fresh();
        });
    }

    public function submitForReview(Event $event): bool
    {
        if ($event->status !== EventStatus::DRAFT) return false;
        return $event->update(['status' => EventStatus::PENDING_REVIEW]);
    }

    public function approve(Event $event, User $admin, ?string $notes = null): bool
    {
        if ($event->status !== EventStatus::PENDING_REVIEW) return false;
        return $event->update([
            'status' => EventStatus::APPROVED,
            'approved_at' => now(),
            'approved_by' => $admin->id,
            'admin_notes' => $notes,
        ]);
    }

    public function reject(Event $event, User $admin, string $reason): bool
    {
        if ($event->status !== EventStatus::PENDING_REVIEW) return false;
        return $event->update([
            'status' => EventStatus::DRAFT,
            'rejection_reason' => $reason,
        ]);
    }

    public function publish(Event $event): bool
    {
        if ($event->status !== EventStatus::APPROVED) return false;
        $event->updatePriceRange();
        return $event->update(['status' => EventStatus::PUBLISHED, 'published_at' => now()]);
    }

    public function unpublish(Event $event): bool
    {
        if ($event->status !== EventStatus::PUBLISHED) return false;
        return $event->update(['status' => EventStatus::APPROVED, 'published_at' => null]);
    }

    public function cancel(Event $event, string $reason): bool
    {
        if (in_array($event->status, [EventStatus::CANCELLED, EventStatus::COMPLETED])) return false;
        return $event->update(['status' => EventStatus::CANCELLED, 'admin_notes' => "Cancelled: {$reason}"]);
    }

    public function complete(Event $event): bool
    {
        if ($event->status !== EventStatus::PUBLISHED) return false;
        return $event->update(['status' => EventStatus::COMPLETED]);
    }

    protected function createEventDays(Event $event, array $data): void
    {
        if (!$event->isMultiDay()) {
            EventDay::create([
                'event_id' => $event->id,
                'date' => $event->start_date,
                'start_time' => $event->start_time,
                'end_time' => $event->end_time,
            ]);
            return;
        }

        if (!empty($data['days'])) {
            foreach ($data['days'] as $dayData) {
                EventDay::create([
                    'event_id' => $event->id,
                    'date' => $dayData['date'],
                    'name' => $dayData['name'] ?? null,
                    'start_time' => $dayData['start_time'] ?? null,
                    'end_time' => $dayData['end_time'] ?? null,
                ]);
            }
        } else {
            $currentDate = $event->start_date->copy();
            $dayNumber = 1;
            while ($currentDate->lte($event->end_date)) {
                EventDay::create([
                    'event_id' => $event->id,
                    'date' => $currentDate->toDateString(),
                    'name' => "Day {$dayNumber}",
                ]);
                $currentDate->addDay();
                $dayNumber++;
            }
        }
    }

    public function getOrganizerEvents(Organizer $organizer, array $filters = []): LengthAwarePaginator
    {
        $query = Event::where('organizer_id', $organizer->id)->with(['category']);
        if (!empty($filters['status'])) $query->where('status', $filters['status']);
        if (!empty($filters['search'])) $query->search($filters['search']);
        return $query->latest()->paginate(10);
    }

    public function getPendingReviewEvents(): Collection
    {
        return Event::with(['organizer', 'category'])
            ->where('status', EventStatus::PENDING_REVIEW)
            ->oldest()
            ->get();
    }

    public function getEventCities(): Collection
    {
        return Event::published()->upcoming()
            ->whereNotNull('city')
            ->distinct()
            ->pluck('city');
    }
}

======================================================================
FILE: app/Services/OrderService.php (305 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\OrderStatus;
use App\Enums\PaymentStatus;
use App\Events\OrderCreated;
use App\Events\OrderPaid;
use App\Events\OrderExpired;
use App\Events\OrderRefunded;
use App\Exceptions\InsufficientTicketException;
use App\Models\Event;
use App\Models\Order;
use App\Models\OrderItem;
use App\Models\TicketVariant;
use App\Models\User;
use App\Models\Voucher;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Pagination\LengthAwarePaginator;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Str;

class OrderService
{
    public function __construct(
        private TicketService $ticketService,
        private VoucherService $voucherService,
        private PaymentService $paymentService,
    ) {}

    public function create(User $user, Event $event, array $items, array $customerData, ?Voucher $voucher = null): Order
    {
        return DB::transaction(function () use ($user, $event, $items, $customerData, $voucher) {
            // Reserve stock for all items
            foreach ($items as $item) {
                $this->ticketService->reserveStock($item['ticket_variant_id'], $item['quantity']);
            }

            // Calculate totals
            $totals = $this->calculateTotals($items, $voucher);

            // Create order
            $order = Order::create([
                'order_number' => $this->generateOrderNumber(),
                'user_id' => $user->id,
                'event_id' => $event->id,
                'voucher_id' => $voucher?->id,
                'customer_name' => $customerData['name'],
                'customer_email' => $customerData['email'],
                'customer_phone' => $customerData['phone'] ?? null,
                'subtotal' => $totals['subtotal'],
                'discount' => $totals['discount'],
                'platform_fee' => $totals['platform_fee'],
                'payment_fee' => $totals['payment_fee'],
                'total' => $totals['total'],
                'status' => OrderStatus::PENDING,
                'expires_at' => now()->addMinutes(config('ngevent.order_expiry_minutes', 15)),
            ]);

            // Create order items
            foreach ($items as $item) {
                $variant = TicketVariant::with('ticket')->find($item['ticket_variant_id']);

                OrderItem::create([
                    'order_id' => $order->id,
                    'ticket_id' => $variant->ticket_id,
                    'ticket_variant_id' => $variant->id,
                    'ticket_name' => $variant->ticket->name,
                    'variant_name' => $variant->name,
                    'quantity' => $item['quantity'],
                    'unit_price' => $variant->price,
                    'subtotal' => $variant->price * $item['quantity'],
                ]);
            }

            // Record voucher usage
            if ($voucher) {
                $this->voucherService->recordUsage($voucher, $user, $order, $totals['discount']);
            }

            // Create payment invoice
            $payment = $this->paymentService->createInvoice($order);

            // Update order status
            $order->update(['status' => OrderStatus::AWAITING_PAYMENT]);

            event(new OrderCreated($order));

            return $order->fresh(['items', 'payment']);
        });
    }

    public function calculateTotals(array $items, ?Voucher $voucher = null): array
    {
        $subtotal = 0;

        foreach ($items as $item) {
            $variant = TicketVariant::find($item['ticket_variant_id']);
            $subtotal += $variant->price * $item['quantity'];
        }

        $discount = 0;
        if ($voucher) {
            $discount = $voucher->calculateDiscount($subtotal);
        }

        $afterDiscount = $subtotal - $discount;

        $platformFeeRate = config('ngevent.platform_fee_percentage', 5) / 100;
        $paymentFeeRate = config('ngevent.payment_fee_percentage', 2.5) / 100;

        $platformFee = (int) ceil($afterDiscount * $platformFeeRate);
        $paymentFee = (int) ceil($afterDiscount * $paymentFeeRate);

        $total = $afterDiscount + $paymentFee;

        return [
            'subtotal' => $subtotal,
            'discount' => $discount,
            'platform_fee' => $platformFee,
            'payment_fee' => $paymentFee,
            'total' => $total,
            'net_amount' => $afterDiscount - $platformFee, // Amount organizer receives
        ];
    }

    public function markAsPaid(Order $order): Order
    {
        return DB::transaction(function () use ($order) {
            $order->update([
                'status' => OrderStatus::PAID,
                'paid_at' => now(),
            ]);

            // Confirm stock sales
            foreach ($order->items as $item) {
                $this->ticketService->confirmSale($item->ticket_variant_id, $item->quantity);
            }

            event(new OrderPaid($order));

            return $order->fresh();
        });
    }

    public function expire(Order $order): Order
    {
        if ($order->isPaid()) {
            return $order;
        }

        return DB::transaction(function () use ($order) {
            $order->update(['status' => OrderStatus::EXPIRED]);

            // Release reserved stock
            foreach ($order->items as $item) {
                $this->ticketService->releaseStock($item->ticket_variant_id, $item->quantity);
            }

            // Release voucher usage
            if ($order->voucher_id) {
                $this->voucherService->releaseUsage($order);
            }

            event(new OrderExpired($order));

            return $order->fresh();
        });
    }

    public function cancel(Order $order, string $reason): Order
    {
        if (!$order->canCancel()) {
            return $order;
        }

        return DB::transaction(function () use ($order, $reason) {
            $order->update([
                'status' => OrderStatus::CANCELLED,
                'cancelled_at' => now(),
                'cancellation_reason' => $reason,
            ]);

            // Release reserved stock
            foreach ($order->items as $item) {
                $this->ticketService->releaseStock($item->ticket_variant_id, $item->quantity);
            }

            // Release voucher usage
            if ($order->voucher_id) {
                $this->voucherService->releaseUsage($order);
            }

            return $order->fresh();
        });
    }

    public function refund(Order $order, string $reason): Order
    {
        if (!$order->canRefund()) {
            return $order;
        }

        return DB::transaction(function () use ($order, $reason) {
            $order->update([
                'status' => OrderStatus::REFUNDED,
                'cancellation_reason' => $reason,
            ]);

            // Return sold stock
            foreach ($order->items as $item) {
                $this->ticketService->returnStock($item->ticket_variant_id, $item->quantity);
            }

            // Invalidate issued tickets
            $order->issuedTickets()->update(['is_used' => true, 'check_in_notes' => 'Order refunded']);

            // Update payment status
            $order->payment?->update(['status' => PaymentStatus::REFUNDED]);

            event(new OrderRefunded($order));

            return $order->fresh();
        });
    }

    public function complete(Order $order): Order
    {
        if ($order->status !== OrderStatus::PAID) {
            return $order;
        }

        return DB::transaction(function () use ($order) {
            $order->update([
                'status' => OrderStatus::COMPLETED,
                'completed_at' => now(),
            ]);

            return $order->fresh();
        });
    }

    public function getUserOrders(User $user, int $perPage = 10): LengthAwarePaginator
    {
        return Order::query()
            ->where('user_id', $user->id)
            ->with(['event', 'items', 'payment'])
            ->latest()
            ->paginate($perPage);
    }

    public function getEventOrders(Event $event, array $filters = []): LengthAwarePaginator
    {
        $query = Order::query()
            ->where('event_id', $event->id)
            ->with(['user', 'items']);

        if (!empty($filters['status'])) {
            $query->where('status', $filters['status']);
        }

        if (!empty($filters['search'])) {
            $search = $filters['search'];
            $query->where(function ($q) use ($search) {
                $q->where('order_number', 'ilike', "%{$search}%")
                    ->orWhere('customer_name', 'ilike', "%{$search}%")
                    ->orWhere('customer_email', 'ilike', "%{$search}%");
            });
        }

        return $query->latest()->paginate(20);
    }

    public function getOrderByNumber(string $orderNumber): ?Order
    {
        return Order::where('order_number', $orderNumber)
            ->with(['event', 'items.ticket', 'items.ticketVariant', 'payment', 'issuedTickets'])
            ->first();
    }

    public function getExpiredOrders(): Collection
    {
        return Order::query()
            ->whereIn('status', [OrderStatus::PENDING, OrderStatus::AWAITING_PAYMENT])
            ->where('expires_at', '<', now())
            ->get();
    }

    protected function generateOrderNumber(): string
    {
        $prefix = 'NGE';
        $date = now()->format('Ymd');
        $random = strtoupper(Str::random(6));

        $orderNumber = "{$prefix}{$date}{$random}";

        while (Order::where('order_number', $orderNumber)->exists()) {
            $random = strtoupper(Str::random(6));
            $orderNumber = "{$prefix}{$date}{$random}";
        }

        return $orderNumber;
    }
}

======================================================================
FILE: app/Services/PaymentService.php (211 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\OrderStatus;
use App\Enums\PaymentStatus;
use App\Exceptions\PaymentFailedException;
use App\Models\Order;
use App\Models\Payment;
use App\Services\Xendit\XenditClient;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Log;

class PaymentService
{
    public function __construct(
        private XenditClient $xenditClient,
        private OrderService $orderService,
    ) {}

    public function createInvoice(Order $order): Payment
    {
        try {
            $externalId = "order-{$order->order_number}";

            $items = $order->items->map(fn($item) => [
                'name' => $item->display_name,
                'quantity' => $item->quantity,
                'price' => $item->unit_price,
            ])->toArray();

            // Add fees as line items
            if ($order->payment_fee > 0) {
                $items[] = [
                    'name' => 'Biaya Pembayaran',
                    'quantity' => 1,
                    'price' => $order->payment_fee,
                ];
            }

            $response = $this->xenditClient->createInvoice([
                'external_id' => $externalId,
                'amount' => $order->total,
                'payer_email' => $order->customer_email,
                'description' => "Pembayaran tiket {$order->event->title}",
                'invoice_duration' => config('xendit.invoice_duration', 900),
                'customer' => [
                    'given_names' => $order->customer_name,
                    'email' => $order->customer_email,
                    'mobile_number' => $order->customer_phone,
                ],
                'items' => $items,
                'success_redirect_url' => route('checkout.success', $order),
                'failure_redirect_url' => route('checkout.failed', $order),
                'currency' => 'IDR',
            ]);

            return Payment::create([
                'order_id' => $order->id,
                'xendit_invoice_id' => $response['id'],
                'xendit_invoice_url' => $response['invoice_url'],
                'xendit_external_id' => $externalId,
                'amount' => $order->total,
                'status' => PaymentStatus::PENDING,
                'expires_at' => now()->addSeconds(config('xendit.invoice_duration', 900)),
                'raw_response' => $response,
            ]);

        } catch (\Exception $e) {
            Log::channel('payment')->error('Failed to create invoice', [
                'order_id' => $order->id,
                'error' => $e->getMessage(),
            ]);

            throw new PaymentFailedException(
                $order->id,
                'invoice_creation_failed',
                'Gagal membuat invoice pembayaran'
            );
        }
    }

    public function handleWebhook(array $payload): void
    {
        $invoiceId = $payload['id'] ?? null;
        $status = $payload['status'] ?? null;

        if (!$invoiceId || !$status) {
            Log::channel('webhook')->warning('Invalid webhook payload', $payload);
            return;
        }

        $payment = Payment::where('xendit_invoice_id', $invoiceId)->first();

        if (!$payment) {
            Log::channel('webhook')->warning('Payment not found for invoice', ['invoice_id' => $invoiceId]);
            return;
        }

        // Idempotency check
        if ($payment->status->isFinal()) {
            Log::channel('webhook')->info('Payment already in final state', [
                'invoice_id' => $invoiceId,
                'status' => $payment->status->value,
            ]);
            return;
        }

        DB::transaction(function () use ($payment, $payload, $status) {
            match ($status) {
                'PAID', 'SETTLED' => $this->handlePaid($payment, $payload),
                'EXPIRED' => $this->handleExpired($payment),
                default => Log::channel('webhook')->info('Unhandled status', ['status' => $status]),
            };
        });
    }

    protected function handlePaid(Payment $payment, array $payload): void
    {
        $payment->update([
            'status' => PaymentStatus::PAID,
            'paid_at' => now(),
            'payment_method' => $payload['payment_method'] ?? null,
            'payment_channel' => $payload['payment_channel'] ?? null,
            'paid_amount' => $payload['paid_amount'] ?? null,
            'adjusted_received_amount' => $payload['adjusted_received_amount'] ?? null,
            'fees_paid_amount' => $payload['fees_paid_amount'] ?? null,
            'raw_response' => $payload,
        ]);

        // Mark order as paid
        app(OrderService::class)->markAsPaid($payment->order);

        Log::channel('payment')->info('Payment successful', [
            'order_id' => $payment->order_id,
            'invoice_id' => $payment->xendit_invoice_id,
            'amount' => $payment->amount,
        ]);
    }

    protected function handleExpired(Payment $payment): void
    {
        $payment->update(['status' => PaymentStatus::EXPIRED]);

        // Expire the order
        app(OrderService::class)->expire($payment->order);

        Log::channel('payment')->info('Payment expired', [
            'order_id' => $payment->order_id,
            'invoice_id' => $payment->xendit_invoice_id,
        ]);
    }

    public function getPaymentStatus(Order $order): ?Payment
    {
        return $order->payment;
    }

    public function refreshPaymentStatus(Payment $payment): Payment
    {
        try {
            $response = $this->xenditClient->getInvoice($payment->xendit_invoice_id);

            $status = match ($response['status']) {
                'PAID', 'SETTLED' => PaymentStatus::PAID,
                'EXPIRED' => PaymentStatus::EXPIRED,
                'PENDING' => PaymentStatus::PENDING,
                default => $payment->status,
            };

            if ($status !== $payment->status) {
                $payment->update([
                    'status' => $status,
                    'raw_response' => $response,
                ]);

                if ($status === PaymentStatus::PAID) {
                    $this->handlePaid($payment, $response);
                } elseif ($status === PaymentStatus::EXPIRED) {
                    $this->handleExpired($payment);
                }
            }

            return $payment->fresh();

        } catch (\Exception $e) {
            Log::channel('payment')->error('Failed to refresh payment status', [
                'payment_id' => $payment->id,
                'error' => $e->getMessage(),
            ]);

            return $payment;
        }
    }

    public function expireInvoice(Payment $payment): bool
    {
        try {
            $this->xenditClient->expireInvoice($payment->xendit_invoice_id);
            $this->handleExpired($payment);
            return true;
        } catch (\Exception $e) {
            Log::channel('payment')->error('Failed to expire invoice', [
                'payment_id' => $payment->id,
                'error' => $e->getMessage(),
            ]);
            return false;
        }
    }
}

======================================================================
FILE: app/Services/SettlementService.php (222 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\EventStatus;
use App\Enums\OrderStatus;
use App\Enums\SettlementStatus;
use App\Events\SettlementProcessed;
use App\Models\Event;
use App\Models\Organizer;
use App\Models\Settlement;
use App\Models\User;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Pagination\LengthAwarePaginator;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Log;

class SettlementService
{
    public function createForEvent(Event $event): Settlement
    {
        $organizer = $event->organizer;
        $calculation = $this->calculate($event);

        return Settlement::create([
            'event_id' => $event->id,
            'organizer_id' => $organizer->id,
            'gross_amount' => $calculation['gross_amount'],
            'platform_fee' => $calculation['platform_fee'],
            'payment_fee_total' => $calculation['payment_fee_total'],
            'refund_amount' => $calculation['refund_amount'],
            'net_amount' => $calculation['net_amount'],
            'bank_name' => $organizer->bank_name,
            'bank_account_number' => $organizer->bank_account_number,
            'bank_account_name' => $organizer->bank_account_name,
            'status' => SettlementStatus::PENDING,
        ]);
    }

    public function calculate(Event $event): array
    {
        $paidOrders = $event->orders()
            ->whereIn('status', [OrderStatus::PAID, OrderStatus::COMPLETED])
            ->get();

        $refundedOrders = $event->orders()
            ->where('status', OrderStatus::REFUNDED)
            ->get();

        $grossAmount = $paidOrders->sum('subtotal') - $paidOrders->sum('discount');
        $platformFee = $paidOrders->sum('platform_fee');
        $paymentFeeTotal = $paidOrders->sum('payment_fee');
        $refundAmount = $refundedOrders->sum('subtotal') - $refundedOrders->sum('discount');
        $netAmount = $grossAmount - $platformFee - $refundAmount;

        return [
            'gross_amount' => max(0, $grossAmount),
            'platform_fee' => max(0, $platformFee),
            'payment_fee_total' => max(0, $paymentFeeTotal),
            'refund_amount' => max(0, $refundAmount),
            'net_amount' => max(0, $netAmount),
            'total_orders' => $paidOrders->count(),
            'total_tickets' => $paidOrders->sum(fn($o) => $o->items->sum('quantity')),
        ];
    }

    public function process(Settlement $settlement, User $admin): Settlement
    {
        if (!$settlement->canProcess()) {
            return $settlement;
        }

        $settlement->update([
            'status' => SettlementStatus::PROCESSING,
            'processed_by' => $admin->id,
        ]);

        return $settlement->fresh();
    }

    public function markAsTransferred(
        Settlement $settlement,
        string $reference,
        ?string $proofPath = null,
        ?string $notes = null
    ): Settlement {
        return DB::transaction(function () use ($settlement, $reference, $proofPath, $notes) {
            $settlement->update([
                'status' => SettlementStatus::TRANSFERRED,
                'transfer_reference' => $reference,
                'transfer_proof' => $proofPath,
                'transferred_at' => now(),
                'notes' => $notes,
            ]);

            event(new SettlementProcessed($settlement));

            Log::channel('payment')->info('Settlement transferred', [
                'settlement_id' => $settlement->id,
                'event_id' => $settlement->event_id,
                'amount' => $settlement->net_amount,
                'reference' => $reference,
            ]);

            return $settlement->fresh();
        });
    }

    public function markAsFailed(Settlement $settlement, string $reason): Settlement
    {
        $settlement->update([
            'status' => SettlementStatus::FAILED,
            'admin_notes' => $reason,
        ]);

        return $settlement->fresh();
    }

    public function retry(Settlement $settlement, User $admin): Settlement
    {
        if (!$settlement->canRetry()) {
            return $settlement;
        }

        $settlement->update([
            'status' => SettlementStatus::PENDING,
            'admin_notes' => null,
        ]);

        return $this->process($settlement, $admin);
    }

    public function getPendingSettlements(): Collection
    {
        return Settlement::query()
            ->with(['event', 'organizer'])
            ->where('status', SettlementStatus::PENDING)
            ->orderBy('created_at')
            ->get();
    }

    public function getAll(array $filters = []): LengthAwarePaginator
    {
        $query = Settlement::query()->with(['event', 'organizer']);

        if (!empty($filters['status'])) {
            $query->where('status', $filters['status']);
        }

        if (!empty($filters['organizer_id'])) {
            $query->where('organizer_id', $filters['organizer_id']);
        }

        if (!empty($filters['search'])) {
            $search = $filters['search'];
            $query->whereHas('event', fn($q) => $q->where('title', 'ilike', "%{$search}%"))
                ->orWhereHas('organizer', fn($q) => $q->where('name', 'ilike', "%{$search}%"));
        }

        return $query->latest()->paginate(20);
    }

    public function getOrganizerSettlements(Organizer $organizer): LengthAwarePaginator
    {
        return Settlement::query()
            ->with(['event'])
            ->where('organizer_id', $organizer->id)
            ->latest()
            ->paginate(10);
    }

    public function getEventsReadyForSettlement(): Collection
    {
        $delayDays = config('ngevent.settlement_delay_days', 7);

        return Event::query()
            ->with(['organizer'])
            ->where('status', EventStatus::COMPLETED)
            ->where('end_date', '<=', now()->subDays($delayDays))
            ->whereDoesntHave('settlement')
            ->whereHas('orders', fn($q) => $q->whereIn('status', [OrderStatus::PAID, OrderStatus::COMPLETED]))
            ->get();
    }

    public function processReadySettlements(): int
    {
        $events = $this->getEventsReadyForSettlement();
        $count = 0;

        foreach ($events as $event) {
            try {
                $this->createForEvent($event);
                $count++;

                Log::channel('payment')->info('Settlement created for event', [
                    'event_id' => $event->id,
                    'event_title' => $event->title,
                ]);
            } catch (\Exception $e) {
                Log::channel('payment')->error('Failed to create settlement', [
                    'event_id' => $event->id,
                    'error' => $e->getMessage(),
                ]);
            }
        }

        return $count;
    }

    public function getSettlementStats(): array
    {
        return [
            'pending_count' => Settlement::where('status', SettlementStatus::PENDING)->count(),
            'pending_amount' => Settlement::where('status', SettlementStatus::PENDING)->sum('net_amount'),
            'processing_count' => Settlement::where('status', SettlementStatus::PROCESSING)->count(),
            'transferred_this_month' => Settlement::where('status', SettlementStatus::TRANSFERRED)
                ->whereMonth('transferred_at', now()->month)
                ->sum('net_amount'),
        ];
    }
}

======================================================================
FILE: app/Services/TicketService.php (198 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\TicketType;
use App\Exceptions\InsufficientTicketException;
use App\Models\Event;
use App\Models\Ticket;
use App\Models\TicketVariant;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Support\Facades\DB;

class TicketService
{
    public function create(Event $event, array $data): Ticket
    {
        return DB::transaction(function () use ($event, $data) {
            $ticket = Ticket::create([
                'event_id' => $event->id,
                'name' => $data['name'],
                'description' => $data['description'] ?? null,
                'type' => $data['type'] ?? TicketType::REGULAR,
                'benefits' => $data['benefits'] ?? null,
                'max_per_order' => $data['max_per_order'] ?? 10,
                'sort_order' => $data['sort_order'] ?? 0,
                'is_active' => $data['is_active'] ?? true,
            ]);

            if (!empty($data['variants'])) {
                foreach ($data['variants'] as $variantData) {
                    $this->createVariant($ticket, $variantData);
                }
            }

            $event->updatePriceRange();

            return $ticket;
        });
    }

    public function update(Ticket $ticket, array $data): Ticket
    {
        $ticket->update(collect($data)->only([
            'name', 'description', 'type', 'benefits', 'max_per_order', 'sort_order', 'is_active'
        ])->toArray());

        $ticket->event->updatePriceRange();

        return $ticket->fresh();
    }

    public function delete(Ticket $ticket): bool
    {
        if ($ticket->orderItems()->exists()) {
            return false;
        }

        $event = $ticket->event;
        $ticket->delete();
        $event->updatePriceRange();

        return true;
    }

    public function createVariant(Ticket $ticket, array $data): TicketVariant
    {
        $variant = TicketVariant::create([
            'ticket_id' => $ticket->id,
            'event_day_id' => $data['event_day_id'] ?? null,
            'name' => $data['name'] ?? null,
            'price' => $data['price'] ?? 0,
            'original_price' => $data['original_price'] ?? null,
            'stock' => $data['stock'] ?? 0,
            'min_per_order' => $data['min_per_order'] ?? 1,
            'max_per_order' => $data['max_per_order'] ?? null,
            'sale_start_at' => $data['sale_start_at'] ?? null,
            'sale_end_at' => $data['sale_end_at'] ?? null,
            'is_active' => $data['is_active'] ?? true,
        ]);

        $ticket->event->updatePriceRange();

        return $variant;
    }

    public function updateVariant(TicketVariant $variant, array $data): TicketVariant
    {
        $variant->update(collect($data)->only([
            'event_day_id', 'name', 'price', 'original_price', 'stock',
            'min_per_order', 'max_per_order', 'sale_start_at', 'sale_end_at', 'is_active'
        ])->toArray());

        $variant->ticket->event->updatePriceRange();

        return $variant->fresh();
    }

    public function deleteVariant(TicketVariant $variant): bool
    {
        if ($variant->orderItems()->exists()) {
            return false;
        }

        $event = $variant->ticket->event;
        $variant->delete();
        $event->updatePriceRange();

        return true;
    }

    public function getAvailableVariants(Event $event): Collection
    {
        return TicketVariant::query()
            ->whereHas('ticket', fn($q) => $q->where('event_id', $event->id)->where('is_active', true))
            ->available()
            ->with(['ticket', 'eventDay'])
            ->get();
    }

    public function checkAvailability(int $variantId, int $quantity): bool
    {
        $variant = TicketVariant::find($variantId);

        if (!$variant || !$variant->isAvailable()) {
            return false;
        }

        return $variant->available_stock >= $quantity;
    }

    public function reserveStock(int $variantId, int $quantity): void
    {
        $variant = TicketVariant::lockForUpdate()->findOrFail($variantId);

        if ($variant->available_stock < $quantity) {
            throw new InsufficientTicketException(
                $variantId,
                $quantity,
                $variant->available_stock
            );
        }

        $variant->increment('reserved_count', $quantity);
    }

    public function releaseStock(int $variantId, int $quantity): void
    {
        $variant = TicketVariant::lockForUpdate()->findOrFail($variantId);
        $variant->decrement('reserved_count', min($quantity, $variant->reserved_count));
    }

    public function confirmSale(int $variantId, int $quantity): void
    {
        $variant = TicketVariant::lockForUpdate()->findOrFail($variantId);
        $variant->decrement('reserved_count', $quantity);
        $variant->increment('sold_count', $quantity);
    }

    public function returnStock(int $variantId, int $quantity): void
    {
        $variant = TicketVariant::lockForUpdate()->findOrFail($variantId);
        $variant->decrement('sold_count', min($quantity, $variant->sold_count));
    }

    public function getTicketsForEvent(Event $event): Collection
    {
        return $event->tickets()
            ->with(['variants.eventDay'])
            ->orderBy('sort_order')
            ->get();
    }

    public function getTicketStats(Event $event): array
    {
        $tickets = $event->tickets()->with('variants')->get();

        $totalStock = 0;
        $totalSold = 0;
        $totalRevenue = 0;

        foreach ($tickets as $ticket) {
            foreach ($ticket->variants as $variant) {
                $totalStock += $variant->stock;
                $totalSold += $variant->sold_count;
                $totalRevenue += $variant->sold_count * $variant->price;
            }
        }

        return [
            'total_stock' => $totalStock,
            'total_sold' => $totalSold,
            'total_available' => $totalStock - $totalSold,
            'total_revenue' => $totalRevenue,
            'sell_through_rate' => $totalStock > 0 ? round(($totalSold / $totalStock) * 100, 1) : 0,
        ];
    }
}

======================================================================
FILE: app/Services/VoucherService.php (182 lines)
======================================================================
<?php

namespace App\Services;

use App\Enums\VoucherType;
use App\Exceptions\VoucherInvalidException;
use App\Models\Event;
use App\Models\Order;
use App\Models\User;
use App\Models\Voucher;
use App\Models\VoucherUsage;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Pagination\LengthAwarePaginator;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Str;

class VoucherService
{
    public function create(array $data, ?User $createdBy = null): Voucher
    {
        return Voucher::create([
            'code' => $data['code'] ?? $this->generateCode(),
            'name' => $data['name'],
            'description' => $data['description'] ?? null,
            'type' => $data['type'] ?? VoucherType::FIXED,
            'value' => $data['value'],
            'min_purchase' => $data['min_purchase'] ?? null,
            'max_discount' => $data['max_discount'] ?? null,
            'usage_limit' => $data['usage_limit'] ?? null,
            'usage_limit_per_user' => $data['usage_limit_per_user'] ?? null,
            'event_id' => $data['event_id'] ?? null,
            'category_id' => $data['category_id'] ?? null,
            'starts_at' => $data['starts_at'] ?? null,
            'expires_at' => $data['expires_at'] ?? null,
            'is_active' => $data['is_active'] ?? true,
            'created_by' => $createdBy?->id,
        ]);
    }

    public function update(Voucher $voucher, array $data): Voucher
    {
        $voucher->update(collect($data)->only([
            'name', 'description', 'type', 'value', 'min_purchase', 'max_discount',
            'usage_limit', 'usage_limit_per_user', 'event_id', 'category_id',
            'starts_at', 'expires_at', 'is_active',
        ])->toArray());

        return $voucher->fresh();
    }

    public function delete(Voucher $voucher): bool
    {
        if ($voucher->usage_count > 0) {
            return false;
        }

        return $voucher->delete();
    }

    public function validate(string $code, User $user, Event $event, int $subtotal): Voucher
    {
        $voucher = Voucher::where('code', strtoupper($code))->first();

        if (!$voucher) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_NOT_FOUND);
        }

        if (!$voucher->is_active) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_INACTIVE);
        }

        if ($voucher->isExpired()) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_EXPIRED);
        }

        if ($voucher->starts_at && $voucher->starts_at->isFuture()) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_INACTIVE, 'Voucher belum aktif');
        }

        if ($voucher->hasReachedLimit()) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_USAGE_LIMIT);
        }

        if ($voucher->hasUserReachedLimit($user->id)) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_USER_LIMIT);
        }

        if (!$voucher->isApplicableToEvent($event)) {
            throw new VoucherInvalidException($code, VoucherInvalidException::REASON_NOT_APPLICABLE);
        }

        if (!$voucher->isApplicableToAmount($subtotal)) {
            throw new VoucherInvalidException(
                $code,
                VoucherInvalidException::REASON_MIN_PURCHASE,
                'Minimum pembelian ' . $voucher->formatted_min_purchase
            );
        }

        return $voucher;
    }

    public function calculateDiscount(Voucher $voucher, int $subtotal): int
    {
        return $voucher->calculateDiscount($subtotal);
    }

    public function recordUsage(Voucher $voucher, User $user, Order $order, int $discountAmount): VoucherUsage
    {
        $voucher->incrementUsage();

        return VoucherUsage::create([
            'voucher_id' => $voucher->id,
            'user_id' => $user->id,
            'order_id' => $order->id,
            'discount_amount' => $discountAmount,
        ]);
    }

    public function releaseUsage(Order $order): void
    {
        $usage = VoucherUsage::where('order_id', $order->id)->first();

        if ($usage) {
            $usage->voucher->decrementUsage();
            $usage->delete();
        }
    }

    public function getAll(array $filters = []): LengthAwarePaginator
    {
        $query = Voucher::query()->with(['event', 'category', 'createdBy']);

        if (!empty($filters['search'])) {
            $search = $filters['search'];
            $query->where(function ($q) use ($search) {
                $q->where('code', 'ilike', "%{$search}%")
                    ->orWhere('name', 'ilike', "%{$search}%");
            });
        }

        if (isset($filters['is_active'])) {
            $query->where('is_active', $filters['is_active']);
        }

        if (!empty($filters['event_id'])) {
            $query->where('event_id', $filters['event_id']);
        }

        return $query->latest()->paginate(20);
    }

    public function getActiveVouchers(): Collection
    {
        return Voucher::query()
            ->active()
            ->available()
            ->get();
    }

    public function getVoucherStats(Voucher $voucher): array
    {
        $usages = $voucher->usages()->with('order')->get();

        return [
            'total_usage' => $voucher->usage_count,
            'remaining_usage' => $voucher->remaining_usage,
            'total_discount_given' => $usages->sum('discount_amount'),
            'unique_users' => $usages->pluck('user_id')->unique()->count(),
        ];
    }

    protected function generateCode(): string
    {
        do {
            $code = strtoupper(Str::random(8));
        } while (Voucher::where('code', $code)->exists());

        return $code;
    }
}

======================================================================
FILE: app/Services/Xendit/XenditClient.php (110 lines)
======================================================================
<?php

namespace App\Services\Xendit;

use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;

class XenditClient
{
    protected string $baseUrl;
    protected ?string $secretKey;

    public function __construct()
    {
        $this->baseUrl = config('xendit.base_url', 'https://api.xendit.co');
        $this->secretKey = config('xendit.secret_key');
    }

    public function isConfigured(): bool
    {
        return !empty($this->secretKey);
    }

    public function createInvoice(array $params): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured. Please set XENDIT_SECRET_KEY in .env');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->post("{$this->baseUrl}/v2/invoices", $params);

        if (!$response->successful()) {
            Log::channel('payment')->error('Xendit create invoice failed', [
                'status' => $response->status(),
                'body' => $response->json(),
            ]);

            throw new \Exception('Failed to create invoice: ' . ($response->json()['message'] ?? 'Unknown error'));
        }

        return $response->json();
    }

    public function getInvoice(string $invoiceId): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->get("{$this->baseUrl}/v2/invoices/{$invoiceId}");

        return $response->json();
    }

    public function expireInvoice(string $invoiceId): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->post("{$this->baseUrl}/invoices/{$invoiceId}/expire!");

        return $response->json();
    }

    public function getBalance(): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->get("{$this->baseUrl}/balance");

        return $response->json();
    }

    public function createDisbursement(array $params): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->post("{$this->baseUrl}/disbursements", $params);

        return $response->json();
    }

    public function getDisbursement(string $disbursementId): array
    {
        if (!$this->isConfigured()) {
            throw new \Exception('Xendit is not configured');
        }

        $response = Http::withBasicAuth($this->secretKey, '')
            ->get("{$this->baseUrl}/disbursements/{$disbursementId}");

        return $response->json();
    }

    public function verifyWebhookSignature(string $callbackToken, string $expectedToken): bool
    {
        return hash_equals($expectedToken, $callbackToken);
    }
}

======================================================================
FILE: app/Traits/HasSlug.php (42 lines)
======================================================================
<?php

namespace App\Traits;

use Illuminate\Support\Str;

trait HasSlug
{
    public static function bootHasSlug(): void
    {
        static::creating(function ($model) {
            if (empty($model->{$model->slugField()})) {
                $model->{$model->slugField()} = $model->generateUniqueSlug();
            }
        });
    }

    public function generateUniqueSlug(): string
    {
        $slug = Str::slug($this->{$this->slugSource()});
        $originalSlug = $slug;
        $count = 1;

        while (static::where($this->slugField(), $slug)->exists()) {
            $slug = "{$originalSlug}-{$count}";
            $count++;
        }

        return $slug;
    }

    protected function slugField(): string
    {
        return 'slug';
    }

    protected function slugSource(): string
    {
        return 'name';
    }
}

======================================================================
FILE: app/View/Components/AppLayout.php (15 lines)
======================================================================
<?php

namespace App\View\Components;

use Illuminate\View\Component;
use Illuminate\View\View;

class AppLayout extends Component
{
    public function render(): View
    {
        return view('layouts.app');
    }
}

======================================================================
FILE: app/View/Components/OrganizerLayout.php (15 lines)
======================================================================
<?php

namespace App\View\Components;

use Illuminate\View\Component;
use Illuminate\View\View;

class OrganizerLayout extends Component
{
    public function render(): View
    {
        return view('layouts.organizer');
    }
}

======================================================================
FILE: composer.json (72 lines)
======================================================================
{
    "$schema": "https://getcomposer.org/schema.json",
    "name": "ngevent/platform",
    "type": "project",
    "description": "ngevent.id - Platform Ticketing Event Indonesia",
    "keywords": ["laravel", "ticketing", "event", "indonesia"],
    "license": "MIT",
    "require": {
        "php": "^8.2",
        "barryvdh/laravel-dompdf": "^3.0",
        "guzzlehttp/guzzle": "^7.8",
        "intervention/image-laravel": "^1.3",
        "laravel/framework": "^12.0",
        "laravel/sanctum": "^4.0",
        "laravel/tinker": "^2.10.1",
        "simplesoftwareio/simple-qrcode": "^4.2"
    },
    "require-dev": {
        "fakerphp/faker": "^1.23",
        "laravel/pail": "^1.2.2",
        "laravel/pint": "^1.24",
        "laravel/sail": "^1.41",
        "mockery/mockery": "^1.6",
        "nunomaduro/collision": "^8.6",
        "phpunit/phpunit": "^11.5.3"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
            "@php artisan package:discover --ansi"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi",
            "@php artisan migrate --graceful --ansi"
        ]
    },
    "extra": {
        "laravel": {
            "dont-discover": []
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "allow-plugins": {
            "pestphp/pest-plugin": true,
            "php-http/discovery": true
        }
    },
    "minimum-stability": "stable",
    "prefer-stable": true
}

======================================================================
FILE: config/app.php (127 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Application Name
    |--------------------------------------------------------------------------
    |
    | This value is the name of your application, which will be used when the
    | framework needs to place the application's name in a notification or
    | other UI elements where an application name needs to be displayed.
    |
    */

    'name' => env('APP_NAME', 'Laravel'),

    /*
    |--------------------------------------------------------------------------
    | Application Environment
    |--------------------------------------------------------------------------
    |
    | This value determines the "environment" your application is currently
    | running in. This may determine how you prefer to configure various
    | services the application utilizes. Set this in your ".env" file.
    |
    */

    'env' => env('APP_ENV', 'production'),

    /*
    |--------------------------------------------------------------------------
    | Application Debug Mode
    |--------------------------------------------------------------------------
    |
    | When your application is in debug mode, detailed error messages with
    | stack traces will be shown on every error that occurs within your
    | application. If disabled, a simple generic error page is shown.
    |
    */

    'debug' => (bool) env('APP_DEBUG', false),

    /*
    |--------------------------------------------------------------------------
    | Application URL
    |--------------------------------------------------------------------------
    |
    | This URL is used by the console to properly generate URLs when using
    | the Artisan command line tool. You should set this to the root of
    | the application so that it's available within Artisan commands.
    |
    */

    'url' => env('APP_URL', 'http://localhost'),

    /*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default timezone for your application, which
    | will be used by the PHP date and date-time functions. The timezone
    | is set to "UTC" by default as it is suitable for most use cases.
    |
    */

    'timezone' => 'UTC',

    /*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    |
    | The application locale determines the default locale that will be used
    | by Laravel's translation / localization methods. This option can be
    | set to any locale for which you plan to have translation strings.
    |
    */

    'locale' => env('APP_LOCALE', 'en'),

    'fallback_locale' => env('APP_FALLBACK_LOCALE', 'en'),

    'faker_locale' => env('APP_FAKER_LOCALE', 'en_US'),

    /*
    |--------------------------------------------------------------------------
    | Encryption Key
    |--------------------------------------------------------------------------
    |
    | This key is utilized by Laravel's encryption services and should be set
    | to a random, 32 character string to ensure that all encrypted values
    | are secure. You should do this prior to deploying the application.
    |
    */

    'cipher' => 'AES-256-CBC',

    'key' => env('APP_KEY'),

    'previous_keys' => [
        ...array_filter(
            explode(',', (string) env('APP_PREVIOUS_KEYS', ''))
        ),
    ],

    /*
    |--------------------------------------------------------------------------
    | Maintenance Mode Driver
    |--------------------------------------------------------------------------
    |
    | These configuration options determine the driver used to determine and
    | manage Laravel's "maintenance mode" status. The "cache" driver will
    | allow maintenance mode to be controlled across multiple machines.
    |
    | Supported drivers: "file", "cache"
    |
    */

    'maintenance' => [
        'driver' => env('APP_MAINTENANCE_DRIVER', 'file'),
        'store' => env('APP_MAINTENANCE_STORE', 'database'),
    ],

];

======================================================================
FILE: config/auth.php (116 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Defaults
    |--------------------------------------------------------------------------
    |
    | This option defines the default authentication "guard" and password
    | reset "broker" for your application. You may change these values
    | as required, but they're a perfect start for most applications.
    |
    */

    'defaults' => [
        'guard' => env('AUTH_GUARD', 'web'),
        'passwords' => env('AUTH_PASSWORD_BROKER', 'users'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Authentication Guards
    |--------------------------------------------------------------------------
    |
    | Next, you may define every authentication guard for your application.
    | Of course, a great default configuration has been defined for you
    | which utilizes session storage plus the Eloquent user provider.
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | Supported: "session"
    |
    */

    'guards' => [
        'web' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | User Providers
    |--------------------------------------------------------------------------
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | If you have multiple user tables or models you may configure multiple
    | providers to represent the model / table. These providers may then
    | be assigned to any extra authentication guards you have defined.
    |
    | Supported: "database", "eloquent"
    |
    */

    'providers' => [
        'users' => [
            'driver' => 'eloquent',
            'model' => env('AUTH_MODEL', App\Models\User::class),
        ],

        // 'users' => [
        //     'driver' => 'database',
        //     'table' => 'users',
        // ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Resetting Passwords
    |--------------------------------------------------------------------------
    |
    | These configuration options specify the behavior of Laravel's password
    | reset functionality, including the table utilized for token storage
    | and the user provider that is invoked to actually retrieve users.
    |
    | The expiry time is the number of minutes that each reset token will be
    | considered valid. This security feature keeps tokens short-lived so
    | they have less time to be guessed. You may change this as needed.
    |
    | The throttle setting is the number of seconds a user must wait before
    | generating more password reset tokens. This prevents the user from
    | quickly generating a very large amount of password reset tokens.
    |
    */

    'passwords' => [
        'users' => [
            'provider' => 'users',
            'table' => env('AUTH_PASSWORD_RESET_TOKEN_TABLE', 'password_reset_tokens'),
            'expire' => 60,
            'throttle' => 60,
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Password Confirmation Timeout
    |--------------------------------------------------------------------------
    |
    | Here you may define the number of seconds before a password confirmation
    | window expires and users are asked to re-enter their password via the
    | confirmation screen. By default, the timeout lasts for three hours.
    |
    */

    'password_timeout' => env('AUTH_PASSWORD_TIMEOUT', 10800),

];

======================================================================
FILE: config/cache.php (118 lines)
======================================================================
<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Cache Store
    |--------------------------------------------------------------------------
    |
    | This option controls the default cache store that will be used by the
    | framework. This connection is utilized if another isn't explicitly
    | specified when running a cache operation inside the application.
    |
    */

    'default' => env('CACHE_STORE', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Cache Stores
    |--------------------------------------------------------------------------
    |
    | Here you may define all of the cache "stores" for your application as
    | well as their drivers. You may even define multiple stores for the
    | same cache driver to group types of items stored in your caches.
    |
    | Supported drivers: "array", "database", "file", "memcached",
    |                    "redis", "dynamodb", "octane",
    |                    "failover", "null"
    |
    */

    'stores' => [

        'array' => [
            'driver' => 'array',
            'serialize' => false,
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_CACHE_CONNECTION'),
            'table' => env('DB_CACHE_TABLE', 'cache'),
            'lock_connection' => env('DB_CACHE_LOCK_CONNECTION'),
            'lock_table' => env('DB_CACHE_LOCK_TABLE'),
        ],

        'file' => [
            'driver' => 'file',
            'path' => storage_path('framework/cache/data'),
            'lock_path' => storage_path('framework/cache/data'),
        ],

        'memcached' => [
            'driver' => 'memcached',
            'persistent_id' => env('MEMCACHED_PERSISTENT_ID'),
            'sasl' => [
                env('MEMCACHED_USERNAME'),
                env('MEMCACHED_PASSWORD'),
            ],
            'options' => [
                // Memcached::OPT_CONNECT_TIMEOUT => 2000,
            ],
            'servers' => [
                [
                    'host' => env('MEMCACHED_HOST', '127.0.0.1'),
                    'port' => env('MEMCACHED_PORT', 11211),
                    'weight' => 100,
                ],
            ],
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_CACHE_CONNECTION', 'cache'),
            'lock_connection' => env('REDIS_CACHE_LOCK_CONNECTION', 'default'),
        ],

        'dynamodb' => [
            'driver' => 'dynamodb',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'table' => env('DYNAMODB_CACHE_TABLE', 'cache'),
            'endpoint' => env('DYNAMODB_ENDPOINT'),
        ],

        'octane' => [
            'driver' => 'octane',
        ],

        'failover' => [
            'driver' => 'failover',
            'stores' => [
                'database',
                'array',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Key Prefix
    |--------------------------------------------------------------------------
    |
    | When utilizing the APC, database, memcached, Redis, and DynamoDB cache
    | stores, there might be other applications using the same cache. For
    | that reason, you may prefix every cache key to avoid collisions.
    |
    */

    'prefix' => env('CACHE_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-cache-'),

];

======================================================================
FILE: config/database.php (184 lines)
======================================================================
<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Database Connection Name
    |--------------------------------------------------------------------------
    |
    | Here you may specify which of the database connections below you wish
    | to use as your default connection for database operations. This is
    | the connection which will be utilized unless another connection
    | is explicitly specified when you execute a query / statement.
    |
    */

    'default' => env('DB_CONNECTION', 'sqlite'),

    /*
    |--------------------------------------------------------------------------
    | Database Connections
    |--------------------------------------------------------------------------
    |
    | Below are all of the database connections defined for your application.
    | An example configuration is provided for each database system which
    | is supported by Laravel. You're free to add / remove connections.
    |
    */

    'connections' => [

        'sqlite' => [
            'driver' => 'sqlite',
            'url' => env('DB_URL'),
            'database' => env('DB_DATABASE', database_path('database.sqlite')),
            'prefix' => '',
            'foreign_key_constraints' => env('DB_FOREIGN_KEYS', true),
            'busy_timeout' => null,
            'journal_mode' => null,
            'synchronous' => null,
            'transaction_mode' => 'DEFERRED',
        ],

        'mysql' => [
            'driver' => 'mysql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                (PHP_VERSION_ID >= 80500 ? \Pdo\Mysql::ATTR_SSL_CA : \PDO::MYSQL_ATTR_SSL_CA) => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'mariadb' => [
            'driver' => 'mariadb',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                (PHP_VERSION_ID >= 80500 ? \Pdo\Mysql::ATTR_SSL_CA : \PDO::MYSQL_ATTR_SSL_CA) => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'pgsql' => [
            'driver' => 'pgsql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '5432'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            'search_path' => 'public',
            'sslmode' => 'prefer',
        ],

        'sqlsrv' => [
            'driver' => 'sqlsrv',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', 'localhost'),
            'port' => env('DB_PORT', '1433'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            // 'encrypt' => env('DB_ENCRYPT', 'yes'),
            // 'trust_server_certificate' => env('DB_TRUST_SERVER_CERTIFICATE', 'false'),
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Migration Repository Table
    |--------------------------------------------------------------------------
    |
    | This table keeps track of all the migrations that have already run for
    | your application. Using this information, we can determine which of
    | the migrations on disk haven't actually been run on the database.
    |
    */

    'migrations' => [
        'table' => 'migrations',
        'update_date_on_publish' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | Redis Databases
    |--------------------------------------------------------------------------
    |
    | Redis is an open source, fast, and advanced key-value store that also
    | provides a richer body of commands than a typical key-value system
    | such as Memcached. You may define your connection settings here.
    |
    */

    'redis' => [

        'client' => env('REDIS_CLIENT', 'phpredis'),

        'options' => [
            'cluster' => env('REDIS_CLUSTER', 'redis'),
            'prefix' => env('REDIS_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-database-'),
            'persistent' => env('REDIS_PERSISTENT', false),
        ],

        'default' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_DB', '0'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

        'cache' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_CACHE_DB', '1'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

    ],

];

======================================================================
FILE: config/dompdf.php (302 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Settings
    |--------------------------------------------------------------------------
    |
    | Set some default values. It is possible to add all defines that can be set
    | in dompdf_config.inc.php. You can also override the entire config file.
    |
    */
    'show_warnings' => false,   // Throw an Exception on warnings from dompdf

    'public_path' => null,  // Override the public path if needed

    /*
     * Dejavu Sans font is missing glyphs for converted entities, turn it off if you need to show € and £.
     */
    'convert_entities' => true,

    'options' => [
        /**
         * The location of the DOMPDF font directory
         *
         * The location of the directory where DOMPDF will store fonts and font metrics
         * Note: This directory must exist and be writable by the webserver process.
         * *Please note the trailing slash.*
         *
         * Notes regarding fonts:
         * Additional .afm font metrics can be added by executing load_font.php from command line.
         *
         * Only the original "Base 14 fonts" are present on all pdf viewers. Additional fonts must
         * be embedded in the pdf file or the PDF may not display correctly. This can significantly
         * increase file size unless font subsetting is enabled. Before embedding a font please
         * review your rights under the font license.
         *
         * Any font specification in the source HTML is translated to the closest font available
         * in the font directory.
         *
         * The pdf standard "Base 14 fonts" are:
         * Courier, Courier-Bold, Courier-BoldOblique, Courier-Oblique,
         * Helvetica, Helvetica-Bold, Helvetica-BoldOblique, Helvetica-Oblique,
         * Times-Roman, Times-Bold, Times-BoldItalic, Times-Italic,
         * Symbol, ZapfDingbats.
         */
        'font_dir' => storage_path('fonts'), // advised by dompdf (https://github.com/dompdf/dompdf/pull/782)

        /**
         * The location of the DOMPDF font cache directory
         *
         * This directory contains the cached font metrics for the fonts used by DOMPDF.
         * This directory can be the same as DOMPDF_FONT_DIR
         *
         * Note: This directory must exist and be writable by the webserver process.
         */
        'font_cache' => storage_path('fonts'),

        /**
         * The location of a temporary directory.
         *
         * The directory specified must be writeable by the webserver process.
         * The temporary directory is required to download remote images and when
         * using the PDFLib back end.
         */
        'temp_dir' => sys_get_temp_dir(),

        /**
         * ==== IMPORTANT ====
         *
         * dompdf's "chroot": Prevents dompdf from accessing system files or other
         * files on the webserver.  All local files opened by dompdf must be in a
         * subdirectory of this directory.  DO NOT set it to '/' since this could
         * allow an attacker to use dompdf to read any files on the server.  This
         * should be an absolute path.
         * This is only checked on command line call by dompdf.php, but not by
         * direct class use like:
         * $dompdf = new DOMPDF();  $dompdf->load_html($htmldata); $dompdf->render(); $pdfdata = $dompdf->output();
         */
        'chroot' => realpath(base_path()),

        /**
         * Protocol whitelist
         *
         * Protocols and PHP wrappers allowed in URIs, and the validation rules
         * that determine if a resouce may be loaded. Full support is not guaranteed
         * for the protocols/wrappers specified
         * by this array.
         *
         * @var array
         */
        'allowed_protocols' => [
            'data://' => ['rules' => []],
            'file://' => ['rules' => []],
            'http://' => ['rules' => []],
            'https://' => ['rules' => []],
        ],

        /**
         * Operational artifact (log files, temporary files) path validation
         */
        'artifactPathValidation' => null,

        /**
         * @var string
         */
        'log_output_file' => null,

        /**
         * Whether to enable font subsetting or not.
         */
        'enable_font_subsetting' => false,

        /**
         * The PDF rendering backend to use
         *
         * Valid settings are 'PDFLib', 'CPDF' (the bundled R&OS PDF class), 'GD' and
         * 'auto'. 'auto' will look for PDFLib and use it if found, or if not it will
         * fall back on CPDF. 'GD' renders PDFs to graphic files.
         * {@link * Canvas_Factory} ultimately determines which rendering class to
         * instantiate based on this setting.
         *
         * Both PDFLib & CPDF rendering backends provide sufficient rendering
         * capabilities for dompdf, however additional features (e.g. object,
         * image and font support, etc.) differ between backends.  Please see
         * {@link PDFLib_Adapter} for more information on the PDFLib backend
         * and {@link CPDF_Adapter} and lib/class.pdf.php for more information
         * on CPDF. Also see the documentation for each backend at the links
         * below.
         *
         * The GD rendering backend is a little different than PDFLib and
         * CPDF. Several features of CPDF and PDFLib are not supported or do
         * not make any sense when creating image files.  For example,
         * multiple pages are not supported, nor are PDF 'objects'.  Have a
         * look at {@link GD_Adapter} for more information.  GD support is
         * experimental, so use it at your own risk.
         *
         * @link http://www.pdflib.com
         * @link http://www.ros.co.nz/pdf
         * @link http://www.php.net/image
         */
        'pdf_backend' => 'CPDF',

        /**
         * html target media view which should be rendered into pdf.
         * List of types and parsing rules for future extensions:
         * http://www.w3.org/TR/REC-html40/types.html
         *   screen, tty, tv, projection, handheld, print, braille, aural, all
         * Note: aural is deprecated in CSS 2.1 because it is replaced by speech in CSS 3.
         * Note, even though the generated pdf file is intended for print output,
         * the desired content might be different (e.g. screen or projection view of html file).
         * Therefore allow specification of content here.
         */
        'default_media_type' => 'screen',

        /**
         * The default paper size.
         *
         * North America standard is "letter"; other countries generally "a4"
         *
         * @see CPDF_Adapter::PAPER_SIZES for valid sizes ('letter', 'legal', 'A4', etc.)
         */
        'default_paper_size' => 'a4',

        /**
         * The default paper orientation.
         *
         * The orientation of the page (portrait or landscape).
         *
         * @var string
         */
        'default_paper_orientation' => 'portrait',

        /**
         * The default font family
         *
         * Used if no suitable fonts can be found. This must exist in the font folder.
         *
         * @var string
         */
        'default_font' => 'serif',

        /**
         * Image DPI setting
         *
         * This setting determines the default DPI setting for images and fonts.  The
         * DPI may be overridden for inline images by explictly setting the
         * image's width & height style attributes (i.e. if the image's native
         * width is 600 pixels and you specify the image's width as 72 points,
         * the image will have a DPI of 600 in the rendered PDF.  The DPI of
         * background images can not be overridden and is controlled entirely
         * via this parameter.
         *
         * For the purposes of DOMPDF, pixels per inch (PPI) = dots per inch (DPI).
         * If a size in html is given as px (or without unit as image size),
         * this tells the corresponding size in pt.
         * This adjusts the relative sizes to be similar to the rendering of the
         * html page in a reference browser.
         *
         * In pdf, always 1 pt = 1/72 inch
         *
         * Rendering resolution of various browsers in px per inch:
         * Windows Firefox and Internet Explorer:
         *   SystemControl->Display properties->FontResolution: Default:96, largefonts:120, custom:?
         * Linux Firefox:
         *   about:config *resolution: Default:96
         *   (xorg screen dimension in mm and Desktop font dpi settings are ignored)
         *
         * Take care about extra font/image zoom factor of browser.
         *
         * In images, <img> size in pixel attribute, img css style, are overriding
         * the real image dimension in px for rendering.
         *
         * @var int
         */
        'dpi' => 96,

        /**
         * Enable embedded PHP
         *
         * If this setting is set to true then DOMPDF will automatically evaluate embedded PHP contained
         * within <script type="text/php"> ... </script> tags.
         *
         * ==== IMPORTANT ==== Enabling this for documents you do not trust (e.g. arbitrary remote html pages)
         * is a security risk.
         * Embedded scripts are run with the same level of system access available to dompdf.
         * Set this option to false (recommended) if you wish to process untrusted documents.
         * This setting may increase the risk of system exploit.
         * Do not change this settings without understanding the consequences.
         * Additional documentation is available on the dompdf wiki at:
         * https://github.com/dompdf/dompdf/wiki
         *
         * @var bool
         */
        'enable_php' => false,

        /**
         * Rnable inline JavaScript
         *
         * If this setting is set to true then DOMPDF will automatically insert JavaScript code contained
         * within <script type="text/javascript"> ... </script> tags as written into the PDF.
         * NOTE: This is PDF-based JavaScript to be executed by the PDF viewer,
         * not browser-based JavaScript executed by Dompdf.
         *
         * @var bool
         */
        'enable_javascript' => true,

        /**
         * Enable remote file access
         *
         *  If this setting is set to true, DOMPDF will access remote sites for
         *  images and CSS files as required.
         *
         *  ==== IMPORTANT ====
         *  This can be a security risk, in particular in combination with isPhpEnabled and
         *  allowing remote html code to be passed to $dompdf = new DOMPDF(); $dompdf->load_html(...);
         *  This allows anonymous users to download legally doubtful internet content which on
         *  tracing back appears to being downloaded by your server, or allows malicious php code
         *  in remote html pages to be executed by your server with your account privileges.
         *
         *  This setting may increase the risk of system exploit. Do not change
         *  this settings without understanding the consequences. Additional
         *  documentation is available on the dompdf wiki at:
         *  https://github.com/dompdf/dompdf/wiki
         *
         * @var bool
         */
        'enable_remote' => false,

        /**
         * List of allowed remote hosts
         *
         * Each value of the array must be a valid hostname.
         *
         * This will be used to filter which resources can be loaded in combination with
         * isRemoteEnabled. If enable_remote is FALSE, then this will have no effect.
         *
         * Leave to NULL to allow any remote host.
         *
         * @var array|null
         */
        'allowed_remote_hosts' => null,

        /**
         * A ratio applied to the fonts height to be more like browsers' line height
         */
        'font_height_ratio' => 1.1,

        /**
         * Use the HTML5 Lib parser
         *
         * @deprecated This feature is now always on in dompdf 2.x
         *
         * @var bool
         */
        'enable_html5_parser' => true,
    ],

];

======================================================================
FILE: config/filesystems.php (81 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Filesystem Disk
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default filesystem disk that should be used
    | by the framework. The "local" disk, as well as a variety of cloud
    | based disks are available to your application for file storage.
    |
    */

    'default' => env('FILESYSTEM_DISK', 'local'),

    /*
    |--------------------------------------------------------------------------
    | Filesystem Disks
    |--------------------------------------------------------------------------
    |
    | Below you may configure as many filesystem disks as necessary, and you
    | may even configure multiple disks for the same driver. Examples for
    | most supported storage drivers are configured here for reference.
    |
    | Supported drivers: "local", "ftp", "sftp", "s3"
    |
    */

    'disks' => [

        'local' => [
            'driver' => 'local',
            'root' => storage_path('app/private'),
            'serve' => true,
            'throw' => false,
            'report' => false,
        ],

        'public' => [
            'driver' => 'local',
            'root' => storage_path('app/public'),
            'url' => env('APP_URL').'/storage',
            'visibility' => 'public',
            'throw' => false,
            'report' => false,
        ],

        's3' => [
            'driver' => 's3',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION'),
            'bucket' => env('AWS_BUCKET'),
            'url' => env('AWS_URL'),
            'endpoint' => env('AWS_ENDPOINT'),
            'use_path_style_endpoint' => env('AWS_USE_PATH_STYLE_ENDPOINT', false),
            'throw' => false,
            'report' => false,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Symbolic Links
    |--------------------------------------------------------------------------
    |
    | Here you may configure the symbolic links that will be created when the
    | `storage:link` Artisan command is executed. The array keys should be
    | the locations of the links and the values should be their targets.
    |
    */

    'links' => [
        public_path('storage') => storage_path('app/public'),
    ],

];

======================================================================
FILE: config/logging.php (133 lines)
======================================================================
<?php

use Monolog\Handler\NullHandler;
use Monolog\Handler\StreamHandler;
use Monolog\Handler\SyslogUdpHandler;
use Monolog\Processor\PsrLogMessageProcessor;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Log Channel
    |--------------------------------------------------------------------------
    |
    | This option defines the default log channel that is utilized to write
    | messages to your logs. The value provided here should match one of
    | the channels present in the list of "channels" configured below.
    |
    */

    'default' => env('LOG_CHANNEL', 'stack'),

    /*
    |--------------------------------------------------------------------------
    | Deprecations Log Channel
    |--------------------------------------------------------------------------
    |
    | This option controls the log channel that should be used to log warnings
    | regarding deprecated PHP and library features. This allows you to get
    | your application ready for upcoming major versions of dependencies.
    |
    */

    'deprecations' => [
        'channel' => env('LOG_DEPRECATIONS_CHANNEL', 'null'),
        'trace' => env('LOG_DEPRECATIONS_TRACE', false),
    ],

    /*
    |--------------------------------------------------------------------------
    | Log Channels
    |--------------------------------------------------------------------------
    |
    | Here you may configure the log channels for your application. Laravel
    | utilizes the Monolog PHP logging library, which includes a variety
    | of powerful log handlers and formatters that you're free to use.
    |
    | Available drivers: "single", "daily", "slack", "syslog",
    |                    "errorlog", "monolog", "custom", "stack"
    |
    */

    'channels' => [

        'stack' => [
            'driver' => 'stack',
            'channels' => explode(',', (string) env('LOG_STACK', 'single')),
            'ignore_exceptions' => false,
        ],

        'single' => [
            'driver' => 'single',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'daily' => [
            'driver' => 'daily',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'days' => env('LOG_DAILY_DAYS', 14),
            'replace_placeholders' => true,
        ],

        'slack' => [
            'driver' => 'slack',
            'url' => env('LOG_SLACK_WEBHOOK_URL'),
            'username' => env('LOG_SLACK_USERNAME', 'Laravel Log'),
            'emoji' => env('LOG_SLACK_EMOJI', ':boom:'),
            'level' => env('LOG_LEVEL', 'critical'),
            'replace_placeholders' => true,
        ],

        'papertrail' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => env('LOG_PAPERTRAIL_HANDLER', SyslogUdpHandler::class),
            'handler_with' => [
                'host' => env('PAPERTRAIL_URL'),
                'port' => env('PAPERTRAIL_PORT'),
                'connectionString' => 'tls://'.env('PAPERTRAIL_URL').':'.env('PAPERTRAIL_PORT'),
            ],
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'stderr' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => StreamHandler::class,
            'handler_with' => [
                'stream' => 'php://stderr',
            ],
            'formatter' => env('LOG_STDERR_FORMATTER'),
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'syslog' => [
            'driver' => 'syslog',
            'level' => env('LOG_LEVEL', 'debug'),
            'facility' => env('LOG_SYSLOG_FACILITY', LOG_USER),
            'replace_placeholders' => true,
        ],

        'errorlog' => [
            'driver' => 'errorlog',
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'null' => [
            'driver' => 'monolog',
            'handler' => NullHandler::class,
        ],

        'emergency' => [
            'path' => storage_path('logs/laravel.log'),
        ],

    ],

];

======================================================================
FILE: config/mail.php (119 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Mailer
    |--------------------------------------------------------------------------
    |
    | This option controls the default mailer that is used to send all email
    | messages unless another mailer is explicitly specified when sending
    | the message. All additional mailers can be configured within the
    | "mailers" array. Examples of each type of mailer are provided.
    |
    */

    'default' => env('MAIL_MAILER', 'log'),

    /*
    |--------------------------------------------------------------------------
    | Mailer Configurations
    |--------------------------------------------------------------------------
    |
    | Here you may configure all of the mailers used by your application plus
    | their respective settings. Several examples have been configured for
    | you and you are free to add your own as your application requires.
    |
    | Laravel supports a variety of mail "transport" drivers that can be used
    | when delivering an email. You may specify which one you're using for
    | your mailers below. You may also add additional mailers if needed.
    |
    | Supported: "smtp", "sendmail", "mailgun", "ses", "ses-v2",
    |            "postmark", "resend", "log", "array",
    |            "failover", "roundrobin"
    |
    */

    'mailers' => [

        'smtp' => [
            'transport' => 'smtp',
            'scheme' => env('MAIL_SCHEME'),
            'url' => env('MAIL_URL'),
            'host' => env('MAIL_HOST', '127.0.0.1'),
            'port' => env('MAIL_PORT', 2525),
            'username' => env('MAIL_USERNAME'),
            'password' => env('MAIL_PASSWORD'),
            'timeout' => null,
            'local_domain' => env('MAIL_EHLO_DOMAIN', parse_url((string) env('APP_URL', 'http://localhost'), PHP_URL_HOST)),
        ],

        'ses' => [
            'transport' => 'ses',
        ],

        'postmark' => [
            'transport' => 'postmark',
            // 'message_stream_id' => env('POSTMARK_MESSAGE_STREAM_ID'),
            // 'client' => [
            //     'timeout' => 5,
            // ],
        ],

        'resend' => [
            'transport' => 'resend',
        ],

        'sendmail' => [
            'transport' => 'sendmail',
            'path' => env('MAIL_SENDMAIL_PATH', '/usr/sbin/sendmail -bs -i'),
        ],

        'log' => [
            'transport' => 'log',
            'channel' => env('MAIL_LOG_CHANNEL'),
        ],

        'array' => [
            'transport' => 'array',
        ],

        'failover' => [
            'transport' => 'failover',
            'mailers' => [
                'smtp',
                'log',
            ],
            'retry_after' => 60,
        ],

        'roundrobin' => [
            'transport' => 'roundrobin',
            'mailers' => [
                'ses',
                'postmark',
            ],
            'retry_after' => 60,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Global "From" Address
    |--------------------------------------------------------------------------
    |
    | You may wish for all emails sent by your application to be sent from
    | the same address. Here you may specify a name and address that is
    | used globally for all emails that are sent by your application.
    |
    */

    'from' => [
        'address' => env('MAIL_FROM_ADDRESS', 'hello@example.com'),
        'name' => env('MAIL_FROM_NAME', 'Example'),
    ],

];

======================================================================
FILE: config/ngevent.php (109 lines)
======================================================================
<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Platform Configuration
    |--------------------------------------------------------------------------
    */

    // Platform fee percentage (charged to organizer)
    'platform_fee_percentage' => env('PLATFORM_FEE_PERCENTAGE', 5),

    // Payment gateway fee percentage (charged to buyer)
    'payment_fee_percentage' => env('PAYMENT_FEE_PERCENTAGE', 2.5),

    // Settlement delay in days after event completion
    'settlement_delay_days' => env('SETTLEMENT_DELAY_DAYS', 7),

    // Order expiration time in minutes
    'order_expiry_minutes' => env('ORDER_EXPIRY_MINUTES', 15),

    /*
    |--------------------------------------------------------------------------
    | Ticket Configuration
    |--------------------------------------------------------------------------
    */

    // Maximum tickets per order
    'max_tickets_per_order' => env('MAX_TICKETS_PER_ORDER', 10),

    // Default ticket stock
    'default_ticket_stock' => env('DEFAULT_TICKET_STOCK', 100),

    /*
    |--------------------------------------------------------------------------
    | Upload Limits
    |--------------------------------------------------------------------------
    */

    'uploads' => [
        'poster' => [
            'max_size' => 2048, // KB
            'dimensions' => [
                'min_width' => 400,
                'min_height' => 600,
                'max_width' => 2000,
                'max_height' => 3000,
            ],
            'allowed_types' => ['jpg', 'jpeg', 'png', 'webp'],
        ],
        'banner' => [
            'max_size' => 3072, // KB
            'dimensions' => [
                'min_width' => 1200,
                'min_height' => 400,
                'max_width' => 2400,
                'max_height' => 800,
            ],
            'allowed_types' => ['jpg', 'jpeg', 'png', 'webp'],
        ],
        'proposal' => [
            'max_size' => 5120, // KB
            'allowed_types' => ['pdf'],
        ],
        'avatar' => [
            'max_size' => 1024, // KB
            'allowed_types' => ['jpg', 'jpeg', 'png'],
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Pagination
    |--------------------------------------------------------------------------
    */

    'pagination' => [
        'events' => 12,
        'orders' => 10,
        'attendees' => 20,
        'admin_list' => 20,
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache TTL (in seconds)
    |--------------------------------------------------------------------------
    */

    'cache' => [
        'events_list' => 600, // 10 minutes
        'event_detail' => 300, // 5 minutes
        'categories' => 3600, // 1 hour
        'featured_events' => 600, // 10 minutes
        'ticket_availability' => 60, // 1 minute
    ],

    /*
    |--------------------------------------------------------------------------
    | E-Ticket Configuration
    |--------------------------------------------------------------------------
    */

    'eticket' => [
        'code_length' => 12,
        'qr_size' => 200,
    ],
];

======================================================================
FILE: config/queue.php (130 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Queue Connection Name
    |--------------------------------------------------------------------------
    |
    | Laravel's queue supports a variety of backends via a single, unified
    | API, giving you convenient access to each backend using identical
    | syntax for each. The default queue connection is defined below.
    |
    */

    'default' => env('QUEUE_CONNECTION', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Queue Connections
    |--------------------------------------------------------------------------
    |
    | Here you may configure the connection options for every queue backend
    | used by your application. An example configuration is provided for
    | each backend supported by Laravel. You're also free to add more.
    |
    | Drivers: "sync", "database", "beanstalkd", "sqs", "redis",
    |          "deferred", "background", "failover", "null"
    |
    */

    'connections' => [

        'sync' => [
            'driver' => 'sync',
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_QUEUE_CONNECTION'),
            'table' => env('DB_QUEUE_TABLE', 'jobs'),
            'queue' => env('DB_QUEUE', 'default'),
            'retry_after' => (int) env('DB_QUEUE_RETRY_AFTER', 90),
            'after_commit' => false,
        ],

        'beanstalkd' => [
            'driver' => 'beanstalkd',
            'host' => env('BEANSTALKD_QUEUE_HOST', 'localhost'),
            'queue' => env('BEANSTALKD_QUEUE', 'default'),
            'retry_after' => (int) env('BEANSTALKD_QUEUE_RETRY_AFTER', 90),
            'block_for' => 0,
            'after_commit' => false,
        ],

        'sqs' => [
            'driver' => 'sqs',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'prefix' => env('SQS_PREFIX', 'https://sqs.us-east-1.amazonaws.com/your-account-id'),
            'queue' => env('SQS_QUEUE', 'default'),
            'suffix' => env('SQS_SUFFIX'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'after_commit' => false,
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_QUEUE_CONNECTION', 'default'),
            'queue' => env('REDIS_QUEUE', 'default'),
            'retry_after' => (int) env('REDIS_QUEUE_RETRY_AFTER', 90),
            'block_for' => null,
            'after_commit' => false,
        ],

        'deferred' => [
            'driver' => 'deferred',
        ],

        'background' => [
            'driver' => 'background',
        ],

        'failover' => [
            'driver' => 'failover',
            'connections' => [
                'database',
                'deferred',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Job Batching
    |--------------------------------------------------------------------------
    |
    | The following options configure the database and table that store job
    | batching information. These options can be updated to any database
    | connection and table which has been defined by your application.
    |
    */

    'batching' => [
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'job_batches',
    ],

    /*
    |--------------------------------------------------------------------------
    | Failed Queue Jobs
    |--------------------------------------------------------------------------
    |
    | These options configure the behavior of failed queue job logging so you
    | can control how and where failed jobs are stored. Laravel ships with
    | support for storing failed jobs in a simple file or in a database.
    |
    | Supported drivers: "database-uuids", "dynamodb", "file", "null"
    |
    */

    'failed' => [
        'driver' => env('QUEUE_FAILED_DRIVER', 'database-uuids'),
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'failed_jobs',
    ],

];

======================================================================
FILE: config/services.php (39 lines)
======================================================================
<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Third Party Services
    |--------------------------------------------------------------------------
    |
    | This file is for storing the credentials for third party services such
    | as Mailgun, Postmark, AWS and more. This file provides the de facto
    | location for this type of information, allowing packages to have
    | a conventional file to locate the various service credentials.
    |
    */

    'postmark' => [
        'key' => env('POSTMARK_API_KEY'),
    ],

    'resend' => [
        'key' => env('RESEND_API_KEY'),
    ],

    'ses' => [
        'key' => env('AWS_ACCESS_KEY_ID'),
        'secret' => env('AWS_SECRET_ACCESS_KEY'),
        'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
    ],

    'slack' => [
        'notifications' => [
            'bot_user_oauth_token' => env('SLACK_BOT_USER_OAUTH_TOKEN'),
            'channel' => env('SLACK_BOT_USER_DEFAULT_CHANNEL'),
        ],
    ],

];

======================================================================
FILE: config/session.php (218 lines)
======================================================================
<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Session Driver
    |--------------------------------------------------------------------------
    |
    | This option determines the default session driver that is utilized for
    | incoming requests. Laravel supports a variety of storage options to
    | persist session data. Database storage is a great default choice.
    |
    | Supported: "file", "cookie", "database", "memcached",
    |            "redis", "dynamodb", "array"
    |
    */

    'driver' => env('SESSION_DRIVER', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Session Lifetime
    |--------------------------------------------------------------------------
    |
    | Here you may specify the number of minutes that you wish the session
    | to be allowed to remain idle before it expires. If you want them
    | to expire immediately when the browser is closed then you may
    | indicate that via the expire_on_close configuration option.
    |
    */

    'lifetime' => (int) env('SESSION_LIFETIME', 120),

    'expire_on_close' => env('SESSION_EXPIRE_ON_CLOSE', false),

    /*
    |--------------------------------------------------------------------------
    | Session Encryption
    |--------------------------------------------------------------------------
    |
    | This option allows you to easily specify that all of your session data
    | should be encrypted before it's stored. All encryption is performed
    | automatically by Laravel and you may use the session like normal.
    |
    */

    'encrypt' => env('SESSION_ENCRYPT', false),

    /*
    |--------------------------------------------------------------------------
    | Session File Location
    |--------------------------------------------------------------------------
    |
    | When utilizing the "file" session driver, the session files are placed
    | on disk. The default storage location is defined here; however, you
    | are free to provide another location where they should be stored.
    |
    */

    'files' => storage_path('framework/sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Connection
    |--------------------------------------------------------------------------
    |
    | When using the "database" or "redis" session drivers, you may specify a
    | connection that should be used to manage these sessions. This should
    | correspond to a connection in your database configuration options.
    |
    */

    'connection' => env('SESSION_CONNECTION'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Table
    |--------------------------------------------------------------------------
    |
    | When using the "database" session driver, you may specify the table to
    | be used to store sessions. Of course, a sensible default is defined
    | for you; however, you're welcome to change this to another table.
    |
    */

    'table' => env('SESSION_TABLE', 'sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Cache Store
    |--------------------------------------------------------------------------
    |
    | When using one of the framework's cache driven session backends, you may
    | define the cache store which should be used to store the session data
    | between requests. This must match one of your defined cache stores.
    |
    | Affects: "dynamodb", "memcached", "redis"
    |
    */

    'store' => env('SESSION_STORE'),

    /*
    |--------------------------------------------------------------------------
    | Session Sweeping Lottery
    |--------------------------------------------------------------------------
    |
    | Some session drivers must manually sweep their storage location to get
    | rid of old sessions from storage. Here are the chances that it will
    | happen on a given request. By default, the odds are 2 out of 100.
    |
    */

    'lottery' => [2, 100],

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Name
    |--------------------------------------------------------------------------
    |
    | Here you may change the name of the session cookie that is created by
    | the framework. Typically, you should not need to change this value
    | since doing so does not grant a meaningful security improvement.
    |
    */

    'cookie' => env(
        'SESSION_COOKIE',
        Str::slug((string) env('APP_NAME', 'laravel')).'-session'
    ),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Path
    |--------------------------------------------------------------------------
    |
    | The session cookie path determines the path for which the cookie will
    | be regarded as available. Typically, this will be the root path of
    | your application, but you're free to change this when necessary.
    |
    */

    'path' => env('SESSION_PATH', '/'),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Domain
    |--------------------------------------------------------------------------
    |
    | This value determines the domain and subdomains the session cookie is
    | available to. By default, the cookie will be available to the root
    | domain without subdomains. Typically, this shouldn't be changed.
    |
    */

    'domain' => env('SESSION_DOMAIN'),

    /*
    |--------------------------------------------------------------------------
    | HTTPS Only Cookies
    |--------------------------------------------------------------------------
    |
    | By setting this option to true, session cookies will only be sent back
    | to the server if the browser has a HTTPS connection. This will keep
    | the cookie from being sent to you when it can't be done securely.
    |
    */

    'secure' => env('SESSION_SECURE_COOKIE'),

    /*
    |--------------------------------------------------------------------------
    | HTTP Access Only
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will prevent JavaScript from accessing the
    | value of the cookie and the cookie will only be accessible through
    | the HTTP protocol. It's unlikely you should disable this option.
    |
    */

    'http_only' => env('SESSION_HTTP_ONLY', true),

    /*
    |--------------------------------------------------------------------------
    | Same-Site Cookies
    |--------------------------------------------------------------------------
    |
    | This option determines how your cookies behave when cross-site requests
    | take place, and can be used to mitigate CSRF attacks. By default, we
    | will set this value to "lax" to permit secure cross-site requests.
    |
    | See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#samesitesamesite-value
    |
    | Supported: "lax", "strict", "none", null
    |
    */

    'same_site' => env('SESSION_SAME_SITE', 'lax'),

    /*
    |--------------------------------------------------------------------------
    | Partitioned Cookies
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will tie the cookie to the top-level site for
    | a cross-site context. Partitioned cookies are accepted by the browser
    | when flagged "secure" and the Same-Site attribute is set to "none".
    |
    */

    'partitioned' => env('SESSION_PARTITIONED_COOKIE', false),

];

======================================================================
FILE: config/xendit.php (79 lines)
======================================================================
<?php

return [
    /*
    |--------------------------------------------------------------------------
    | Xendit API Configuration
    |--------------------------------------------------------------------------
    */

    'base_url' => env('XENDIT_BASE_URL', 'https://api.xendit.co'),

    'secret_key' => env('XENDIT_SECRET_KEY'),

    'public_key' => env('XENDIT_PUBLIC_KEY'),

    'webhook_token' => env('XENDIT_WEBHOOK_TOKEN'),

    'environment' => env('XENDIT_ENVIRONMENT', 'sandbox'), // sandbox or production

    /*
    |--------------------------------------------------------------------------
    | Invoice Configuration
    |--------------------------------------------------------------------------
    */

    // Invoice expiration time in seconds (default: 15 minutes)
    'invoice_duration' => env('XENDIT_INVOICE_DURATION', 900),

    // Currency
    'currency' => 'IDR',

    /*
    |--------------------------------------------------------------------------
    | Payment Methods
    |--------------------------------------------------------------------------
    */

    'payment_methods' => [
        'CREDIT_CARD' => true,
        'BCA' => true,
        'BNI' => true,
        'BRI' => true,
        'MANDIRI' => true,
        'PERMATA' => true,
        'BSI' => true,
        'OVO' => true,
        'DANA' => true,
        'LINKAJA' => true,
        'SHOPEEPAY' => true,
        'QRIS' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | Callback URLs
    |--------------------------------------------------------------------------
    */

    'callbacks' => [
        'success_redirect' => env('XENDIT_SUCCESS_REDIRECT', '/checkout/success'),
        'failure_redirect' => env('XENDIT_FAILURE_REDIRECT', '/checkout/failed'),
        'webhook_url' => env('XENDIT_WEBHOOK_URL', '/webhook/xendit'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Disbursement Configuration (for settlements)
    |--------------------------------------------------------------------------
    */

    'disbursement' => [
        'enabled' => env('XENDIT_DISBURSEMENT_ENABLED', false),
        'available_banks' => [
            'BCA', 'BNI', 'BRI', 'MANDIRI', 'PERMATA', 'BSI',
            'CIMB', 'DANAMON', 'BTPN', 'MAYBANK',
        ],
    ],
];

======================================================================
FILE: database/factories/UserFactory.php (45 lines)
======================================================================
<?php

namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\User>
 */
class UserFactory extends Factory
{
    /**
     * The current password being used by the factory.
     */
    protected static ?string $password;

    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        return [
            'name' => fake()->name(),
            'email' => fake()->unique()->safeEmail(),
            'email_verified_at' => now(),
            'password' => static::$password ??= Hash::make('password'),
            'remember_token' => Str::random(10),
        ];
    }

    /**
     * Indicate that the model's email address should be unverified.
     */
    public function unverified(): static
    {
        return $this->state(fn (array $attributes) => [
            'email_verified_at' => null,
        ]);
    }
}

======================================================================
FILE: database/migrations/0001_01_01_000000_create_users_table.php (49 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->string('role', 20)->default('user'); // admin, organizer, user
            $table->string('phone', 20)->nullable();
            $table->string('avatar')->nullable();
            $table->rememberToken();
            $table->timestamps();

            $table->index('role');
        });

        Schema::create('password_reset_tokens', function (Blueprint $table) {
            $table->string('email')->primary();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });

        Schema::create('sessions', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->foreignId('user_id')->nullable()->index();
            $table->string('ip_address', 45)->nullable();
            $table->text('user_agent')->nullable();
            $table->longText('payload');
            $table->integer('last_activity')->index();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('sessions');
        Schema::dropIfExists('password_reset_tokens');
        Schema::dropIfExists('users');
    }
};

======================================================================
FILE: database/migrations/0001_01_01_000001_create_cache_table.php (30 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('cache', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->mediumText('value');
            $table->integer('expiration');
        });

        Schema::create('cache_locks', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->string('owner');
            $table->integer('expiration');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('cache_locks');
        Schema::dropIfExists('cache');
    }
};

======================================================================
FILE: database/migrations/0001_01_01_000002_create_jobs_table.php (52 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('jobs', function (Blueprint $table) {
            $table->id();
            $table->string('queue')->index();
            $table->longText('payload');
            $table->unsignedTinyInteger('attempts');
            $table->unsignedInteger('reserved_at')->nullable();
            $table->unsignedInteger('available_at');
            $table->unsignedInteger('created_at');
        });

        Schema::create('job_batches', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->string('name');
            $table->integer('total_jobs');
            $table->integer('pending_jobs');
            $table->integer('failed_jobs');
            $table->longText('failed_job_ids');
            $table->mediumText('options')->nullable();
            $table->integer('cancelled_at')->nullable();
            $table->integer('created_at');
            $table->integer('finished_at')->nullable();
        });

        Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('failed_jobs');
        Schema::dropIfExists('job_batches');
        Schema::dropIfExists('jobs');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000001_create_organizers_table.php (41 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('organizers', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->cascadeOnDelete();
            $table->string('name');
            $table->string('slug')->unique();
            $table->string('logo')->nullable();
            $table->string('banner')->nullable();
            $table->text('bio')->nullable();
            $table->string('website')->nullable();
            $table->string('email')->nullable();
            $table->string('phone', 20)->nullable();
            $table->text('address')->nullable();
            $table->string('city', 100)->nullable();
            $table->string('province', 100)->nullable();
            $table->string('bank_name', 100)->nullable();
            $table->string('bank_account_number', 50)->nullable();
            $table->string('bank_account_name')->nullable();
            $table->boolean('is_verified')->default(false);
            $table->timestamp('verified_at')->nullable();
            $table->timestamps();

            $table->index('is_verified');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('organizers');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000002_create_organizer_social_links_table.php (27 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('organizer_social_links', function (Blueprint $table) {
            $table->id();
            $table->foreignId('organizer_id')->constrained()->cascadeOnDelete();
            $table->string('platform', 50); // instagram, twitter, facebook, youtube, tiktok, website
            $table->string('url', 500);
            $table->timestamps();

            $table->index('organizer_id');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('organizer_social_links');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000003_create_categories_table.php (31 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('categories', function (Blueprint $table) {
            $table->id();
            $table->string('name', 100);
            $table->string('slug', 100)->unique();
            $table->text('description')->nullable();
            $table->string('icon', 100)->nullable();
            $table->string('color', 20)->nullable();
            $table->integer('sort_order')->default(0);
            $table->boolean('is_active')->default(true);
            $table->timestamps();

            $table->index('is_active');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('categories');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000004_create_subcategories_table.php (30 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('subcategories', function (Blueprint $table) {
            $table->id();
            $table->foreignId('category_id')->constrained()->cascadeOnDelete();
            $table->string('name', 100);
            $table->string('slug', 100);
            $table->text('description')->nullable();
            $table->boolean('is_active')->default(true);
            $table->timestamps();

            $table->unique(['category_id', 'slug']);
            $table->index('category_id');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('subcategories');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000005_create_events_table.php (83 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('events', function (Blueprint $table) {
            $table->id();
            $table->foreignId('organizer_id')->constrained();
            $table->foreignId('category_id')->constrained();

            // Basic Info
            $table->string('title');
            $table->string('slug')->unique();
            $table->text('description')->nullable();
            $table->string('short_description', 500)->nullable();

            // Media
            $table->string('poster')->nullable();
            $table->string('banner')->nullable();
            $table->json('gallery')->nullable();

            // Date & Time
            $table->date('start_date');
            $table->date('end_date');
            $table->time('start_time')->nullable();
            $table->time('end_time')->nullable();
            $table->string('timezone', 50)->default('Asia/Jakarta');

            // Location
            $table->string('venue_name')->nullable();
            $table->text('venue_address')->nullable();
            $table->string('city', 100)->nullable();
            $table->string('province', 100)->nullable();
            $table->string('postal_code', 10)->nullable();
            $table->decimal('latitude', 10, 8)->nullable();
            $table->decimal('longitude', 11, 8)->nullable();
            $table->boolean('is_online')->default(false);
            $table->string('online_url')->nullable();

            // Status
            $table->string('status', 20)->default('draft'); // draft, pending_review, approved, published, cancelled, completed
            $table->boolean('is_featured')->default(false);
            $table->boolean('is_free')->default(false);

            // Pricing cache
            $table->integer('min_price')->default(0);
            $table->integer('max_price')->default(0);

            // Documents
            $table->string('proposal_file')->nullable();

            // Admin
            $table->text('admin_notes')->nullable();
            $table->text('rejection_reason')->nullable();
            $table->timestamp('published_at')->nullable();
            $table->timestamp('approved_at')->nullable();
            $table->foreignId('approved_by')->nullable()->constrained('users');

            // Stats
            $table->unsignedInteger('views_count')->default(0);

            $table->timestamps();

            // Indexes
            $table->index('status');
            $table->index('start_date');
            $table->index('city');
            $table->index('is_featured');
            $table->index(['status', 'start_date']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('events');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000006_create_event_subcategory_table.php (26 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('event_subcategory', function (Blueprint $table) {
            $table->id();
            $table->foreignId('event_id')->constrained()->cascadeOnDelete();
            $table->foreignId('subcategory_id')->constrained()->cascadeOnDelete();
            $table->timestamps();

            $table->unique(['event_id', 'subcategory_id']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('event_subcategory');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000007_create_event_days_table.php (30 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('event_days', function (Blueprint $table) {
            $table->id();
            $table->foreignId('event_id')->constrained()->cascadeOnDelete();
            $table->date('date');
            $table->string('name')->nullable(); // e.g., "Day 1", "Saturday"
            $table->time('start_time')->nullable();
            $table->time('end_time')->nullable();
            $table->text('description')->nullable();
            $table->timestamps();

            $table->index(['event_id', 'date']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('event_days');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000008_create_tickets_table.php (33 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('tickets', function (Blueprint $table) {
            $table->id();
            $table->foreignId('event_id')->constrained()->cascadeOnDelete();
            $table->string('name');
            $table->text('description')->nullable();
            $table->string('type', 20)->default('regular'); // regular, vip, bundle, addon, free
            $table->json('benefits')->nullable(); // Array of benefit strings
            $table->unsignedInteger('max_per_order')->default(10);
            $table->unsignedInteger('sort_order')->default(0);
            $table->boolean('is_active')->default(true);
            $table->timestamps();

            $table->index('event_id');
            $table->index('is_active');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('tickets');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000009_create_ticket_variants_table.php (39 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('ticket_variants', function (Blueprint $table) {
            $table->id();
            $table->foreignId('ticket_id')->constrained()->cascadeOnDelete();
            $table->foreignId('event_day_id')->nullable()->constrained()->nullOnDelete();
            $table->string('name')->nullable();
            $table->unsignedInteger('price')->default(0);
            $table->unsignedInteger('original_price')->nullable();
            $table->unsignedInteger('stock')->default(0);
            $table->unsignedInteger('sold_count')->default(0);
            $table->unsignedInteger('reserved_count')->default(0);
            $table->unsignedInteger('min_per_order')->default(1);
            $table->unsignedInteger('max_per_order')->nullable();
            $table->timestamp('sale_start_at')->nullable();
            $table->timestamp('sale_end_at')->nullable();
            $table->boolean('is_active')->default(true);
            $table->timestamps();

            $table->index('ticket_id');
            $table->index('event_day_id');
            $table->index('is_active');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('ticket_variants');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000010_create_vouchers_table.php (42 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('vouchers', function (Blueprint $table) {
            $table->id();
            $table->string('code', 50)->unique();
            $table->string('name');
            $table->text('description')->nullable();
            $table->string('type', 20)->default('fixed'); // fixed, percentage
            $table->unsignedInteger('value'); // Amount in rupiah or percentage
            $table->unsignedInteger('min_purchase')->nullable();
            $table->unsignedInteger('max_discount')->nullable(); // Max discount for percentage type
            $table->unsignedInteger('usage_limit')->nullable();
            $table->unsignedInteger('usage_count')->default(0);
            $table->unsignedInteger('usage_limit_per_user')->nullable();
            $table->foreignId('event_id')->nullable()->constrained()->nullOnDelete();
            $table->foreignId('category_id')->nullable()->constrained()->nullOnDelete();
            $table->timestamp('starts_at')->nullable();
            $table->timestamp('expires_at')->nullable();
            $table->boolean('is_active')->default(true);
            $table->foreignId('created_by')->nullable()->constrained('users')->nullOnDelete();
            $table->timestamps();

            $table->index('code');
            $table->index('is_active');
            $table->index('event_id');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('vouchers');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000011_create_orders_table.php (58 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('orders', function (Blueprint $table) {
            $table->id();
            $table->string('order_number', 20)->unique();
            $table->foreignId('user_id')->constrained();
            $table->foreignId('event_id')->constrained();
            $table->foreignId('voucher_id')->nullable()->constrained()->nullOnDelete();

            // Customer Info (snapshot)
            $table->string('customer_name');
            $table->string('customer_email');
            $table->string('customer_phone', 20)->nullable();

            // Pricing
            $table->unsignedInteger('subtotal')->default(0);
            $table->unsignedInteger('discount')->default(0);
            $table->unsignedInteger('platform_fee')->default(0);
            $table->unsignedInteger('payment_fee')->default(0);
            $table->unsignedInteger('total')->default(0);

            // Status
            $table->string('status', 20)->default('pending'); // pending, awaiting_payment, paid, completed, expired, cancelled, refunded
            $table->text('notes')->nullable();

            // Timestamps
            $table->timestamp('paid_at')->nullable();
            $table->timestamp('completed_at')->nullable();
            $table->timestamp('cancelled_at')->nullable();
            $table->text('cancellation_reason')->nullable();
            $table->timestamp('expires_at')->nullable();

            $table->timestamps();

            // Indexes
            $table->index('order_number');
            $table->index('user_id');
            $table->index('event_id');
            $table->index('status');
            $table->index('expires_at');
            $table->index(['status', 'expires_at']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('orders');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000012_create_order_items_table.php (37 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('order_items', function (Blueprint $table) {
            $table->id();
            $table->foreignId('order_id')->constrained()->cascadeOnDelete();
            $table->foreignId('ticket_id')->constrained();
            $table->foreignId('ticket_variant_id')->constrained();
            
            // Snapshot of ticket info at time of purchase
            $table->string('ticket_name');
            $table->string('variant_name')->nullable();
            
            $table->unsignedInteger('quantity');
            $table->unsignedInteger('unit_price');
            $table->unsignedInteger('subtotal');
            
            $table->timestamps();

            $table->index('order_id');
            $table->index('ticket_variant_id');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('order_items');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000013_create_payments_table.php (53 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('payments', function (Blueprint $table) {
            $table->id();
            $table->foreignId('order_id')->constrained()->cascadeOnDelete();
            
            // Xendit Data
            $table->string('xendit_invoice_id')->nullable()->unique();
            $table->string('xendit_invoice_url', 500)->nullable();
            $table->string('xendit_external_id')->nullable();
            
            // Payment Info
            $table->unsignedInteger('amount');
            $table->string('payment_method')->nullable(); // CREDIT_CARD, BANK_TRANSFER, EWALLET, QR_CODE
            $table->string('payment_channel')->nullable(); // BCA, BNI, OVO, DANA, etc
            
            // Status
            $table->string('status', 20)->default('pending'); // pending, paid, expired, failed, refunded
            
            // Timestamps
            $table->timestamp('paid_at')->nullable();
            $table->timestamp('expires_at')->nullable();
            
            // Additional Xendit Data
            $table->unsignedInteger('paid_amount')->nullable();
            $table->unsignedInteger('adjusted_received_amount')->nullable();
            $table->unsignedInteger('fees_paid_amount')->nullable();
            
            // Raw Response
            $table->json('raw_response')->nullable();
            
            $table->timestamps();

            $table->index('xendit_invoice_id');
            $table->index('status');
            $table->index('order_id');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('payments');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000014_create_issued_tickets_table.php (45 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('issued_tickets', function (Blueprint $table) {
            $table->id();
            $table->foreignId('order_item_id')->constrained()->cascadeOnDelete();
            $table->foreignId('user_id')->constrained();
            
            // Ticket Code
            $table->string('code', 20)->unique();
            $table->string('qr_code')->nullable(); // Path to QR code image if stored
            
            // Attendee Info
            $table->string('attendee_name')->nullable();
            $table->string('attendee_email')->nullable();
            $table->string('attendee_phone', 20)->nullable();
            
            // Check-in Status
            $table->boolean('is_used')->default(false);
            $table->timestamp('used_at')->nullable();
            $table->foreignId('used_by')->nullable()->constrained('users')->nullOnDelete();
            $table->text('check_in_notes')->nullable();
            
            $table->timestamps();

            $table->index('code');
            $table->index('order_item_id');
            $table->index('user_id');
            $table->index('is_used');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('issued_tickets');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000015_create_voucher_usages_table.php (30 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('voucher_usages', function (Blueprint $table) {
            $table->id();
            $table->foreignId('voucher_id')->constrained()->cascadeOnDelete();
            $table->foreignId('user_id')->constrained()->cascadeOnDelete();
            $table->foreignId('order_id')->constrained()->cascadeOnDelete();
            $table->unsignedInteger('discount_amount');
            $table->timestamps();

            $table->index('voucher_id');
            $table->index('user_id');
            $table->unique(['voucher_id', 'order_id']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('voucher_usages');
    }
};

======================================================================
FILE: database/migrations/2024_01_01_000016_create_settlements_table.php (54 lines)
======================================================================
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('settlements', function (Blueprint $table) {
            $table->id();
            $table->foreignId('event_id')->constrained();
            $table->foreignId('organizer_id')->constrained();
            
            // Financial Summary
            $table->unsignedInteger('gross_amount')->default(0); // Total from ticket sales
            $table->unsignedInteger('platform_fee')->default(0); // Platform fee deducted
            $table->unsignedInteger('payment_fee_total')->default(0); // Total payment gateway fees
            $table->unsignedInteger('refund_amount')->default(0); // Total refunds
            $table->unsignedInteger('net_amount')->default(0); // Amount to transfer
            
            // Bank Details (snapshot from organizer)
            $table->string('bank_name', 100);
            $table->string('bank_account_number', 50);
            $table->string('bank_account_name');
            
            // Status
            $table->string('status', 20)->default('pending'); // pending, processing, transferred, failed
            
            // Transfer Info
            $table->string('transfer_reference')->nullable();
            $table->string('transfer_proof')->nullable();
            $table->timestamp('transferred_at')->nullable();
            $table->foreignId('processed_by')->nullable()->constrained('users')->nullOnDelete();
            
            // Notes
            $table->text('notes')->nullable();
            $table->text('admin_notes')->nullable();
            
            $table->timestamps();

            $table->index('event_id');
            $table->index('organizer_id');
            $table->index('status');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('settlements');
    }
};

======================================================================
FILE: database/seeders/CategorySeeder.php (44 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Models\Category;
use Illuminate\Database\Seeder;

class CategorySeeder extends Seeder
{
    public function run(): void
    {
        $categories = [
            [
                'name' => 'Cosplay & Pop Culture',
                'slug' => 'cosplay-pop-culture',
                'description' => 'Event cosplay, anime expo, comic con, dan budaya pop lainnya',
                'icon' => 'sparkles',
                'color' => '#FF6B6B',
                'sort_order' => 1,
            ],
            [
                'name' => 'Music & Concert',
                'slug' => 'music-concert',
                'description' => 'Konser musik, festival, live performance, dan pertunjukan musik',
                'icon' => 'musical-note',
                'color' => '#4ECDC4',
                'sort_order' => 2,
            ],
            [
                'name' => 'Sports',
                'slug' => 'sports',
                'description' => 'Event olahraga, marathon, turnamen, dan kompetisi',
                'icon' => 'trophy',
                'color' => '#45B7D1',
                'sort_order' => 3,
            ],
        ];

        foreach ($categories as $category) {
            Category::create($category);
        }
    }
}

======================================================================
FILE: database/seeders/DatabaseSeeder.php (21 lines)
======================================================================
<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;

class DatabaseSeeder extends Seeder
{
    public function run(): void
    {
        $this->call([
            UserSeeder::class,
            CategorySeeder::class,
            SubcategorySeeder::class,
            OrganizerSeeder::class,
            VoucherSeeder::class,
            EventSeeder::class,
        ]);
    }
}

======================================================================
FILE: database/seeders/EventSeeder.php (327 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Models\Event;
use App\Models\EventDay;
use App\Models\Organizer;
use App\Models\Category;
use App\Models\Ticket;
use App\Models\TicketVariant;
use App\Enums\EventStatus;
use Illuminate\Database\Seeder;
use Carbon\Carbon;

class EventSeeder extends Seeder
{
    public function run(): void
    {
        $organizers = Organizer::all();
        $categories = Category::all();

        if ($organizers->isEmpty() || $categories->isEmpty()) {
            $this->command->warn('Please run OrganizerSeeder and CategorySeeder first!');
            return;
        }

        $events = [
            // Cosplay & Pop Culture Events
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'cosplay-pop-culture')->first()->id,
                'title' => 'Indonesia Comic Con 2026',
                'description' => "Indonesia Comic Con kembali hadir dengan lineup yang lebih spektakuler!\n\nNikmati pengalaman terbaik dalam dunia pop culture dengan:\n- Guest Star internasional\n- Cosplay Competition dengan hadiah puluhan juta\n- Exclusive Merchandise\n- Meet & Greet dengan artis favorit\n- Gaming Tournament\n- Dan masih banyak lagi!\n\nJangan sampai ketinggalan event terbesar tahun ini!",
                'short_description' => 'Event pop culture terbesar di Indonesia dengan cosplay competition, guest star internasional, dan exclusive merchandise!',
                'start_date' => Carbon::now()->addDays(30),
                'end_date' => Carbon::now()->addDays(32),
                'start_time' => '10:00',
                'end_time' => '21:00',
                'venue_name' => 'Jakarta Convention Center',
                'venue_address' => 'Jl. Gatot Subroto No.1',
                'city' => 'Jakarta',
                'province' => 'DKI Jakarta',
                'is_featured' => true,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Daily Pass', 'description' => 'Akses 1 hari', 'price' => 150000, 'stock' => 1000],
                    ['name' => '3-Day Pass', 'description' => 'Akses 3 hari penuh', 'price' => 350000, 'stock' => 500],
                    ['name' => 'VIP Pass', 'description' => 'Akses VIP + Meet & Greet', 'price' => 750000, 'stock' => 100],
                ],
            ],
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'cosplay-pop-culture')->first()->id,
                'title' => 'Anime Festival Asia Jakarta',
                'description' => "AFA Jakarta 2026 menghadirkan pengalaman anime terlengkap!\n\nHighlights:\n- J-Pop Concert dengan artis Jepang\n- Anime Screening terbaru\n- Cosplay Runway\n- Doujin Market\n- Anime Quiz Competition\n- Workshops & Panels",
                'short_description' => 'Festival anime terbesar di Asia Tenggara hadir di Jakarta!',
                'start_date' => Carbon::now()->addDays(45),
                'end_date' => Carbon::now()->addDays(47),
                'start_time' => '10:00',
                'end_time' => '22:00',
                'venue_name' => 'ICE BSD',
                'venue_address' => 'Jl. BSD Grand Boulevard',
                'city' => 'Tangerang',
                'province' => 'Banten',
                'is_featured' => true,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Regular', 'description' => 'Akses area regular', 'price' => 200000, 'stock' => 2000],
                    ['name' => 'Premium', 'description' => 'Akses premium + exclusive merch', 'price' => 500000, 'stock' => 500],
                ],
            ],
            [
                'organizer_id' => $organizers->last()->id,
                'category_id' => $categories->where('slug', 'cosplay-pop-culture')->first()->id,
                'title' => 'Bandung Cosplay Party',
                'description' => "Cosplay party seru di kota Bandung!\n\nAcara meliputi:\n- Cosplay Competition\n- Coswalk\n- Photo Session\n- Games & Activities\n- Food Court\n\nTerbuka untuk semua umur!",
                'short_description' => 'Cosplay party seru dan meriah di Bandung!',
                'start_date' => Carbon::now()->addDays(14),
                'end_date' => Carbon::now()->addDays(14),
                'start_time' => '09:00',
                'end_time' => '18:00',
                'venue_name' => 'Trans Studio Mall Bandung',
                'venue_address' => 'Jl. Gatot Subroto No.289',
                'city' => 'Bandung',
                'province' => 'Jawa Barat',
                'is_featured' => false,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Reguler', 'description' => 'Tiket masuk standar', 'price' => 50000, 'stock' => 500],
                    ['name' => 'Cosplayer', 'description' => 'Tiket khusus cosplayer + changing room', 'price' => 75000, 'stock' => 200],
                ],
            ],

            // Music & Concert Events
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'music-concert')->first()->id,
                'title' => 'Java Jazz Festival 2026',
                'description' => "Java Jazz Festival kembali dengan lineup internasional!\n\nFeaturing:\n- International Jazz Artists\n- Local Jazz Heroes\n- Multiple Stages\n- Food & Beverage Area\n- After Party\n\n3 hari penuh musik jazz berkualitas!",
                'short_description' => 'Festival jazz terbesar di Indonesia dengan artis internasional!',
                'start_date' => Carbon::now()->addDays(60),
                'end_date' => Carbon::now()->addDays(62),
                'start_time' => '14:00',
                'end_time' => '23:59',
                'venue_name' => 'JIExpo Kemayoran',
                'venue_address' => 'Jl. Benyamin Suaeb',
                'city' => 'Jakarta',
                'province' => 'DKI Jakarta',
                'is_featured' => true,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Daily Pass', 'description' => 'Akses 1 hari', 'price' => 850000, 'stock' => 3000],
                    ['name' => '3-Day Pass', 'description' => 'Akses 3 hari', 'price' => 2000000, 'stock' => 1000],
                    ['name' => 'VIP 3-Day', 'description' => 'VIP access 3 hari + lounge', 'price' => 5000000, 'stock' => 200],
                ],
            ],
            [
                'organizer_id' => $organizers->last()->id,
                'category_id' => $categories->where('slug', 'music-concert')->first()->id,
                'title' => 'Indie Music Festival Yogyakarta',
                'description' => "Festival musik indie terbesar di Yogyakarta!\n\nLineup:\n- Band-band indie lokal & nasional\n- Acoustic Stage\n- Art Installation\n- Local Food Market\n- Clothing Brand Booth",
                'short_description' => 'Festival musik indie dengan suasana Jogja yang asik!',
                'start_date' => Carbon::now()->addDays(21),
                'end_date' => Carbon::now()->addDays(22),
                'start_time' => '15:00',
                'end_time' => '23:00',
                'venue_name' => 'Mandala Krida',
                'venue_address' => 'Jl. Kenari',
                'city' => 'Yogyakarta',
                'province' => 'DI Yogyakarta',
                'is_featured' => false,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Presale', 'description' => 'Harga early bird', 'price' => 100000, 'stock' => 500],
                    ['name' => 'Regular', 'description' => 'Harga normal', 'price' => 150000, 'stock' => 1500],
                ],
            ],
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'music-concert')->first()->id,
                'title' => 'Rock in Solo 2026',
                'description' => "Festival rock terbesar di Jawa Tengah!\n\nLineup:\n- Band rock legendaris Indonesia\n- New wave rock bands\n- Metal stage\n- Mosh pit area\n\nBersiaplah untuk headbang!",
                'short_description' => 'Festival rock dengan band-band legendaris Indonesia!',
                'start_date' => Carbon::now()->addDays(35),
                'end_date' => Carbon::now()->addDays(35),
                'start_time' => '16:00',
                'end_time' => '23:59',
                'venue_name' => 'Stadion Manahan',
                'venue_address' => 'Jl. Adi Sucipto',
                'city' => 'Solo',
                'province' => 'Jawa Tengah',
                'is_featured' => true,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Festival', 'description' => 'Standing area', 'price' => 250000, 'stock' => 5000],
                    ['name' => 'VIP', 'description' => 'VIP area + exclusive merch', 'price' => 750000, 'stock' => 500],
                ],
            ],

            // Sports Events
            [
                'organizer_id' => $organizers->last()->id,
                'category_id' => $categories->where('slug', 'sports')->first()->id,
                'title' => 'Jakarta Marathon 2026',
                'description' => "Jakarta Marathon mengajak kamu berlari melintasi kota Jakarta!\n\nKategori:\n- Full Marathon (42K)\n- Half Marathon (21K)\n- 10K Run\n- 5K Fun Run\n\nSetiap peserta mendapat:\n- Running jersey\n- Finisher medal\n- Snack pack\n- e-Certificate",
                'short_description' => 'Marathon tahunan terbesar di Jakarta dengan berbagai kategori!',
                'start_date' => Carbon::now()->addDays(50),
                'end_date' => Carbon::now()->addDays(50),
                'start_time' => '05:00',
                'end_time' => '12:00',
                'venue_name' => 'Monas',
                'venue_address' => 'Jl. Medan Merdeka',
                'city' => 'Jakarta',
                'province' => 'DKI Jakarta',
                'is_featured' => true,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => '5K Fun Run', 'description' => 'Kategori 5 kilometer', 'price' => 150000, 'stock' => 2000],
                    ['name' => '10K Run', 'description' => 'Kategori 10 kilometer', 'price' => 250000, 'stock' => 1500],
                    ['name' => 'Half Marathon', 'description' => 'Kategori 21 kilometer', 'price' => 400000, 'stock' => 1000],
                    ['name' => 'Full Marathon', 'description' => 'Kategori 42 kilometer', 'price' => 600000, 'stock' => 500],
                ],
            ],
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'sports')->first()->id,
                'title' => 'Bali Triathlon 2026',
                'description' => "Triathlon internasional di Pulau Dewata!\n\nKategori:\n- Olympic Distance\n- Sprint Distance\n- Super Sprint\n\nNikmati keindahan Bali sambil berkompetisi!",
                'short_description' => 'Event triathlon internasional di Bali yang menantang!',
                'start_date' => Carbon::now()->addDays(75),
                'end_date' => Carbon::now()->addDays(75),
                'start_time' => '06:00',
                'end_time' => '14:00',
                'venue_name' => 'Sanur Beach',
                'venue_address' => 'Jl. Pantai Sanur',
                'city' => 'Denpasar',
                'province' => 'Bali',
                'is_featured' => false,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Super Sprint', 'description' => 'Swim 400m, Bike 10K, Run 2.5K', 'price' => 500000, 'stock' => 300],
                    ['name' => 'Sprint', 'description' => 'Swim 750m, Bike 20K, Run 5K', 'price' => 750000, 'stock' => 200],
                    ['name' => 'Olympic', 'description' => 'Swim 1.5K, Bike 40K, Run 10K', 'price' => 1200000, 'stock' => 100],
                ],
            ],
            [
                'organizer_id' => $organizers->last()->id,
                'category_id' => $categories->where('slug', 'sports')->first()->id,
                'title' => 'Surabaya Basketball Tournament',
                'description' => "Turnamen basket 3x3 terbesar di Jawa Timur!\n\nKategori:\n- Open (umum)\n- U-18\n- U-15\n- Women\n\nTotal hadiah puluhan juta rupiah!",
                'short_description' => 'Turnamen basket 3x3 dengan berbagai kategori usia!',
                'start_date' => Carbon::now()->addDays(28),
                'end_date' => Carbon::now()->addDays(29),
                'start_time' => '08:00',
                'end_time' => '20:00',
                'venue_name' => 'Suncity Mall',
                'venue_address' => 'Jl. HR Muhammad',
                'city' => 'Surabaya',
                'province' => 'Jawa Timur',
                'is_featured' => false,
                'is_free' => false,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Team Registration', 'description' => 'Registrasi per tim (4 orang)', 'price' => 300000, 'stock' => 32],
                ],
            ],

            // Free Event
            [
                'organizer_id' => $organizers->first()->id,
                'category_id' => $categories->where('slug', 'cosplay-pop-culture')->first()->id,
                'title' => 'Free Cosplay Gathering Jakarta',
                'description' => "Gathering cosplay GRATIS untuk komunitas!\n\nAcara:\n- Photo session bersama\n- Games\n- Sharing session\n- Networking\n\nTerbuka untuk semua cosplayer dan pecinta anime!",
                'short_description' => 'Gathering cosplay gratis untuk komunitas Jakarta!',
                'start_date' => Carbon::now()->addDays(7),
                'end_date' => Carbon::now()->addDays(7),
                'start_time' => '13:00',
                'end_time' => '18:00',
                'venue_name' => 'Taman Menteng',
                'venue_address' => 'Jl. HOS Cokroaminoto',
                'city' => 'Jakarta',
                'province' => 'DKI Jakarta',
                'is_featured' => false,
                'is_free' => true,
                'status' => EventStatus::PUBLISHED,
                'published_at' => now(),
                'tickets' => [
                    ['name' => 'Free Entry', 'description' => 'Tiket masuk gratis', 'price' => 0, 'stock' => 200],
                ],
            ],
        ];

        foreach ($events as $eventData) {
            $tickets = $eventData['tickets'];
            unset($eventData['tickets']);

            // Create event
            $event = Event::create($eventData);

            // Create event days
            $startDate = Carbon::parse($eventData['start_date']);
            $endDate = Carbon::parse($eventData['end_date']);

            $dayNumber = 1;
            while ($startDate->lte($endDate)) {
                EventDay::create([
                    'event_id' => $event->id,
                    'name' => 'Day ' . $dayNumber,
                    'date' => $startDate->toDateString(),
                ]);
                $startDate->addDay();
                $dayNumber++;
            }

            // Create tickets with variants
            $sortOrder = 1;
            foreach ($tickets as $ticketData) {
                $ticket = Ticket::create([
                    'event_id' => $event->id,
                    'name' => $ticketData['name'],
                    'description' => $ticketData['description'],
                    // 'type' => 'paid', // ← HAPUS BARIS INI
                    'sort_order' => $sortOrder++,
                    'is_active' => true,
                ]);

                TicketVariant::create([
                    'ticket_id' => $ticket->id,
                    'name' => null,
                    'price' => $ticketData['price'],
                    'stock' => $ticketData['stock'],
                    'sold_count' => 0,
                    'reserved_count' => 0,
                    'min_per_order' => 1,
                    'max_per_order' => 5,
                    'is_active' => true,
                ]);
            }

            // Update price range
            $event->update([
                'min_price' => $event->lowest_price,
                'max_price' => $event->highest_price,
            ]);
        }

        $this->command->info('Created ' . count($events) . ' events with tickets!');
    }
}

======================================================================
FILE: database/seeders/OrganizerSeeder.php (75 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Models\Organizer;
use App\Models\OrganizerSocialLink;
use App\Models\User;
use Illuminate\Database\Seeder;

class OrganizerSeeder extends Seeder
{
    public function run(): void
    {
        $organizers = [
            [
                'email' => 'organizer@ngevent.id',
                'organizer' => [
                    'name' => 'Event Organizer Demo',
                    'slug' => 'event-organizer-demo',
                    'bio' => 'Professional event organizer with 10+ years experience in organizing various events across Indonesia.',
                    'city' => 'Jakarta',
                    'province' => 'DKI Jakarta',
                    'bank_name' => 'BCA',
                    'bank_account_number' => '1234567890',
                    'bank_account_name' => 'PT Event Organizer Demo',
                    'is_verified' => true,
                    'verified_at' => now(),
                ],
                'social_links' => [
                    ['platform' => 'instagram', 'url' => 'https://instagram.com/eventorganizerdemo'],
                    ['platform' => 'twitter', 'url' => 'https://twitter.com/eventorgdemo'],
                ],
            ],
            [
                'email' => 'music@ngevent.id',
                'organizer' => [
                    'name' => 'Music Festival Indonesia',
                    'slug' => 'music-festival-indonesia',
                    'bio' => 'Bringing the best music experiences to Indonesia since 2015. We organize concerts, festivals, and intimate gigs.',
                    'city' => 'Bandung',
                    'province' => 'Jawa Barat',
                    'bank_name' => 'Mandiri',
                    'bank_account_number' => '0987654321',
                    'bank_account_name' => 'PT Music Festival Indonesia',
                    'is_verified' => true,
                    'verified_at' => now(),
                ],
                'social_links' => [
                    ['platform' => 'instagram', 'url' => 'https://instagram.com/musicfestid'],
                    ['platform' => 'youtube', 'url' => 'https://youtube.com/@musicfestid'],
                    ['platform' => 'website', 'url' => 'https://musicfestival.id'],
                ],
            ],
        ];

        foreach ($organizers as $data) {
            $user = User::where('email', $data['email'])->first();

            if ($user) {
                $organizer = Organizer::create(array_merge(
                    ['user_id' => $user->id],
                    $data['organizer']
                ));

                foreach ($data['social_links'] as $link) {
                    OrganizerSocialLink::create(array_merge(
                        ['organizer_id' => $organizer->id],
                        $link
                    ));
                }
            }
        }
    }
}

======================================================================
FILE: database/seeders/SubcategorySeeder.php (49 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Models\Category;
use App\Models\Subcategory;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class SubcategorySeeder extends Seeder
{
    public function run(): void
    {
        $subcategories = [
            'cosplay-pop-culture' => [
                'Anime Expo', 'Comic Con', 'Cosplay Competition', 'Figure Exhibition',
                'Fan Meeting', 'Manga Festival', 'Gaming Convention', 'K-Pop Event',
                'J-Pop Event', 'Tokusatsu', 'Idol Festival', 'Art Exhibition',
            ],
            'music-concert' => [
                'Live Band', 'DJ Performance', 'Orchestra', 'Indie', 'Pop',
                'Rock', 'Jazz', 'EDM', 'Mini Gig', 'Music Festival',
                'Meet & Greet', 'VIP Access', 'All Ages', '17+', '21+',
                'Seating', 'Standing', 'Acoustic', 'Hip Hop', 'R&B',
            ],
            'sports' => [
                'Marathon', 'Fun Run', 'Tournament', 'Championship', 'Exhibition Match',
                'Esports', 'Fitness Event', 'Cycling', 'Swimming', 'Football',
                'Basketball', 'Badminton', 'Tennis', 'Volleyball', 'Triathlon',
                'Color Run', 'Night Run', 'Trail Run',
            ],
        ];

        foreach ($subcategories as $categorySlug => $subs) {
            $category = Category::where('slug', $categorySlug)->first();

            if ($category) {
                foreach ($subs as $name) {
                    Subcategory::create([
                        'category_id' => $category->id,
                        'name' => $name,
                        'slug' => Str::slug($name),
                    ]);
                }
            }
        }
    }
}

======================================================================
FILE: database/seeders/UserSeeder.php (53 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Enums\UserRole;
use App\Models\User;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;

class UserSeeder extends Seeder
{
    public function run(): void
    {
        // Admin User
        User::create([
            'name' => 'Admin ngevent',
            'email' => 'admin@ngevent.id',
            'password' => Hash::make('password'),
            'role' => UserRole::ADMIN,
            'email_verified_at' => now(),
        ]);

        // Organizer Users
        User::create([
            'name' => 'Event Organizer Demo',
            'email' => 'organizer@ngevent.id',
            'password' => Hash::make('password'),
            'role' => UserRole::ORGANIZER,
            'email_verified_at' => now(),
        ]);

        User::create([
            'name' => 'Music Festival ID',
            'email' => 'music@ngevent.id',
            'password' => Hash::make('password'),
            'role' => UserRole::ORGANIZER,
            'email_verified_at' => now(),
        ]);

        // Regular Users
        User::create([
            'name' => 'John Doe',
            'email' => 'user@ngevent.id',
            'password' => Hash::make('password'),
            'role' => UserRole::USER,
            'email_verified_at' => now(),
        ]);

        // Create more random users for testing
        User::factory(20)->create();
    }
}

======================================================================
FILE: database/seeders/VoucherSeeder.php (69 lines)
======================================================================
<?php

namespace Database\Seeders;

use App\Enums\VoucherType;
use App\Models\User;
use App\Models\Voucher;
use Illuminate\Database\Seeder;

class VoucherSeeder extends Seeder
{
    public function run(): void
    {
        $admin = User::where('role', 'admin')->first();

        $vouchers = [
            [
                'code' => 'WELCOME10',
                'name' => 'Welcome Discount',
                'description' => 'Diskon 10% untuk pengguna baru',
                'type' => VoucherType::PERCENTAGE,
                'value' => 10,
                'max_discount' => 50000,
                'usage_limit' => 1000,
                'usage_limit_per_user' => 1,
                'expires_at' => now()->addMonths(3),
            ],
            [
                'code' => 'NGEVENT50K',
                'name' => 'Discount Rp 50.000',
                'description' => 'Potongan langsung Rp 50.000',
                'type' => VoucherType::FIXED,
                'value' => 50000,
                'min_purchase' => 200000,
                'usage_limit' => 500,
                'expires_at' => now()->addMonth(),
            ],
            [
                'code' => 'MUSIC25',
                'name' => 'Music Festival Discount',
                'description' => 'Diskon 25% untuk event musik',
                'type' => VoucherType::PERCENTAGE,
                'value' => 25,
                'max_discount' => 100000,
                'min_purchase' => 100000,
                'category_id' => 2, // Music & Concert
                'usage_limit' => 200,
                'expires_at' => now()->addWeeks(2),
            ],
            [
                'code' => 'FREESHIP',
                'name' => 'Free Service Fee',
                'description' => 'Gratis biaya layanan',
                'type' => VoucherType::FIXED,
                'value' => 5000,
                'usage_limit' => null, // Unlimited
                'expires_at' => now()->addYear(),
            ],
        ];

        foreach ($vouchers as $voucher) {
            Voucher::create(array_merge(
                ['created_by' => $admin?->id],
                $voucher
            ));
        }
    }
}

======================================================================
FILE: package.json (24 lines)
======================================================================
{
    "name": "ngevent",
    "private": true,
    "type": "module",
    "scripts": {
        "dev": "vite",
        "build": "vite build"
    },
    "devDependencies": {
        "@tailwindcss/forms": "^0.5.10",
        "@tailwindcss/typography": "^0.5.16",
        "autoprefixer": "^10.4.20",
        "axios": "^1.7.9",
        "laravel-vite-plugin": "^1.2.0",
        "postcss": "^8.4.49",
        "tailwindcss": "^3.4.19",
        "vite": "^6.0.11"
    },
    "dependencies": {
        "@tailwindcss/vite": "^4.1.18",
        "alpinejs": "^3.14.8"
    }
}

======================================================================
FILE: resources/css/app.css (107 lines)
======================================================================
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   NGEVENT.ID DESIGN SYSTEM
   Theme: Black & Pink (#FF8FC7)
   ================================ */

@layer components {

    /* ---------- BUTTON ---------- */
    .btn {
        @apply inline-flex items-center justify-center px-4 py-2 font-medium rounded-lg
               transition focus:outline-none focus:ring-2 focus:ring-offset-2
               focus:ring-offset-black;
    }

    .btn-primary {
        @apply bg-[#FF8FC7] text-black
               hover:bg-pink-400
               focus:ring-[#FF8FC7];
    }

    .btn-secondary {
        @apply bg-gray-800 text-gray-200
               hover:bg-gray-700
               focus:ring-gray-500;
    }

    .btn-outline {
        @apply border-2 border-[#FF8FC7] text-[#FF8FC7]
               hover:bg-[#FF8FC7]/10
               focus:ring-[#FF8FC7];
    }

    .btn-danger {
        @apply bg-red-600 text-white
               hover:bg-red-700
               focus:ring-red-500;
    }

    /* ---------- INPUT ---------- */
    .input {
        @apply w-full px-4 py-2 rounded-lg
               bg-black text-[#FF8FC7]
               border border-gray-700
               placeholder-gray-500
               focus:ring-2 focus:ring-[#FF8FC7]
               focus:border-[#FF8FC7]
               transition;
    }

    .label {
        @apply block text-sm font-medium text-gray-300 mb-1;
    }

    /* ---------- CARD ---------- */
    .card {
        @apply bg-gray-900 rounded-xl shadow-lg border border-gray-800;
    }

    /* ---------- BADGE ---------- */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full
               text-xs font-medium;
    }

    .badge-primary {
        @apply bg-[#FF8FC7]/20 text-[#FF8FC7];
    }

    .badge-success {
        @apply bg-green-500/20 text-green-400;
    }

    .badge-warning {
        @apply bg-yellow-500/20 text-yellow-400;
    }

    .badge-danger {
        @apply bg-red-500/20 text-red-400;
    }

    .badge-gray {
        @apply bg-gray-700 text-gray-300;
    }

    /* ---------- LINKS ---------- */
    .link {
        @apply text-[#FF8FC7] hover:underline;
    }

    /* ---------- UTILITIES ---------- */
    .bg-primary {
        @apply bg-[#FF8FC7];
    }

    .text-primary {
        @apply text-[#FF8FC7];
    }

    .ring-primary {
        @apply focus:ring-[#FF8FC7];
    }
}

======================================================================
FILE: resources/js/app.js (104 lines)
======================================================================
import './bootstrap';
import Alpine from 'alpinejs';

window.Alpine = Alpine;

// Global Alpine components
Alpine.data('countdown', (expiresAt) => ({
    remaining: 0,
    minutes: '00',
    seconds: '00',
    expired: false,

    init() {
        this.updateCountdown();
        setInterval(() => this.updateCountdown(), 1000);
    },

    updateCountdown() {
        const now = new Date().getTime();
        const target = new Date(expiresAt).getTime();
        this.remaining = Math.max(0, Math.floor((target - now) / 1000));

        if (this.remaining <= 0) {
            this.expired = true;
            this.minutes = '00';
            this.seconds = '00';
            return;
        }

        this.minutes = String(Math.floor(this.remaining / 60)).padStart(2, '0');
        this.seconds = String(this.remaining % 60).padStart(2, '0');
    }
}));

Alpine.data('ticketSelector', () => ({
    quantities: {},
    total: 0,

    init() {
        this.calculateTotal();
    },

    updateQuantity(variantId, price, change) {
        const current = this.quantities[variantId] || 0;
        const newValue = Math.max(0, current + change);
        this.quantities[variantId] = newValue;
        this.calculateTotal();
    },

    setQuantity(variantId, value) {
        this.quantities[variantId] = Math.max(0, parseInt(value) || 0);
        this.calculateTotal();
    },

    calculateTotal() {
        this.total = 0;
        for (const [variantId, quantity] of Object.entries(this.quantities)) {
            const priceEl = document.querySelector(`[data-variant-price="${variantId}"]`);
            if (priceEl) {
                this.total += quantity * parseInt(priceEl.value);
            }
        }
    },

    getTotalQuantity() {
        return Object.values(this.quantities).reduce((a, b) => a + b, 0);
    },

    canCheckout() {
        return this.getTotalQuantity() > 0;
    }
}));

Alpine.data('imagePreview', () => ({
    preview: null,

    handleFileChange(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                this.preview = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    },

    clearPreview() {
        this.preview = null;
    }
}));

Alpine.start();

// Format currency helper
window.formatRupiah = (number) => {
    return new Intl.NumberFormat('id-ID', {
        style: 'currency',
        currency: 'IDR',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
    }).format(number);
};

======================================================================
FILE: resources/js/bootstrap.js (11 lines)
======================================================================
import axios from 'axios';

window.axios = axios;
window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';

// CSRF token for axios requests
const token = document.querySelector('meta[name="csrf-token"]');
if (token) {
    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;
}

======================================================================
FILE: resources/views/admin/dashboard/index.blade.php (60 lines)
======================================================================
<x-organizer-layout>
    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl font-bold text-[#FF8FC7] mb-8">Organizer Dashboard</h1>

        <!-- Welcome Banner -->
        <div class="bg-gradient-to-r from-[#FF8FC7] to-pink-400 rounded-xl p-6 mb-8">
            <h2 class="text-lg font-semibold text-black">Selamat datang, {{ auth()->user()->organizer->name ?? auth()->user()->name }}!</h2>
            <p class="mt-2 text-black/80">Kelola event dan tiket kamu dari sini.</p>
        </div>

        <!-- Stats Grid -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <!-- Total Events -->
            <div class="bg-gray-950 border border-gray-900 rounded-xl shadow-lg p-6 hover:border-[#FF8FC7] transition">
                <h3 class="text-sm font-medium text-gray-400">Total Events</h3>
                <p class="text-3xl font-bold text-[#FF8FC7] mt-2">
                    {{ auth()->user()->organizer?->events()->count() ?? 0 }}
                </p>
            </div>

            <!-- Published Events -->
            <div class="bg-gray-950 border border-gray-900 rounded-xl shadow-lg p-6 hover:border-green-500 transition">
                <h3 class="text-sm font-medium text-gray-400">Published</h3>
                <p class="text-3xl font-bold text-green-400 mt-2">
                    {{ auth()->user()->organizer?->events()->where('status', 'published')->count() ?? 0 }}
                </p>
            </div>

            <!-- Tickets Sold -->
            <div class="bg-gray-950 border border-gray-900 rounded-xl shadow-lg p-6 hover:border-blue-500 transition">
                <h3 class="text-sm font-medium text-gray-400">Tiket Terjual</h3>
                <p class="text-3xl font-bold text-blue-400 mt-2">0</p>
            </div>

            <!-- Revenue -->
            <div class="bg-gray-950 border border-gray-900 rounded-xl shadow-lg p-6 hover:border-purple-500 transition">
                <h3 class="text-sm font-medium text-gray-400">Pendapatan</h3>
                <p class="text-3xl font-bold text-purple-400 mt-2">Rp 0</p>
            </div>
        </div>

        <!-- Events Section -->
        <div class="bg-gray-950 border border-gray-900 rounded-xl shadow-lg p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-[#FF8FC7]">Events Saya</h2>
                <a href="{{ route('organizer.events.create') }}" class="bg-[#FF8FC7] text-black px-4 py-2 rounded-lg font-medium hover:bg-pink-400 transition">
                    + Buat Event Baru
                </a>
            </div>

            <!-- Empty State -->
            <div class="text-center py-12 text-gray-500">
                <svg class="mx-auto h-12 w-12 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                <p class="mt-4 text-gray-400">Belum ada event. Buat event pertamamu sekarang!</p>
            </div>
        </div>
    </div>
</x-organizer-layout>

======================================================================
FILE: resources/views/admin/placeholder.blade.php (12 lines)
======================================================================
<!DOCTYPE html>
<html>
<head>
    <title>{{ $title }} - Admin</title>
</head>
<body>
    <h1>Admin - {{ $title }}</h1>
    <p>Coming soon...</p>
    <a href="{{ route('admin.dashboard') }}">Back to Dashboard</a>
</body>
</html>

======================================================================
FILE: resources/views/auth/forgot-password.blade.php (43 lines)
======================================================================
<x-app-layout>
    <div class="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Lupa Password?</h2>
                <p class="mt-2 text-gray-600">Masukkan email kamu dan kami akan mengirimkan link untuk reset password</p>
            </div>

            @if (session('status'))
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
                    {{ session('status') }}
                </div>
            @endif

            <form class="mt-8 space-y-6" action="{{ route('password.email') }}" method="POST">
                @csrf

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input id="email" name="email" type="email" value="{{ old('email') }}" required autofocus
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('email') border-red-500 @enderror"
                           placeholder="nama@email.com">
                    @error('email')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition">
                    Kirim Link Reset Password
                </button>
            </form>

            <div class="text-center">
                <a href="{{ route('login') }}" class="text-blue-600 hover:text-blue-800 font-medium">
                    ← Kembali ke halaman login
                </a>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/auth/login.blade.php (73 lines)
======================================================================
<x-app-layout>
    <div class="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-white">Masuk ke Akun</h2>
                <p class="mt-2 text-gray-600">Belum punya akun?
                    <a href="{{ route('register') }}" class="text-pink-600 hover:text-pink-800 font-medium">Daftar sekarang</a>
                </p>
            </div>

            <form class="mt-8 space-y-6" action="{{ route('login') }}" method="POST">
                @csrf

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input id="email" name="email" type="email" value="{{ old('email') }}" required autofocus
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 @error('email') border-red-500 @enderror"
                           placeholder="nama@email.com">
                    @error('email')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Password -->
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input id="password" name="password" type="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 @error('password') border-red-500 @enderror"
                           placeholder="••••••••">
                    @error('password')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="flex items-center justify-between">
                    <label class="flex items-center">
                        <input type="checkbox" name="remember" class="h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                        <span class="ml-2 text-sm text-gray-600">Ingat saya</span>
                    </label>
                    <a href="{{ route('password.request') }}" class="text-sm text-pink-600 hover:text-pink-800">
                        Lupa password?
                    </a>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-pink-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-pink-700 focus:ring-4 focus:ring-pink-200 transition">
                    Masuk
                </button>
            </form>

            <!-- Divider -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-gray-50 text-gray-500">atau</span>
                </div>
            </div>

            <!-- Register as Organizer -->
            <div class="text-center">
                <p class="text-gray-600">Ingin jadi penyelenggara event?</p>
                <a href="{{ route('register.organizer') }}" class="mt-2 inline-block text-pink-600 hover:text-pink-800 font-medium">
                    Daftar sebagai Organizer →
                </a>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/auth/register-organizer.blade.php (89 lines)
======================================================================
<x-app-layout>
    <div class="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-900">Daftar Sebagai Organizer</h2>
                <p class="mt-2 text-gray-600">Mulai kelola event dan jual tiket di ngevent.id</p>
            </div>

            <form class="mt-8 space-y-6" action="{{ route('register.organizer') }}" method="POST">
                @csrf

                <!-- Organizer Name -->
                <div class="p-4 bg-blue-50 rounded-lg">
                    <label for="organizer_name" class="block text-sm font-medium text-blue-800 mb-1">Nama Organizer / Brand</label>
                    <input id="organizer_name" name="organizer_name" type="text" value="{{ old('organizer_name') }}" required
                           class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('organizer_name') border-red-500 @enderror"
                           placeholder="Nama event organizer atau brand kamu">
                    @error('organizer_name')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Name -->
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap (PIC)</label>
                    <input id="name" name="name" type="text" value="{{ old('name') }}" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('name') border-red-500 @enderror"
                           placeholder="Nama penanggung jawab">
                    @error('name')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input id="email" name="email" type="email" value="{{ old('email') }}" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('email') border-red-500 @enderror"
                           placeholder="email@organizer.com">
                    @error('email')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Password -->
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input id="password" name="password" type="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('password') border-red-500 @enderror"
                           placeholder="Minimal 8 karakter">
                    @error('password')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Confirm Password -->
                <div>
                    <label for="password_confirmation" class="block text-sm font-medium text-gray-700 mb-1">Konfirmasi Password</label>
                    <input id="password_confirmation" name="password_confirmation" type="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="Ulangi password">
                </div>

                <!-- Terms -->
                <div class="flex items-start">
                    <input type="checkbox" name="terms" required class="h-4 w-4 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                    <span class="ml-2 text-sm text-gray-600">
                        Saya setuju dengan <a href="#" class="text-blue-600 hover:underline">Syarat & Ketentuan Organizer</a>
                        dan <a href="#" class="text-blue-600 hover:underline">Kebijakan Privasi</a>
                    </span>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition">
                    Daftar Sebagai Organizer
                </button>
            </form>

            <!-- Back to regular register -->
            <div class="text-center">
                <p class="text-gray-600">Hanya ingin membeli tiket?</p>
                <a href="{{ route('register') }}" class="mt-2 inline-block text-blue-600 hover:text-blue-800 font-medium">
                    ← Daftar sebagai User biasa
                </a>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/auth/register.blade.php (90 lines)
======================================================================
<x-app-layout>
    <div class="min-h-[80vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-white">Buat Akun Baru</h2>
                <p class="mt-2 text-gray-600">Sudah punya akun?
                    <a href="{{ route('login') }}" class="text-pink-600 hover:text-pink-800 font-medium">Masuk di sini</a>
                </p>
            </div>

            <form class="mt-8 space-y-6" action="{{ route('register') }}" method="POST">
                @csrf

                <!-- Name -->
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                    <input id="name" name="name" type="text" value="{{ old('name') }}" required autofocus
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 @error('name') border-red-500 @enderror"
                           placeholder="John Doe">
                    @error('name')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input id="email" name="email" type="email" value="{{ old('email') }}" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 @error('email') border-red-500 @enderror"
                           placeholder="nama@email.com">
                    @error('email')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Password -->
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input id="password" name="password" type="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 @error('password') border-red-500 @enderror"
                           placeholder="Minimal 8 karakter">
                    @error('password')
                        <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>

                <!-- Confirm Password -->
                <div>
                    <label for="password_confirmation" class="block text-sm font-medium text-gray-700 mb-1">Konfirmasi Password</label>
                    <input id="password_confirmation" name="password_confirmation" type="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500"
                           placeholder="Ulangi password">
                </div>

                <!-- Terms -->
                <div class="flex items-start">
                    <input type="checkbox" name="terms" required class="h-4 w-4 mt-1 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                    <span class="ml-2 text-sm text-gray-600">
                        Saya setuju dengan <a href="#" class="text-pink-600 hover:underline">Syarat & Ketentuan</a>
                        dan <a href="#" class="text-pink-600 hover:underline">Kebijakan Privasi</a>
                    </span>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-pink-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-pink-700 focus:ring-4 focus:ring-pink-200 transition">
                    Daftar Sekarang
                </button>
            </form>

            <!-- Divider -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-gray-50 text-gray-500">atau</span>
                </div>
            </div>

            <!-- Register as Organizer -->
            <div class="text-center">
                <p class="text-gray-600">Ingin jadi penyelenggara event?</p>
                <a href="{{ route('register.organizer') }}" class="mt-2 inline-block text-pink-600 hover:text-pink-800 font-medium">
                    Daftar sebagai Organizer →
                </a>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/components/event-card.blade.php (54 lines)
======================================================================
@props(['event'])

<article class="bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition group">
    <a href="{{ route('events.show', $event) }}" class="block">
        <!-- Image -->
        <div class="aspect-video bg-gray-200 overflow-hidden">
            <img src="{{ $event->poster_url }}"
                 alt="{{ $event->title }}"
                 class="w-full h-full object-cover group-hover:scale-105 transition duration-300"
                 onerror="this.src='https://placehold.co/400x300?text=No+Image'">
        </div>

        <!-- Content -->
        <div class="p-4">
            <!-- Category Badge -->
            <div class="mb-2">
                <span class="text-xs font-medium px-2 py-1 rounded-full bg-blue-100 text-blue-800">
                    {{ $event->category->name ?? 'Event' }}
                </span>
            </div>

            <!-- Title -->
            <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition">
                {{ $event->title }}
            </h3>

            <!-- Date & Location -->
            <div class="space-y-1 text-sm text-gray-500 mb-3">
                <div class="flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    {{ $event->formatted_date }}
                </div>
                <div class="flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    </svg>
                    {{ $event->formatted_location }}
                </div>
            </div>

            <!-- Price -->
            <div class="pt-3 border-t border-gray-100">
                <span class="text-lg font-bold text-blue-600">
                    {{ $event->formatted_price }}
                </span>
            </div>
        </div>
    </a>
</article>

======================================================================
FILE: resources/views/layouts/app.blade.php (212 lines)
======================================================================
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}" class="scroll-smooth">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token() }}">

    <title>{{ $title ?? 'ngevent.id - Platform Ticketing Event Indonesia' }}</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=inter:400,500,600,700&display=swap" rel="stylesheet" />

    <!-- Scripts -->
    @vite(['resources/css/app.css', 'resources/js/app.js'])

    @stack('styles')
</head>

<body class="font-sans antialiased bg-black">
<div class="min-h-screen flex flex-col">

    <!-- Navigation -->
<nav
    x-data="{ scrolled: false }"
    x-init="window.addEventListener('scroll', () => scrolled = window.scrollY > 10)"
    :class="scrolled
        ? 'bg-gray-950/80 backdrop-blur border-gray-900'
        : 'bg-gray-950 border-gray-900'"
    class="border-b sticky top-0 z-50 transition-all duration-300"
>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">

            <!-- Logo -->
            <div class="flex items-center">
                <a href="{{ route('home') }}" class="flex items-center">
                    <img
                        src="{{ asset('image/ngevent.id_logo.png') }}"
                        alt="ngevent.id"
                        class="h-7 md:h-8 object-contain"
                    >
                </a>
            </div>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex md:items-center md:space-x-6">
                <a href="{{ route('events.index') }}"
                   class="text-gray-300 hover:text-[#FF8FC7] transition">
                    Events
                </a>
            </div>

            <!-- Right Side -->
            <div class="hidden md:flex md:items-center md:space-x-4">
                @auth
                    <a href="{{ route('tickets.index') }}"
                       class="text-gray-300 hover:text-[#FF8FC7] transition">
                        Tiket Saya
                    </a>

                    <div class="relative" x-data="{ open: false }">
                        <button @click="open = !open"
                                class="flex items-center space-x-2 text-gray-300 hover:text-[#FF8FC7] transition">
                            <span>{{ auth()->user()->name }}</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>

                        <div x-show="open" @click.away="open = false" x-cloak
                             class="absolute right-0 mt-2 w-48 bg-gray-950 border border-gray-800 rounded-lg shadow-lg py-1 z-50">

                            <a href="{{ route('orders.index') }}"
                               class="block px-4 py-2 text-sm text-gray-300 hover:bg-[#FF8FC7]/10 hover:text-[#FF8FC7]">
                                Pesanan Saya
                            </a>

                            <a href="{{ route('profile.index') }}"
                               class="block px-4 py-2 text-sm text-gray-300 hover:bg-[#FF8FC7]/10 hover:text-[#FF8FC7]">
                                Profil
                            </a>

                            @if(auth()->user()->isOrganizer())
                                <a href="{{ route('organizer.dashboard') }}"
                                   class="block px-4 py-2 text-sm text-gray-300 hover:bg-[#FF8FC7]/10 hover:text-[#FF8FC7]">
                                    Dashboard Organizer
                                </a>
                            @endif

                            @if(auth()->user()->isAdmin())
                                <a href="{{ route('admin.dashboard') }}"
                                   class="block px-4 py-2 text-sm text-gray-300 hover:bg-[#FF8FC7]/10 hover:text-[#FF8FC7]">
                                    Dashboard Admin
                                </a>
                            @endif

                            <hr class="my-1 border-gray-800">

                            <form method="POST" action="{{ route('logout') }}">
                                @csrf
                                <button type="submit"
                                        class="block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10">
                                    Keluar
                                </button>
                            </form>
                        </div>
                    </div>
                @else
                    <a href="{{ route('login') }}"
                       class="text-gray-300 hover:text-[#FF8FC7] transition">
                        Masuk
                    </a>
                    <a href="{{ route('register') }}"
                       class="bg-[#FF8FC7] text-black px-4 py-2 rounded-lg hover:bg-pink-400 transition font-semibold">
                        Daftar
                    </a>
                @endauth
            </div>

            <!-- Mobile Menu -->
            <div class="md:hidden flex items-center">
                <div x-data="{ mobileOpen: false }">
                    <button @click="mobileOpen = !mobileOpen" class="text-gray-300">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>

                    <div x-show="mobileOpen" @click.away="mobileOpen = false"
                         class="absolute top-16 left-0 right-0 bg-gray-950 border-t border-gray-800 shadow-lg p-4 z-50">

                        <a href="{{ route('events.index') }}"
                           class="block py-2 text-gray-300 hover:text-[#FF8FC7]">
                            Events
                        </a>

                        @auth
                            <a href="{{ route('tickets.index') }}" class="block py-2 text-gray-300 hover:text-[#FF8FC7]">Tiket Saya</a>
                            <a href="{{ route('orders.index') }}" class="block py-2 text-gray-300 hover:text-[#FF8FC7]">Pesanan Saya</a>
                            <a href="{{ route('profile.index') }}" class="block py-2 text-gray-300 hover:text-[#FF8FC7]">Profil</a>

                            <form method="POST" action="{{ route('logout') }}" class="mt-2">
                                @csrf
                                <button type="submit" class="text-red-400 hover:text-red-300">Keluar</button>
                            </form>
                        @else
                            <a href="{{ route('login') }}" class="block py-2 text-gray-300 hover:text-[#FF8FC7]">Masuk</a>
                            <a href="{{ route('register') }}" class="block py-2 text-[#FF8FC7] font-semibold">Daftar</a>
                        @endauth
                    </div>
                </div>
            </div>

        </div>
    </div>
</nav>


    <!-- Flash Messages -->
    @if(session('success'))
        <div class="bg-green-500/10 border border-green-500 text-green-400 px-4 py-3 mx-4 mt-4 rounded">
            {{ session('success') }}
        </div>
    @endif

    @if(session('error'))
        <div class="bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 mx-4 mt-4 rounded">
            {{ session('error') }}
        </div>
    @endif

    <!-- Page Content -->
    <main class="flex-1">
        {{ $slot }}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-950 border-t border-gray-900 text-gray-400 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center">

            <!-- Logo -->
            <div class="flex justify-center mb-3">
                <img
                    src="{{ asset('image/ngevent.id_logo.png') }}"
                    alt="ngevent.id"
                    class="h-9 md:h-10 object-contain"
                >
            </div>

            <p class="text-sm text-gray-500">
                Platform ticketing event terpercaya di Indonesia
            </p>

            <div class="border-t border-gray-900 mt-6 pt-4">
                <p class="text-xs text-gray-600">
                    &copy; {{ date('Y') }} ngevent.id. All rights reserved.
                </p>
            </div>

        </div>
    </footer>



</div>

@stack('scripts')
</body>
</html>

======================================================================
FILE: resources/views/layouts/organizer.blade.php (155 lines)
======================================================================
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>{{ $title ?? 'Organizer Dashboard' }} - ngevent.id</title>
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body class="bg-black" x-data="{ sidebarOpen: false }">
    <div class="min-h-screen flex">
        <!-- Sidebar -->
        <aside class="fixed inset-y-0 left-0 z-50 w-64 bg-gray-950 border-r border-gray-900 transform transition-transform duration-300 lg:translate-x-0"
               :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'">
            <!-- Logo -->
            <div class="flex items-center justify-between h-16 px-6 border-b border-gray-900">
                <a href="{{ route('organizer.dashboard') }}" class="flex items-center">
                    <img
                        src="{{ asset('image/ngevent.id_logo.png') }}"
                        alt="ngevent.id"
                        class="h-7 object-contain"
                    >
                </a>
                <button @click="sidebarOpen = false" class="lg:hidden text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <!-- Navigation -->
            <nav class="mt-6 px-3">
                <div class="space-y-1">
                    <a href="{{ route('organizer.dashboard') }}"
                       class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition {{ request()->routeIs('organizer.dashboard') ? 'bg-[#FF8FC7] text-black' : 'text-gray-300 hover:bg-gray-900 hover:text-[#FF8FC7]' }}">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                        Dashboard
                    </a>

                    <a href="{{ route('organizer.events.index') }}"
                       class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition {{ request()->routeIs('organizer.events.*') ? 'bg-[#FF8FC7] text-black' : 'text-gray-300 hover:bg-gray-900 hover:text-[#FF8FC7]' }}">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        Event Saya
                    </a>

                    <a href="{{ route('organizer.orders.index') }}"
                       class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition {{ request()->routeIs('organizer.orders.*') ? 'bg-[#FF8FC7] text-black' : 'text-gray-300 hover:bg-gray-900 hover:text-[#FF8FC7]' }}">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                        </svg>
                        Pesanan
                    </a>

                    <a href="{{ route('organizer.attendees.index') }}"
                       class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition {{ request()->routeIs('organizer.attendees.*') ? 'bg-[#FF8FC7] text-black' : 'text-gray-300 hover:bg-gray-900 hover:text-[#FF8FC7]' }}">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        Peserta
                    </a>
                </div>

                <div class="mt-8">
                    <p class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">Pengaturan</p>
                    <div class="mt-3 space-y-1">
                        <a href="{{ route('organizer.settings.index') }}"
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition {{ request()->routeIs('organizer.settings.*') ? 'bg-[#FF8FC7] text-black' : 'text-gray-300 hover:bg-gray-900 hover:text-[#FF8FC7]' }}">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            Pengaturan
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Back to Site -->
            <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-900">
                <a href="/" class="flex items-center px-4 py-3 text-sm font-medium text-gray-400 hover:text-[#FF8FC7] transition rounded-lg hover:bg-gray-900">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"></path>
                    </svg>
                    Kembali ke Website
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 lg:ml-64">
            <!-- Top Header -->
            <header class="bg-gray-950 border-b border-gray-900 h-16 flex items-center justify-between px-6 sticky top-0 z-40">
                <button @click="sidebarOpen = true" class="lg:hidden text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>

                <div class="flex-1 lg:flex-none"></div>

                <!-- User Menu -->
                <div class="flex items-center gap-4">
                    <span class="text-sm text-gray-400">{{ auth()->user()->organizer->name ?? auth()->user()->name }}</span>
                    <div class="relative" x-data="{ open: false }">
                        <button @click="open = !open" class="w-10 h-10 bg-[#FF8FC7] rounded-full flex items-center justify-center text-black font-semibold hover:bg-pink-400 transition">
                            {{ strtoupper(substr(auth()->user()->name, 0, 2)) }}
                        </button>
                        <div x-show="open" @click.away="open = false"
                             x-transition
                             class="absolute right-0 mt-2 w-48 bg-gray-950 border border-gray-800 rounded-lg shadow-lg py-2 z-50">
                            <a href="{{ route('organizer.settings.index') }}" class="block px-4 py-2 text-sm text-gray-300 hover:bg-[#FF8FC7]/10 hover:text-[#FF8FC7]">Pengaturan</a>
                            <hr class="my-2 border-gray-800">
                            <form action="{{ route('logout') }}" method="POST">
                                @csrf
                                <button type="submit" class="block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10">
                                    Logout
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Flash Messages -->
            @if(session('success'))
                <div class="mx-6 mt-4 bg-green-500/10 border border-green-500 text-green-400 px-4 py-3 rounded">
                    {{ session('success') }}
                </div>
            @endif

            @if(session('error'))
                <div class="mx-6 mt-4 bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded">
                    {{ session('error') }}
                </div>
            @endif

            <!-- Page Content -->
            <main class="p-6">
                {{ $slot }}
            </main>
        </div>
    </div>

    <!-- Overlay for mobile sidebar -->
    <div x-show="sidebarOpen"
         @click="sidebarOpen = false"
         class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden"
         x-transition:enter="transition-opacity ease-linear duration-300"
         x-transition:leave="transition-opacity ease-linear duration-300"></div>
</body>
</html>

======================================================================
FILE: resources/views/organizer/dashboard.blade.php (118 lines)
======================================================================
<x-app-layout>
    <!-- Hero Section -->
<section class="bg-gradient-to-br from-black via-gray-900 to-black text-[#FF8FC7]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-[#FF8FC7]">
                Temukan Event Seru di Indonesia
            </h1>

            <p class="text-xl md:text-2xl text-[#FF8FC7] mb-8 max-w-3xl mx-auto">
                Cosplay, Music, Sports – Semua event favoritmu ada di sini
            </p>

            <!-- Search Bar -->
            <div class="max-w-2xl mx-auto">
                <form action="{{ route('events.index') }}" method="GET"
                      class="flex flex-col sm:flex-row gap-3">

                    <input type="text" name="search" placeholder="Cari event..."
                           class="flex-1 px-6 py-4 rounded-lg bg-gray-900 text-[#FF8FC7] border border-gray-800
                                  placeholder-gray-500 focus:ring-2 focus:ring-[#FF8FC7] focus:outline-none">

                    <button type="submit"
                            class="bg-[#FF8FC7] text-black font-semibold px-8 py-4 rounded-lg
                                   hover:bg-pink-400 transition">
                        Cari Event
                    </button>
                </form>
            </div>
        </div>
    </div>

</section>


    <!-- Categories Section -->
    <section class="py-12 bg-black">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold text-[#FF8FC7] mb-8 text-center">Kategori Event</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                @foreach($categories as $category)
                    <a href="{{ route('events.category', $category) }}"
                       class="group p-6 bg-gray-900 border border-gray-800 rounded-xl hover:bg-gray-800 hover:border-[#FF8FC7] transition">
                        <h3 class="text-xl font-bold text-[#FF8FC7] mb-2">{{ $category->name }}</h3>
                        <p class="text-gray-400">{{ $category->events_count }} events</p>
                    </a>
                @endforeach
            </div>
        </div>
    </section>

    <!-- Featured Events Section -->
    @if($featuredEvents->count() > 0)
    <section class="py-16 bg-gray-950">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-[#FF8FC7]">Event Unggulan</h2>
                <a href="{{ route('events.index') }}" class="text-[#FF8FC7] hover:text-pink-400 font-medium">
                    Lihat Semua →
                </a>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @foreach($featuredEvents as $event)
                    <x-event-card :event="$event" />
                @endforeach
            </div>
        </div>
    </section>
    @endif

    <!-- Upcoming Events Section -->
    <section class="py-16 bg-black">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-[#FF8FC7]">Event Mendatang</h2>
                <a href="{{ route('events.index') }}" class="text-[#FF8FC7] hover:text-pink-400 font-medium">
                    Lihat Semua →
                </a>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                @foreach($upcomingEvents as $event)
                    <x-event-card :event="$event" />
                @endforeach
            </div>

            @if($upcomingEvents->count() === 0)
                <div class="text-center py-12">
                    <p class="text-gray-500 text-lg">Belum ada event mendatang</p>
                </div>
            @endif
        </div>
    </section>


<!-- CTA Section -->
<section class="py-16 bg-gradient-to-br from-[#FF8FC7] to-pink-400">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">

        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-black">
            Punya Event?
        </h2>

        <p class="text-xl mb-8 max-w-2xl mx-auto text-black">
            Daftarkan event kamu di ngevent.id dan jangkau ribuan penggemar di seluruh Indonesia
        </p>

        <a href="{{ route('register.organizer') }}"
           class="inline-block bg-black text-[#FF8FC7] font-semibold px-8 py-4 rounded-lg
                  hover:bg-gray-900 transition shadow-lg">
            Daftar Sebagai Organizer
        </a>

    </div>
</section>



</x-app-layout>

======================================================================
FILE: resources/views/organizer/dashboard/index.blade.php (50 lines)
======================================================================
<x-app-layout>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-8">Organizer Dashboard</h1>

        <div class="bg-pink-50 border border-pink-200 rounded-lg p-6 mb-8">
            <h2 class="text-lg font-semibold text-pink-800">Selamat datang, {{ auth()->user()->organizer->name ?? auth()->user()->name }}!</h2>
            <p class="mt-2 text-pink-700">Kelola event dan tiket kamu dari sini.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-sm font-medium text-gray-500">Total Events</h3>
                <p class="text-3xl font-bold text-gray-900 mt-2">
                    {{ auth()->user()->organizer?->events()->count() ?? 0 }}
                </p>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-sm font-medium text-gray-500">Published</h3>
                <p class="text-3xl font-bold text-green-600 mt-2">
                    {{ auth()->user()->organizer?->events()->where('status', 'published')->count() ?? 0 }}
                </p>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-sm font-medium text-gray-500">Tiket Terjual</h3>
                <p class="text-3xl font-bold text-pink-600 mt-2">0</p>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <h3 class="text-sm font-medium text-gray-500">Pendapatan</h3>
                <p class="text-3xl font-bold text-purple-600 mt-2">Rp 0</p>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-gray-900">Events Saya</h2>
                <a href="#" class="bg-pink-600 text-[#FF8FC7] px-4 py-2 rounded-lg font-medium hover:bg-pink-700 transition">
                    + Buat Event Baru
                </a>
            </div>

            <div class="text-center py-12 text-gray-500">
                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                <p class="mt-4">Belum ada event. Buat event pertamamu sekarang!</p>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/organizer/events/create.blade.php (245 lines)
======================================================================
<x-organizer-layout>
    <div class="max-w-4xl">
        <nav class="text-sm mb-6">
            <a href="{{ route('organizer.events.index') }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Event Saya</a>
        </nav>

        <h1 class="text-2xl font-bold text-gray-900 mb-6">Buat Event Baru</h1>

        <form action="{{ route('organizer.events.store') }}" method="POST" enctype="multipart/form-data" x-data="eventForm()">
            @csrf

            <!-- Basic Info -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Informasi Dasar</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Judul Event <span class="text-red-500">*</span></label>
                        <input type="text" name="title" required value="{{ old('title') }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('title') border-red-500 @enderror"
                               placeholder="Masukkan judul event">
                        @error('title')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Kategori <span class="text-red-500">*</span></label>
                        <select name="category_id" required
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('category_id') border-red-500 @enderror">
                            <option value="">Pilih Kategori</option>
                            @foreach($categories as $category)
                                <option value="{{ $category->id }}" {{ old('category_id') == $category->id ? 'selected' : '' }}>
                                    {{ $category->name }}
                                </option>
                            @endforeach
                        </select>
                        @error('category_id')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Singkat</label>
                        <input type="text" name="short_description" value="{{ old('short_description') }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                               placeholder="Ringkasan singkat event (maks 500 karakter)">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Lengkap <span class="text-red-500">*</span></label>
                        <textarea name="description" rows="6" required
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('description') border-red-500 @enderror"
                                  placeholder="Jelaskan detail event Anda">{{ old('description') }}</textarea>
                        @error('description')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>
                </div>
            </div>

            <!-- Date & Time -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Tanggal & Waktu</h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Mulai <span class="text-red-500">*</span></label>
                            <input type="date" name="start_date" required value="{{ old('start_date') }}"
                                   min="{{ date('Y-m-d', strtotime('+1 day')) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('start_date') border-red-500 @enderror">
                            @error('start_date')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Selesai <span class="text-red-500">*</span></label>
                            <input type="date" name="end_date" required value="{{ old('end_date') }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('end_date') border-red-500 @enderror">
                            @error('end_date')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Jam Mulai <span class="text-red-500">*</span></label>
                            <input type="time" name="start_time" required value="{{ old('start_time', '09:00') }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Jam Selesai <span class="text-red-500">*</span></label>
                            <input type="time" name="end_time" required value="{{ old('end_time', '17:00') }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Location -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Lokasi</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="flex items-center gap-4 mb-4">
                        <label class="flex items-center">
                            <input type="checkbox" name="is_online" value="1" x-model="isOnline"
                                   class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">Event Online</span>
                        </label>
                    </div>

                    <div x-show="isOnline">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Link Event Online</label>
                        <input type="url" name="online_url" value="{{ old('online_url') }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                               placeholder="https://zoom.us/...">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Venue <span class="text-red-500">*</span></label>
                        <input type="text" name="venue_name" required value="{{ old('venue_name') }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('venue_name') border-red-500 @enderror"
                               placeholder="Nama gedung/tempat">
                        @error('venue_name')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Alamat Lengkap <span class="text-red-500">*</span></label>
                        <textarea name="venue_address" rows="2" required
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('venue_address') border-red-500 @enderror"
                                  placeholder="Alamat lengkap venue">{{ old('venue_address') }}</textarea>
                        @error('venue_address')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Kota <span class="text-red-500">*</span></label>
                            <input type="text" name="city" required value="{{ old('city') }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('city') border-red-500 @enderror">
                            @error('city')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Provinsi <span class="text-red-500">*</span></label>
                            <input type="text" name="province" required value="{{ old('province') }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('province') border-red-500 @enderror">
                            @error('province')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tickets -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b flex items-center justify-between">
                    <h2 class="text-lg font-semibold text-gray-900">Tiket</h2>
                    <button type="button" @click="addTicket()"
                            class="text-sm text-blue-600 hover:text-blue-800 font-medium">
                        + Tambah Tiket
                    </button>
                </div>
                <div class="p-6 space-y-4">
                    <template x-for="(ticket, index) in tickets" :key="index">
                        <div class="border border-gray-200 rounded-lg p-4 relative">
                            <button type="button" @click="removeTicket(index)" x-show="tickets.length > 1"
                                    class="absolute top-2 right-2 text-red-500 hover:text-red-700">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>

                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Nama Tiket</label>
                                    <input type="text" :name="'tickets[' + index + '][name]'" x-model="ticket.name" required
                                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                           placeholder="VIP, Regular, dll">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Harga (Rp)</label>
                                    <input type="number" :name="'tickets[' + index + '][price]'" x-model="ticket.price" required min="0"
                                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                           placeholder="0 untuk gratis">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Kuota</label>
                                    <input type="number" :name="'tickets[' + index + '][stock]'" x-model="ticket.stock" required min="1"
                                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                           placeholder="Jumlah tiket tersedia">
                                </div>
                            </div>
                            <div class="mt-3">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Tiket (opsional)</label>
                                <input type="text" :name="'tickets[' + index + '][description]'" x-model="ticket.description"
                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                       placeholder="Benefit tiket ini">
                            </div>
                        </div>
                    </template>
                    @error('tickets')
                        <p class="text-sm text-red-600">{{ $message }}</p>
                    @enderror
                </div>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-4">
                <button type="submit" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
                    Simpan Event
                </button>
                <a href="{{ route('organizer.events.index') }}" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">
                    Batal
                </a>
            </div>
        </form>
    </div>

    <script>
        function eventForm() {
            return {
                isOnline: {{ old('is_online') ? 'true' : 'false' }},
                tickets: [
                    { name: '', price: 0, stock: 100, description: '' }
                ],
                addTicket() {
                    this.tickets.push({ name: '', price: 0, stock: 100, description: '' });
                },
                removeTicket(index) {
                    this.tickets.splice(index, 1);
                }
            }
        }
    </script>
</x-organizer-layout>

======================================================================
FILE: resources/views/organizer/events/edit.blade.php (151 lines)
======================================================================
<x-organizer-layout>
    <div class="max-w-4xl">
        <nav class="text-sm mb-6">
            <a href="{{ route('organizer.events.show', $event) }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Detail Event</a>
        </nav>

        <h1 class="text-2xl font-bold text-gray-900 mb-6">Edit Event</h1>

        <form action="{{ route('organizer.events.update', $event) }}" method="POST" enctype="multipart/form-data" x-data="{ isOnline: {{ $event->is_online ? 'true' : 'false' }} }">
            @csrf
            @method('PUT')

            <!-- Basic Info -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Informasi Dasar</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Judul Event <span class="text-red-500">*</span></label>
                        <input type="text" name="title" required value="{{ old('title', $event->title) }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 @error('title') border-red-500 @enderror">
                        @error('title')
                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                        @enderror
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Kategori <span class="text-red-500">*</span></label>
                        <select name="category_id" required
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            @foreach($categories as $category)
                                <option value="{{ $category->id }}" {{ old('category_id', $event->category_id) == $category->id ? 'selected' : '' }}>
                                    {{ $category->name }}
                                </option>
                            @endforeach
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Singkat</label>
                        <input type="text" name="short_description" value="{{ old('short_description', $event->short_description) }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Deskripsi Lengkap <span class="text-red-500">*</span></label>
                        <textarea name="description" rows="6" required
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">{{ old('description', $event->description) }}</textarea>
                    </div>
                </div>
            </div>

            <!-- Date & Time -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Tanggal & Waktu</h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Mulai <span class="text-red-500">*</span></label>
                            <input type="date" name="start_date" required value="{{ old('start_date', $event->start_date->format('Y-m-d')) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Selesai <span class="text-red-500">*</span></label>
                            <input type="date" name="end_date" required value="{{ old('end_date', $event->end_date->format('Y-m-d')) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Jam Mulai <span class="text-red-500">*</span></label>
                            <input type="time" name="start_time" required value="{{ old('start_time', $event->start_time) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Jam Selesai <span class="text-red-500">*</span></label>
                            <input type="time" name="end_time" required value="{{ old('end_time', $event->end_time) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Location -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Lokasi</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="flex items-center gap-4 mb-4">
                        <label class="flex items-center">
                            <input type="checkbox" name="is_online" value="1" x-model="isOnline"
                                   class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">Event Online</span>
                        </label>
                    </div>

                    <div x-show="isOnline">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Link Event Online</label>
                        <input type="url" name="online_url" value="{{ old('online_url', $event->online_url) }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Venue <span class="text-red-500">*</span></label>
                        <input type="text" name="venue_name" required value="{{ old('venue_name', $event->venue_name) }}"
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Alamat Lengkap <span class="text-red-500">*</span></label>
                        <textarea name="venue_address" rows="2" required
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">{{ old('venue_address', $event->venue_address) }}</textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Kota <span class="text-red-500">*</span></label>
                            <input type="text" name="city" required value="{{ old('city', $event->city) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Provinsi <span class="text-red-500">*</span></label>
                            <input type="text" name="province" required value="{{ old('province', $event->province) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Note about Tickets -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6">
                <p class="text-sm text-yellow-800">
                    <strong>Catatan:</strong> Untuk mengubah tiket, silakan hubungi admin. Perubahan tiket setelah ada pesanan memerlukan penanganan khusus.
                </p>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-4">
                <button type="submit" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
                    Simpan Perubahan
                </button>
                <a href="{{ route('organizer.events.show', $event) }}" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">
                    Batal
                </a>
            </div>
        </form>
    </div>
</x-organizer-layout>

======================================================================
FILE: resources/views/organizer/events/index.blade.php (152 lines)
======================================================================
<x-organizer-layout>
    <div class="flex items-center justify-between mb-6">
        <h1 class="text-2xl font-bold text-gray-900">Event Saya</h1>
        <a href="{{ route('organizer.events.create') }}"
           class="inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Buat Event Baru
        </a>
    </div>

    <!-- Filters -->
    <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
        <form action="{{ route('organizer.events.index') }}" method="GET" class="flex flex-wrap gap-4">
            <div class="flex-1 min-w-[200px]">
                <input type="text" name="search" value="{{ request('search') }}"
                       placeholder="Cari event..."
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
                <select name="status" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">Semua Status</option>
                    <option value="draft" {{ request('status') === 'draft' ? 'selected' : '' }}>Draft</option>
                    <option value="published" {{ request('status') === 'published' ? 'selected' : '' }}>Published</option>
                    <option value="completed" {{ request('status') === 'completed' ? 'selected' : '' }}>Completed</option>
                    <option value="cancelled" {{ request('status') === 'cancelled' ? 'selected' : '' }}>Cancelled</option>
                </select>
            </div>
            <button type="submit" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition">
                Filter
            </button>
            @if(request()->hasAny(['search', 'status']))
                <a href="{{ route('organizer.events.index') }}" class="px-4 py-2 text-gray-600 hover:text-gray-900">
                    Reset
                </a>
            @endif
        </form>
    </div>

    <!-- Events Table -->
    <div class="bg-white rounded-xl shadow-sm overflow-hidden">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50 border-b">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Event</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tanggal</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tiket Terjual</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    @forelse($events as $event)
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4">
                                <div class="flex items-center">
                                    <div class="w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center">
                                        @if($event->poster)
                                            <img src="{{ asset('storage/' . $event->poster) }}" alt="" class="w-12 h-12 rounded-lg object-cover">
                                        @else
                                            <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                            </svg>
                                        @endif
                                    </div>
                                    <div class="ml-4">
                                        <a href="{{ route('organizer.events.show', $event) }}" class="font-medium text-gray-900 hover:text-blue-600">
                                            {{ $event->title }}
                                        </a>
                                        <p class="text-sm text-gray-500">{{ $event->venue_name }}</p>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4 text-sm text-gray-600">
                                {{ $event->start_date->format('d M Y') }}
                            </td>
                            <td class="px-6 py-4">
                                @php
                                    $statusColors = [
                                        'draft' => 'bg-gray-100 text-gray-800',
                                        'published' => 'bg-green-100 text-green-800',
                                        'completed' => 'bg-blue-100 text-blue-800',
                                        'cancelled' => 'bg-red-100 text-red-800',
                                    ];
                                    $statusLabels = [
                                        'draft' => 'Draft',
                                        'published' => 'Published',
                                        'completed' => 'Selesai',
                                        'cancelled' => 'Dibatalkan',
                                    ];
                                @endphp
                                <span class="px-2 py-1 text-xs font-medium rounded-full {{ $statusColors[$event->status] ?? 'bg-gray-100 text-gray-800' }}">
                                    {{ $statusLabels[$event->status] ?? $event->status }}
                                </span>
                            </td>
                            <td class="px-6 py-4 text-sm text-gray-600">
                                {{ $event->orders_count ?? 0 }} pesanan
                            </td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-2">
                                    <a href="{{ route('organizer.events.show', $event) }}"
                                       class="text-blue-600 hover:text-blue-800" title="Lihat">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                    </a>
                                    <a href="{{ route('organizer.events.edit', $event) }}"
                                       class="text-yellow-600 hover:text-yellow-800" title="Edit">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                        </svg>
                                    </a>
                                    <form action="{{ route('organizer.events.duplicate', $event) }}" method="POST" class="inline">
                                        @csrf
                                        <button type="submit" class="text-gray-600 hover:text-gray-800" title="Duplikasi">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                            </svg>
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    @empty
                        <tr>
                            <td colspan="5" class="px-6 py-12 text-center">
                                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                                <h3 class="mt-4 text-lg font-medium text-gray-900">Belum ada event</h3>
                                <p class="mt-2 text-gray-500">Mulai buat event pertama Anda</p>
                                <a href="{{ route('organizer.events.create') }}" class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                    Buat Event
                                </a>
                            </td>
                        </tr>
                    @endforelse
                </tbody>
            </table>
        </div>

        @if($events->hasPages())
            <div class="px-6 py-4 border-t">
                {{ $events->links() }}
            </div>
        @endif
    </div>
</x-organizer-layout>

======================================================================
FILE: resources/views/organizer/events/show.blade.php (198 lines)
======================================================================
<x-organizer-layout>
    <div class="max-w-5xl">
        <nav class="text-sm mb-6">
            <a href="{{ route('organizer.events.index') }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Event Saya</a>
        </nav>

        <!-- Header -->
        <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
            <div class="p-6">
                <div class="flex items-start justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">{{ $event->title }}</h1>
                        <p class="text-gray-600 mt-1">{{ $event->category->name ?? 'Uncategorized' }}</p>
                    </div>
                    <div class="flex items-center gap-2">
                        @if($event->status === 'draft')
                            <form action="{{ route('organizer.events.publish', $event) }}" method="POST">
                                @csrf
                                <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                                    Publish
                                </button>
                            </form>
                        @elseif($event->status === 'published')
                            <form action="{{ route('organizer.events.unpublish', $event) }}" method="POST">
                                @csrf
                                <button type="submit" class="px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition">
                                    Unpublish
                                </button>
                            </form>
                        @endif
                        <a href="{{ route('organizer.events.edit', $event) }}" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">
                            Edit
                        </a>
                    </div>
                </div>

                <div class="mt-4 flex items-center gap-4">
                    @php
                        $statusColors = [
                            'draft' => 'bg-gray-100 text-gray-800',
                            'published' => 'bg-green-100 text-green-800',
                            'completed' => 'bg-blue-100 text-blue-800',
                            'cancelled' => 'bg-red-100 text-red-800',
                        ];
                    @endphp
                    <span class="px-3 py-1 rounded-full text-sm font-medium {{ $statusColors[$event->status] ?? 'bg-gray-100' }}">
                        {{ ucfirst($event->status) }}
                    </span>
                    @if($event->status === 'published')
                        <a href="{{ route('events.show', $event) }}" target="_blank" class="text-blue-600 hover:text-blue-800 text-sm">
                            Lihat Halaman Publik →
                        </a>
                    @endif
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-white rounded-xl shadow-sm p-6">
                <p class="text-sm text-gray-500">Total Pesanan</p>
                <p class="text-2xl font-bold text-gray-900">{{ $stats['total_orders'] }}</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6">
                <p class="text-sm text-gray-500">Pesanan Lunas</p>
                <p class="text-2xl font-bold text-green-600">{{ $stats['paid_orders'] }}</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6">
                <p class="text-sm text-gray-500">Tiket Terjual</p>
                <p class="text-2xl font-bold text-blue-600">{{ $stats['tickets_sold'] ?? 0 }}</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6">
                <p class="text-sm text-gray-500">Pendapatan</p>
                <p class="text-2xl font-bold text-gray-900">Rp {{ number_format($stats['total_revenue'] ?? 0, 0, ',', '.') }}</p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Event Details -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Info -->
                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b">
                        <h2 class="text-lg font-semibold text-gray-900">Detail Event</h2>
                    </div>
                    <div class="p-6 space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500">Tanggal</p>
                                <p class="font-medium">{{ $event->start_date->format('d M Y') }} - {{ $event->end_date->format('d M Y') }}</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Waktu</p>
                                <p class="font-medium">{{ $event->start_time }} - {{ $event->end_time }}</p>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Lokasi</p>
                            <p class="font-medium">{{ $event->venue_name }}</p>
                            <p class="text-gray-600">{{ $event->venue_address }}</p>
                            <p class="text-gray-600">{{ $event->city }}, {{ $event->province }}</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Deskripsi</p>
                            <p class="text-gray-600 whitespace-pre-line">{{ $event->description }}</p>
                        </div>
                    </div>
                </div>

                <!-- Tickets -->
                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b">
                        <h2 class="text-lg font-semibold text-gray-900">Tiket</h2>
                    </div>
                    <div class="divide-y">
                        @foreach($event->tickets as $ticket)
                            @foreach($ticket->variants as $variant)
                                <div class="p-4 flex items-center justify-between">
                                    <div>
                                        <p class="font-medium text-gray-900">{{ $ticket->name }}</p>
                                        <p class="text-sm text-gray-500">{{ $ticket->description }}</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-medium text-gray-900">
                                            @if($variant->price > 0)
                                                Rp {{ number_format($variant->price, 0, ',', '.') }}
                                            @else
                                                GRATIS
                                            @endif
                                        </p>
                                        <p class="text-sm text-gray-500">
                                            {{ $variant->sold_count }}/{{ $variant->stock }} terjual
                                        </p>
                                    </div>
                                </div>
                            @endforeach
                        @endforeach
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="space-y-6">
                <!-- Quick Actions -->
                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b">
                        <h2 class="text-lg font-semibold text-gray-900">Aksi Cepat</h2>
                    </div>
                    <div class="p-4 space-y-2">
                        <a href="{{ route('organizer.attendees.event', $event) }}"
                           class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                            <span class="text-gray-700">Lihat Peserta</span>
                        </a>
                        <a href="{{ route('organizer.orders.index', ['event_id' => $event->id]) }}"
                           class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                            </svg>
                            <span class="text-gray-700">Lihat Pesanan</span>
                        </a>
                        <form action="{{ route('organizer.events.duplicate', $event) }}" method="POST">
                            @csrf
                            <button type="submit" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition text-left">
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <span class="text-gray-700">Duplikasi Event</span>
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Danger Zone -->
                @if($event->orders_count === 0)
                    <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-red-200">
                        <div class="p-6 border-b border-red-200 bg-red-50">
                            <h2 class="text-lg font-semibold text-red-800">Zona Berbahaya</h2>
                        </div>
                        <div class="p-4">
                            <form action="{{ route('organizer.events.destroy', $event) }}" method="POST"
                                  onsubmit="return confirm('Yakin ingin menghapus event ini?')">
                                @csrf
                                @method('DELETE')
                                <button type="submit" class="w-full px-4 py-2 border border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition">
                                    Hapus Event
                                </button>
                            </form>
                        </div>
                    </div>
                @endif
            </div>
        </div>
    </div>
</x-organizer-layout>

======================================================================
FILE: resources/views/pages/checkout/expired.blade.php (39 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                <!-- Expired Icon -->
                <div class="w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-10 h-10 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>

                <h1 class="text-2xl font-bold text-gray-900 mb-2">Waktu Pembayaran Habis</h1>
                <p class="text-gray-600 mb-6">Order kamu telah dibatalkan karena tidak dibayar dalam waktu yang ditentukan.</p>

                <!-- Order Info -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                    <p class="text-sm text-gray-600 mb-2">No. Order</p>
                    <p class="font-semibold text-gray-900 mb-4">{{ $order->order_number }}</p>

                    <p class="text-sm text-gray-600 mb-2">Event</p>
                    <p class="font-semibold text-gray-900">{{ $order->event->title }}</p>
                </div>

                <!-- Actions -->
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="{{ route('checkout.index', $order->event) }}"
                       class="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition text-center">
                        Pesan Ulang
                    </a>
                    <a href="{{ route('events.index') }}"
                       class="flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-50 transition text-center">
                        Cari Event Lain
                    </a>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/checkout/failed.blade.php (45 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                <!-- Failed Icon -->
                <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-10 h-10 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </div>

                <h1 class="text-2xl font-bold text-gray-900 mb-2">Pembayaran Gagal</h1>
                <p class="text-gray-600 mb-6">
                    @if(session('error'))
                        {{ session('error') }}
                    @else
                        Maaf, pembayaran kamu tidak dapat diproses. Silakan coba lagi.
                    @endif
                </p>

                <!-- Order Info -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                    <p class="text-sm text-gray-600 mb-2">No. Order</p>
                    <p class="font-semibold text-gray-900 mb-4">{{ $order->order_number }}</p>

                    <p class="text-sm text-gray-600 mb-2">Event</p>
                    <p class="font-semibold text-gray-900">{{ $order->event->title }}</p>
                </div>

                <!-- Actions -->
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="{{ route('checkout.payment', $order) }}"
                       class="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition text-center">
                        Coba Lagi
                    </a>
                    <a href="{{ route('events.show', $order->event) }}"
                       class="flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-50 transition text-center">
                        Kembali ke Event
                    </a>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/checkout/index.blade.php (256 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8" x-data="checkoutForm()">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Breadcrumb -->
            <nav class="text-sm mb-6">
                <a href="{{ route('events.show', $event) }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Event</a>
            </nav>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left: Ticket Selection -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-sm p-6">
                        <h1 class="text-2xl font-bold text-gray-900 mb-6">Pilih Tiket</h1>

                        <form action="{{ route('checkout.store', $event) }}" method="POST" id="checkout-form">
                            @csrf

                            @if(session('error'))
                                <div class="mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                                    {{ session('error') }}
                                </div>
                            @endif

                            <!-- Tickets -->
                            <div class="space-y-4 mb-8">
                                @foreach($event->tickets as $ticket)
                                    @foreach($ticket->variants as $variant)
                                        @php
                                            $available = $variant->stock - $variant->sold_count - $variant->reserved_count;
                                        @endphp
                                        <div class="border border-gray-200 rounded-lg p-4 @if($available <= 0) opacity-50 @endif">
                                            <div class="flex items-center justify-between">
                                                <div class="flex-1">
                                                    <h3 class="font-semibold text-gray-900">
                                                        {{ $ticket->name }}
                                                        @if($variant->name)
                                                            <span class="text-gray-500">- {{ $variant->name }}</span>
                                                        @endif
                                                    </h3>
                                                    @if($ticket->description)
                                                        <p class="text-sm text-gray-600 mt-1">{{ $ticket->description }}</p>
                                                    @endif
                                                    <p class="text-sm text-gray-500 mt-1">
                                                        Tersedia: {{ $available }} tiket
                                                    </p>
                                                </div>
                                                <div class="text-right ml-4">
                                                    <p class="text-lg font-bold text-blue-600">
                                                        @if($variant->price == 0)
                                                            Gratis
                                                        @else
                                                            Rp {{ number_format($variant->price, 0, ',', '.') }}
                                                        @endif
                                                    </p>

                                                    @if($available > 0)
                                                        <div class="flex items-center justify-end mt-2 space-x-2">
                                                            <button type="button"
                                                                    @click="decreaseQty({{ $variant->id }})"
                                                                    class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100">
                                                                -
                                                            </button>
                                                            <input type="number"
                                                                   name="tickets[{{ $variant->id }}][quantity]"
                                                                   x-model.number="quantities[{{ $variant->id }}]"
                                                                   min="0"
                                                                   max="{{ min($available, 10) }}"
                                                                   class="w-16 text-center border border-gray-300 rounded-lg py-1"
                                                                   readonly>
                                                            <input type="hidden" name="tickets[{{ $variant->id }}][variant_id]" value="{{ $variant->id }}">
                                                            <button type="button"
                                                                    @click="increaseQty({{ $variant->id }}, {{ min($available, 10) }})"
                                                                    class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100">
                                                                +
                                                            </button>
                                                        </div>
                                                    @else
                                                        <span class="text-red-500 text-sm">Habis</span>
                                                    @endif
                                                </div>
                                            </div>
                                        </div>
                                    @endforeach
                                @endforeach
                            </div>

                            <!-- Customer Info -->
                            <div class="border-t pt-6">
                                <h2 class="text-lg font-semibold text-gray-900 mb-4">Data Pemesan</h2>

                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                                        <input type="text" name="customer_name" required
                                               value="{{ old('customer_name', auth()->user()->name) }}"
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        @error('customer_name')
                                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                                        @enderror
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        <input type="email" name="customer_email" required
                                               value="{{ old('customer_email', auth()->user()->email) }}"
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        @error('customer_email')
                                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                                        @enderror
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">No. HP/WhatsApp</label>
                                        <input type="tel" name="customer_phone" required
                                               value="{{ old('customer_phone', auth()->user()->phone) }}"
                                               placeholder="08xxxxxxxxxx"
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        @error('customer_phone')
                                            <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                                        @enderror
                                    </div>
                                </div>
                            </div>

                            <!-- Voucher -->
                            <div class="border-t pt-6 mt-6">
                                <h2 class="text-lg font-semibold text-gray-900 mb-4">Kode Voucher</h2>
                                <div class="flex gap-2">
                                    <input type="text" name="voucher_code"
                                           placeholder="Masukkan kode voucher"
                                           value="{{ old('voucher_code') }}"
                                           class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Voucher akan divalidasi saat checkout</p>
                            </div>

                            <!-- Submit Button (Mobile) -->
                            <div class="mt-8 lg:hidden">
                                <button type="submit"
                                        :disabled="totalQty === 0"
                                        class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed">
                                    Lanjut ke Pembayaran
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Right: Order Summary (TANPA x-data sendiri) -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-xl shadow-sm p-6 sticky top-24">
                        <!-- Event Info -->
                        <div class="flex gap-4 mb-6 pb-6 border-b">
                            <img src="{{ $event->poster_url }}" alt="{{ $event->title }}"
                                 class="w-20 h-28 object-cover rounded-lg"
                                 onerror="this.src='https://placehold.co/80x112?text=No+Image'">
                            <div>
                                <h3 class="font-semibold text-gray-900">{{ $event->title }}</h3>
                                <p class="text-sm text-gray-600 mt-1">{{ $event->formatted_date }}</p>
                                <p class="text-sm text-gray-600">{{ $event->formatted_location }}</p>
                            </div>
                        </div>

                        <!-- Summary -->
                        <h2 class="font-semibold text-gray-900 mb-4">Ringkasan Pesanan</h2>

                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Jumlah Tiket</span>
                                <span class="font-medium" x-text="totalQty + ' tiket'">0 tiket</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Subtotal</span>
                                <span class="font-medium" x-text="formatRupiah(subtotal)">Rp 0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Biaya Layanan (2.5%)</span>
                                <span class="font-medium" x-text="formatRupiah(serviceFee)">Rp 0</span>
                            </div>
                        </div>

                        <div class="border-t mt-4 pt-4">
                            <div class="flex justify-between text-lg font-bold">
                                <span>Total</span>
                                <span class="text-blue-600" x-text="formatRupiah(total)">Rp 0</span>
                            </div>
                        </div>

                        <!-- Submit Button (Desktop) -->
                        <button type="submit"
                                form="checkout-form"
                                :disabled="totalQty === 0"
                                class="hidden lg:block w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed">
                            Lanjut ke Pembayaran
                        </button>

                        <p class="text-xs text-gray-500 mt-4 text-center">
                            Dengan melanjutkan, kamu menyetujui Syarat & Ketentuan kami
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @push('scripts')
    <script>
        function checkoutForm() {
            return {
                quantities: {
                    @foreach($event->tickets as $ticket)
                        @foreach($ticket->variants as $variant)
                            {{ $variant->id }}: 0,
                        @endforeach
                    @endforeach
                },
                prices: {
                    @foreach($event->tickets as $ticket)
                        @foreach($ticket->variants as $variant)
                            {{ $variant->id }}: {{ $variant->price }},
                        @endforeach
                    @endforeach
                },
                get totalQty() {
                    return Object.values(this.quantities).reduce((a, b) => a + b, 0);
                },
                get subtotal() {
                    let total = 0;
                    for (let id in this.quantities) {
                        total += this.quantities[id] * this.prices[id];
                    }
                    return total;
                },
                get serviceFee() {
                    return Math.ceil(this.subtotal * 0.025);
                },
                get total() {
                    return this.subtotal + this.serviceFee;
                },
                increaseQty(id, max) {
                    if (this.quantities[id] < max) {
                        this.quantities[id]++;
                    }
                },
                decreaseQty(id) {
                    if (this.quantities[id] > 0) {
                        this.quantities[id]--;
                    }
                },
                formatRupiah(amount) {
                    return 'Rp ' + amount.toLocaleString('id-ID');
                }
            }
        }
    </script>
    @endpush
</x-app-layout>

======================================================================
FILE: resources/views/pages/checkout/payment.blade.php (122 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-xl shadow-sm p-6">
                <!-- Timer -->
                @if($order->expires_at)
                <div class="text-center mb-8" x-data="countdownTimer()" x-init="init('{{ $order->expires_at->toIso8601String() }}')">
                    <p class="text-gray-600 mb-2">Selesaikan pembayaran dalam</p>
                    <div class="text-3xl font-bold" :class="expired ? 'text-red-600' : 'text-red-600'" x-text="display">--:--</div>
                    <p class="text-sm text-gray-500 mt-2">Order akan otomatis dibatalkan jika tidak dibayar</p>
                </div>
                @endif

                <!-- Order Details -->
                <div class="border-t border-b py-6 mb-6">
                    <h2 class="font-semibold text-gray-900 mb-4">Detail Pesanan</h2>

                    <div class="flex gap-4 mb-4">
                        <img src="{{ $order->event->poster_url }}" alt="{{ $order->event->title }}"
                             class="w-16 h-20 object-cover rounded-lg"
                             onerror="this.src='https://placehold.co/64x80?text=No+Image'">
                        <div>
                            <h3 class="font-semibold text-gray-900">{{ $order->event->title }}</h3>
                            <p class="text-sm text-gray-600">{{ $order->event->formatted_date }}</p>
                            <p class="text-sm text-gray-600">{{ $order->event->formatted_location }}</p>
                        </div>
                    </div>

                    <div class="space-y-2 text-sm">
                        <p class="text-gray-600">No. Order: <span class="font-medium text-gray-900">{{ $order->order_number }}</span></p>
                        @foreach($order->items as $item)
                            <div class="flex justify-between">
                                <span class="text-gray-600">{{ $item->ticket_name }} x{{ $item->quantity }}</span>
                                <span class="font-medium">Rp {{ number_format($item->subtotal, 0, ',', '.') }}</span>
                            </div>
                        @endforeach
                    </div>
                </div>

                <!-- Payment Summary -->
                <div class="space-y-2 text-sm mb-6">
                    <div class="flex justify-between">
                        <span class="text-gray-600">Subtotal</span>
                        <span class="font-medium">Rp {{ number_format($order->subtotal, 0, ',', '.') }}</span>
                    </div>
                    @if($order->discount > 0)
                        <div class="flex justify-between text-green-600">
                            <span>Diskon</span>
                            <span>-Rp {{ number_format($order->discount, 0, ',', '.') }}</span>
                        </div>
                    @endif
                    <div class="flex justify-between">
                        <span class="text-gray-600">Biaya Layanan</span>
                        <span class="font-medium">Rp {{ number_format($order->payment_fee, 0, ',', '.') }}</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold pt-2 border-t">
                        <span>Total Pembayaran</span>
                        <span class="text-blue-600">Rp {{ number_format($order->total, 0, ',', '.') }}</span>
                    </div>
                </div>

                <!-- Payment Button (Demo) -->
                <form action="{{ route('checkout.process', $order) }}" method="POST">
                    @csrf
                    <button type="submit"
                            class="w-full bg-blue-600 text-white py-4 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                        Bayar Sekarang (Demo)
                    </button>
                </form>

                <p class="text-xs text-gray-500 mt-4 text-center">
                    * Ini adalah mode demo. Klik tombol untuk simulasi pembayaran berhasil.
                </p>

                <!-- Cancel -->
                <div class="text-center mt-6">
                    <a href="{{ route('events.show', $order->event) }}" class="text-gray-600 hover:text-gray-800 text-sm">
                        Batalkan & Kembali ke Event
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function countdownTimer() {
            return {
                display: '--:--',
                expired: false,
                interval: null,
                init(expiresAt) {
                    const endTime = new Date(expiresAt).getTime();

                    this.updateDisplay(endTime);

                    this.interval = setInterval(() => {
                        this.updateDisplay(endTime);
                    }, 1000);
                },
                updateDisplay(endTime) {
                    const now = new Date().getTime();
                    const distance = endTime - now;

                    if (distance < 0) {
                        clearInterval(this.interval);
                        this.display = '00:00';
                        this.expired = true;
                        // Redirect ke expired page
                        window.location.href = '{{ route("checkout.expired", $order) }}';
                        return;
                    }

                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    this.display = String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');
                }
            }
        }
    </script>
</x-app-layout>

======================================================================
FILE: resources/views/pages/checkout/success.blade.php (65 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                <!-- Success Icon -->
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>

                <h1 class="text-2xl font-bold text-gray-900 mb-2">Pembayaran Berhasil!</h1>
                <p class="text-gray-600 mb-6">Tiket kamu sudah dikirim ke email {{ $order->customer_email }}</p>

                <!-- Order Info -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                    <p class="text-sm text-gray-600 mb-2">No. Order</p>
                    <p class="font-semibold text-gray-900 mb-4">{{ $order->order_number }}</p>

                    <p class="text-sm text-gray-600 mb-2">Event</p>
                    <p class="font-semibold text-gray-900 mb-4">{{ $order->event->title }}</p>

                    <p class="text-sm text-gray-600 mb-2">Tanggal</p>
                    <p class="font-semibold text-gray-900 mb-4">{{ $order->event->formatted_date }}</p>

                    <p class="text-sm text-gray-600 mb-2">Jumlah Tiket</p>
                    <p class="font-semibold text-gray-900">{{ $order->items->sum('quantity') }} tiket</p>
                </div>

                <!-- E-Tickets -->
                @if($order->issuedTickets->count() > 0)
                    <div class="bg-blue-50 rounded-lg p-4 mb-6 text-left">
                        <h3 class="font-semibold text-blue-900 mb-3">E-Ticket Kamu</h3>
                        <div class="space-y-2">
                            @foreach($order->issuedTickets as $ticket)
                                <div class="flex items-center justify-between bg-white rounded p-3">
                                    <div>
                                        <p class="font-mono text-sm font-semibold">{{ $ticket->code }}</p>
                                        <p class="text-xs text-gray-500">{{ $ticket->orderItem->ticket_name ?? 'Ticket' }}</p>
                                    </div>
                                    <a href="{{ route('tickets.show', $ticket->code) }}" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                        Lihat →
                                    </a>
                                </div>
                            @endforeach
                        </div>
                    </div>
                @endif

                <!-- Actions -->
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="{{ route('tickets.index') }}"
                       class="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition text-center">
                        Lihat Tiket Saya
                    </a>
                    <a href="{{ route('events.index') }}"
                       class="flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-50 transition text-center">
                        Cari Event Lain
                    </a>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/events/category.blade.php (72 lines)
======================================================================
<x-app-layout>
    <div class="bg-white">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="text-sm mb-4">
                    <a href="{{ route('home') }}" class="text-blue-200 hover:text-white">Home</a>
                    <span class="mx-2 text-blue-300">/</span>
                    <a href="{{ route('events.index') }}" class="text-blue-200 hover:text-white">Events</a>
                    <span class="mx-2 text-blue-300">/</span>
                    <span>{{ $category->name }}</span>
                </nav>
                <h1 class="text-3xl md:text-4xl font-bold">{{ $category->name }}</h1>
                @if($category->description)
                    <p class="mt-2 text-blue-100">{{ $category->description }}</p>
                @endif
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Subcategories -->
            @if($category->subcategories->count() > 0)
            <div class="mb-8">
                <div class="flex flex-wrap gap-2">
                    <a href="{{ route('events.category', $category) }}"
                       class="px-4 py-2 rounded-full text-sm font-medium bg-blue-600 text-white">
                        Semua
                    </a>
                    @foreach($category->subcategories as $subcategory)
                        <a href="{{ route('events.category', $category) }}?subcategory={{ $subcategory->id }}"
                           class="px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition">
                            {{ $subcategory->name }}
                        </a>
                    @endforeach
                </div>
            </div>
            @endif

            <!-- Results Info -->
            <div class="flex items-center justify-between mb-6">
                <p class="text-gray-600">
                    Menampilkan <span class="font-semibold">{{ $events->total() }}</span> event
                </p>
            </div>

            @if($events->count() > 0)
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    @foreach($events as $event)
                        <x-event-card :event="$event" />
                    @endforeach
                </div>

                <!-- Pagination -->
                <div class="mt-8">
                    {{ $events->links() }}
                </div>
            @else
                <div class="text-center py-16">
                    <svg class="mx-auto h-16 w-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    <h3 class="mt-4 text-lg font-medium text-gray-900">Belum ada event di kategori ini</h3>
                    <p class="mt-2 text-gray-500">Cek kembali nanti atau lihat event di kategori lain</p>
                    <a href="{{ route('events.index') }}" class="mt-4 inline-block text-blue-600 hover:text-blue-800 font-medium">
                        Lihat Semua Event →
                    </a>
                </div>
            @endif
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/events/index.blade.php (98 lines)
======================================================================
<x-app-layout>
    <div class="bg-black min-h-screen">
        <!-- Header -->
        <div class="bg-gradient-to-r from-[#FF8FC7] to-pink-400 text-black py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-3xl md:text-4xl font-bold">Semua Event</h1>
                <p class="mt-2 text-black/80">Temukan event seru yang sesuai dengan minatmu</p>
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Sidebar Filters -->
                <aside class="w-full lg:w-64 flex-shrink-0">
                    <form action="{{ route('events.index') }}" method="GET" class="bg-gray-950 border border-gray-900 rounded-xl p-6 sticky top-24">
                        <h3 class="font-semibold text-[#FF8FC7] mb-4">Filter Event</h3>

                        <!-- Search -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-400 mb-1">Cari</label>
                            <input type="text" name="search" value="{{ request('search') }}"
                                   placeholder="Nama event..."
                                   class="w-full px-3 py-2 bg-black text-[#FF8FC7] border border-gray-800 rounded-lg 
                                          placeholder-gray-500 focus:ring-2 focus:ring-[#FF8FC7] focus:border-[#FF8FC7] transition">
                        </div>

                        <!-- Category -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-400 mb-1">Kategori</label>
                            <select name="category" class="w-full px-3 py-2 bg-black text-[#FF8FC7] border border-gray-800 rounded-lg 
                                                           focus:ring-2 focus:ring-[#FF8FC7] focus:border-[#FF8FC7] transition">
                                <option value="">Semua Kategori</option>
                                @foreach($categories as $category)
                                    <option value="{{ $category->id }}" {{ request('category') == $category->id ? 'selected' : '' }}>
                                        {{ $category->name }}
                                    </option>
                                @endforeach
                            </select>
                        </div>

                        <!-- City -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-400 mb-1">Kota</label>
                            <input type="text" name="city" value="{{ request('city') }}"
                                   placeholder="Nama kota..."
                                   class="w-full px-3 py-2 bg-black text-[#FF8FC7] border border-gray-800 rounded-lg 
                                          placeholder-gray-500 focus:ring-2 focus:ring-[#FF8FC7] focus:border-[#FF8FC7] transition">
                        </div>

                        <!-- Buttons -->
                        <div class="flex gap-2">
                            <button type="submit" class="flex-1 bg-[#FF8FC7] text-black py-2 px-4 rounded-lg font-medium hover:bg-pink-400 transition">
                                Filter
                            </button>
                            <a href="{{ route('events.index') }}" class="px-4 py-2 border border-gray-800 text-gray-400 rounded-lg hover:bg-gray-900 hover:text-[#FF8FC7] transition">
                                Reset
                            </a>
                        </div>
                    </form>
                </aside>

                <!-- Events Grid -->
                <div class="flex-1">
                    <!-- Results Info -->
                    <div class="flex items-center justify-between mb-6">
                        <p class="text-gray-400">
                            Menampilkan <span class="font-semibold text-[#FF8FC7]">{{ $events->total() }}</span> event
                        </p>
                    </div>

                    @if($events->count() > 0)
                        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                            @foreach($events as $event)
                                <x-event-card :event="$event" />
                            @endforeach
                        </div>

                        <!-- Pagination -->
                        <div class="mt-8">
                            {{ $events->withQueryString()->links() }}
                        </div>
                    @else
                        <div class="text-center py-16 bg-gray-950 border border-gray-900 rounded-xl">
                            <svg class="mx-auto h-16 w-16 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            <h3 class="mt-4 text-lg font-medium text-[#FF8FC7]">Tidak ada event ditemukan</h3>
                            <p class="mt-2 text-gray-500">Coba ubah filter pencarian atau lihat semua event</p>
                            <a href="{{ route('events.index') }}" class="mt-4 inline-block text-[#FF8FC7] hover:text-pink-400 font-medium transition">
                                Lihat Semua Event →
                            </a>
                        </div>
                    @endif
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/events/settings/index.blade.php (1 lines)
======================================================================


======================================================================
FILE: resources/views/pages/events/show.blade.php (195 lines)
======================================================================
<x-app-layout>
    <div class="bg-white">
        <!-- Hero Banner -->
        <div class="relative h-64 md:h-96 bg-gray-900">
            @if($event->banner_url)
                <img src="{{ $event->banner_url }}" alt="{{ $event->title }}" class="w-full h-full object-cover opacity-50">
            @else
                <div class="w-full h-full bg-gradient-to-r from-blue-600 to-blue-800"></div>
            @endif
            <div class="absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8 -mt-32 relative z-10 pb-16">
                <!-- Left Column -->
                <div class="flex-1">
                    <!-- Event Poster & Title Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div class="md:flex">
                            <!-- Poster -->
                            <div class="md:w-1/3">
                                <img src="{{ $event->poster_url }}" alt="{{ $event->title }}"
                                     class="w-full h-64 md:h-full object-cover"
                                     onerror="this.src='https://placehold.co/400x600?text=No+Image'">
                            </div>
                            <!-- Info -->
                            <div class="md:w-2/3 p-6">
                                <!-- Category Badge -->
                                <span class="inline-block px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800 mb-3">
                                    {{ $event->category->name }}
                                </span>

                                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">{{ $event->title }}</h1>

                                <!-- Date & Time -->
                                <div class="flex items-center text-gray-600 mb-3">
                                    <svg class="w-5 h-5 mr-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <div>
                                        <p class="font-medium">{{ $event->formatted_date }}</p>
                                        @if($event->formatted_time)
                                            <p class="text-sm">{{ $event->formatted_time }}</p>
                                        @endif
                                    </div>
                                </div>

                                <!-- Location -->
                                <div class="flex items-start text-gray-600 mb-3">
                                    <svg class="w-5 h-5 mr-3 mt-0.5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    <div>
                                        @if($event->is_online)
                                            <p class="font-medium">Online Event</p>
                                        @else
                                            <p class="font-medium">{{ $event->venue_name }}</p>
                                            <p class="text-sm">{{ $event->venue_address }}</p>
                                            <p class="text-sm">{{ $event->city }}, {{ $event->province }}</p>
                                        @endif
                                    </div>
                                </div>

                                <!-- Organizer -->
                                <div class="flex items-center text-gray-600 pt-4 border-t">
                                    <img src="{{ $event->organizer->logo_url }}" alt="{{ $event->organizer->name }}"
                                         class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="text-sm text-gray-500">Diselenggarakan oleh</p>
                                        <a href="{{ route('organizer.show', $event->organizer) }}" class="font-medium text-blue-600 hover:text-blue-800">
                                            {{ $event->organizer->name }}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Description -->
                    <div class="bg-white rounded-xl shadow-lg p-6 mt-6">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Tentang Event</h2>
                        <div class="prose max-w-none text-gray-600">
                            {!! nl2br(e($event->description)) !!}
                        </div>
                    </div>

                    <!-- Event Days (if multi-day) -->
                    @if($event->days->count() > 1)
                    <div class="bg-white rounded-xl shadow-lg p-6 mt-6">
                        <h2 class="text-xl font-bold text-gray-900 mb-4">Jadwal Event</h2>
                        <div class="space-y-3">
                            @foreach($event->days as $day)
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <div class="w-16 h-16 bg-blue-600 text-white rounded-lg flex flex-col items-center justify-center mr-4">
                                        <span class="text-2xl font-bold">{{ $day->date->format('d') }}</span>
                                        <span class="text-xs">{{ $day->date->format('M') }}</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-gray-900">{{ $day->name ?? 'Day ' . $loop->iteration }}</p>
                                        <p class="text-sm text-gray-600">{{ $day->date->format('l, d F Y') }}</p>
                                    </div>
                                </div>
                            @endforeach
                        </div>
                    </div>
                    @endif
                </div>

                <!-- Right Column - Ticket Card -->
                <div class="lg:w-96">
                    <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                        <h2 class="text-xl font-bold text-gray-900 mb-2">Tiket</h2>
                        <p class="text-3xl font-bold text-blue-600 mb-6">{{ $event->formatted_price }}</p>

                        @if($event->tickets->count() > 0)
                            <div class="space-y-4 mb-6">
                                @foreach($event->tickets as $ticket)
                                    <div class="border border-gray-200 rounded-lg p-4">
                                        <div class="flex justify-between items-start mb-2">
                                            <h3 class="font-semibold text-gray-900">{{ $ticket->name }}</h3>
                                            <span class="text-blue-600 font-bold">
                                                @if($ticket->variants->min('price') == 0)
                                                    Gratis
                                                @else
                                                    Rp {{ number_format($ticket->variants->min('price'), 0, ',', '.') }}
                                                @endif
                                            </span>
                                        </div>
                                        @if($ticket->description)
                                            <p class="text-sm text-gray-600 mb-2">{{ $ticket->description }}</p>
                                        @endif
                                        <p class="text-xs text-gray-500">
                                            Tersedia: {{ $ticket->variants->sum(fn($v) => $v->stock - $v->sold_count - $v->reserved_count) }} tiket
                                        </p>
                                    </div>
                                @endforeach
                            </div>

                            @auth
                                <a href="{{ route('checkout.index', $event) }}"
                                   class="block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                                    Beli Tiket
                                </a>
                            @else
                                <a href="{{ route('login') }}?redirect={{ urlencode(route('checkout.index', $event)) }}"
                                   class="block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                                    Login untuk Beli Tiket
                                </a>
                            @endauth
                        @else
                            <div class="text-center py-8 text-gray-500">
                                <p>Tiket belum tersedia</p>
                            </div>
                        @endif

                        <!-- Share -->
                        <div class="mt-6 pt-6 border-t">
                            <p class="text-sm text-gray-600 mb-3">Bagikan event ini:</p>
                            <div class="flex gap-2">
                                <a href="https://wa.me/?text={{ urlencode($event->title . ' - ' . url()->current()) }}"
                                   target="_blank"
                                   class="flex-1 py-2 px-3 border border-gray-300 rounded-lg text-center text-sm hover:bg-gray-50 transition">
                                    WhatsApp
                                </a>
                                <a href="https://twitter.com/intent/tweet?text={{ urlencode($event->title) }}&url={{ urlencode(url()->current()) }}"
                                   target="_blank"
                                   class="flex-1 py-2 px-3 border border-gray-300 rounded-lg text-center text-sm hover:bg-gray-50 transition">
                                    Twitter
                                </a>
                                <button onclick="navigator.clipboard.writeText('{{ url()->current() }}'); alert('Link copied!')"
                                        class="flex-1 py-2 px-3 border border-gray-300 rounded-lg text-center text-sm hover:bg-gray-50 transition">
                                    Copy Link
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Related Events -->
            @if($relatedEvents->count() > 0)
            <div class="py-16 border-t">
                <h2 class="text-2xl font-bold text-gray-900 mb-8">Event Serupa</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    @foreach($relatedEvents as $relatedEvent)
                        <x-event-card :event="$relatedEvent" />
                    @endforeach
                </div>
            </div>
            @endif
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/home/index.blade.php (117 lines)
======================================================================
<x-app-layout>
    <!-- Hero Section -->
<section class="bg-gradient-to-b from-gray-950 via-black to-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-[#FF8FC7]">
                Temukan Event Seru di Indonesia
            </h1>

            <p class="text-xl md:text-2xl text-[#FF8FC7] mb-8 max-w-3xl mx-auto">
                Cosplay, Music, Sports – Semua event favoritmu ada di sini
            </p>

            <!-- Search Bar -->
            <div class="max-w-2xl mx-auto">
                <form action="{{ route('events.index') }}" method="GET"
                      class="flex flex-col sm:flex-row gap-3">

                    <input type="text" name="search" placeholder="Cari event..."
                           class="flex-1 px-6 py-4 rounded-lg bg-black text-[#FF8FC7] border border-gray-800
                                  placeholder-gray-500 focus:ring-2 focus:ring-[#FF8FC7] focus:border-[#FF8FC7] focus:outline-none transition">

                    <button type="submit"
                            class="bg-[#FF8FC7] text-black font-semibold px-8 py-4 rounded-lg
                                   hover:bg-pink-400 transition">
                        Cari Event
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>


    <!-- Categories Section -->
    <section class="py-12 bg-gradient-to-b from-black via-[#FF8FC7] to-[#FF8FC7]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-2xl font-bold text-black mb-8 text-center">Kategori Event</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                @foreach($categories as $category)
                    <a href="{{ route('events.category', $category) }}"
                       class="group p-6 bg-black/80 backdrop-blur-sm border border-black/50 rounded-xl hover:bg-black hover:border-pink-300 hover:shadow-xl transition-all duration-300">
                        <h3 class="text-xl font-bold text-[#FF8FC7] mb-2 group-hover:text-pink-300 transition">{{ $category->name }}</h3>
                        <p class="text-pink-200">{{ $category->events_count }} events</p>
                    </a>
                @endforeach
            </div>
        </div>
    </section>

    <!-- Featured Events Section -->
    @if($featuredEvents->count() > 0)
    <section class="py-16 bg-gradient-to-b from-[#FF8FC7] to-black">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-black">Event Unggulan</h2>
                <a href="{{ route('events.index') }}" class="text-black hover:text-gray-800 font-medium transition">
                    Lihat Semua →
                </a>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @foreach($featuredEvents as $event)
                    <x-event-card :event="$event" />
                @endforeach
            </div>
        </div>
    </section>
    @endif

    <!-- Upcoming Events Section -->
    <section class="py-16 bg-gradient-to-b from-black to-gray-950">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-[#FF8FC7]">Event Mendatang</h2>
                <a href="{{ route('events.index') }}" class="text-[#FF8FC7] hover:text-pink-400 font-medium transition">
                    Lihat Semua →
                </a>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                @foreach($upcomingEvents as $event)
                    <x-event-card :event="$event" />
                @endforeach
            </div>

            @if($upcomingEvents->count() === 0)
                <div class="text-center py-12">
                    <p class="text-gray-500 text-lg">Belum ada event mendatang</p>
                </div>
            @endif
        </div>
    </section>


<!-- CTA Section -->
<section class="py-16 bg-gradient-to-b from-gray-950 via-[#FF8FC7] to-[#FF8FC7]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">

        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-black">
            Punya Event?
        </h2>

        <p class="text-xl mb-8 max-w-2xl mx-auto text-black">
            Daftarkan event kamu di ngevent.id dan jangkau ribuan penggemar di seluruh Indonesia
        </p>

        <a href="{{ route('register.organizer') }}"
           class="inline-block bg-black text-[#FF8FC7] font-semibold px-8 py-4 rounded-lg
                  hover:bg-gray-900 transition shadow-lg">
            Daftar Sebagai Organizer
        </a>

    </div>
</section>



</x-app-layout>

======================================================================
FILE: resources/views/pages/orders/index.blade.php (79 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-2xl font-bold text-gray-900 mb-6">Pesanan Saya</h1>

            @if($orders->count() > 0)
                <div class="space-y-4">
                    @foreach($orders as $order)
                        @php
                            $status = $order->status->value ?? $order->status;
                            $statusColors = [
                                'pending' => 'bg-yellow-100 text-yellow-800',
                                'awaiting_payment' => 'bg-yellow-100 text-yellow-800',
                                'paid' => 'bg-green-100 text-green-800',
                                'completed' => 'bg-blue-100 text-blue-800',
                                'expired' => 'bg-gray-100 text-gray-800',
                                'cancelled' => 'bg-red-100 text-red-800',
                                'refunded' => 'bg-purple-100 text-purple-800',
                            ];
                            $statusLabels = [
                                'pending' => 'Menunggu Pembayaran',
                                'awaiting_payment' => 'Menunggu Pembayaran',
                                'paid' => 'Lunas',
                                'completed' => 'Selesai',
                                'expired' => 'Kadaluarsa',
                                'cancelled' => 'Dibatalkan',
                                'refunded' => 'Refund',
                            ];
                        @endphp
                        <div class="bg-white rounded-xl shadow-sm p-6">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                                <div class="flex gap-4">
                                    <img src="{{ $order->event->poster_url }}" alt="{{ $order->event->title }}"
                                         class="w-16 h-20 object-cover rounded-lg"
                                         onerror="this.src='https://placehold.co/64x80?text=No+Image'">
                                    <div>
                                        <p class="text-sm text-gray-500">{{ $order->order_number }}</p>
                                        <h3 class="font-semibold text-gray-900">{{ $order->event->title }}</h3>
                                        <p class="text-sm text-gray-600">{{ $order->event->formatted_date }}</p>
                                        <p class="text-sm text-gray-600">{{ $order->items->sum('quantity') }} tiket</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-lg font-bold text-gray-900">Rp {{ number_format($order->total, 0, ',', '.') }}</p>

                                    <span class="inline-block mt-2 px-3 py-1 text-xs font-medium rounded-full {{ $statusColors[$status] ?? 'bg-gray-100 text-gray-800' }}">
                                        {{ $statusLabels[$status] ?? ucfirst($status) }}
                                    </span>

                                    <div class="mt-3">
                                        <a href="{{ route('orders.show', $order) }}" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                            Lihat Detail →
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    @endforeach
                </div>

                <div class="mt-6">
                    {{ $orders->links() }}
                </div>
            @else
                <div class="bg-white rounded-xl shadow-sm p-12 text-center">
                    <svg class="mx-auto h-16 w-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                    <h3 class="mt-4 text-lg font-medium text-gray-900">Belum ada pesanan</h3>
                    <p class="mt-2 text-gray-500">Mulai cari event seru dan pesan tiketnya!</p>
                    <a href="{{ route('events.index') }}" class="mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition">
                        Cari Event
                    </a>
                </div>
            @endif
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/orders/show.blade.php (186 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Back -->
            <nav class="text-sm mb-6">
                <a href="{{ route('orders.index') }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Pesanan</a>
            </nav>

            @php
                $status = $order->status->value ?? $order->status;
                $statusColors = [
                    'pending' => 'bg-yellow-100 text-yellow-800',
                    'awaiting_payment' => 'bg-yellow-100 text-yellow-800',
                    'paid' => 'bg-green-100 text-green-800',
                    'completed' => 'bg-blue-100 text-blue-800',
                    'expired' => 'bg-gray-100 text-gray-800',
                    'cancelled' => 'bg-red-100 text-red-800',
                    'refunded' => 'bg-purple-100 text-purple-800',
                ];
                $statusLabels = [
                    'pending' => 'Menunggu Pembayaran',
                    'awaiting_payment' => 'Menunggu Pembayaran',
                    'paid' => 'Lunas',
                    'completed' => 'Selesai',
                    'expired' => 'Kadaluarsa',
                    'cancelled' => 'Dibatalkan',
                    'refunded' => 'Refund',
                ];
            @endphp

            <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                <!-- Header -->
                <div class="p-6 border-b">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-500">No. Order</p>
                            <p class="text-xl font-bold text-gray-900">{{ $order->order_number }}</p>
                        </div>
                        <span class="px-4 py-2 text-sm font-medium rounded-full {{ $statusColors[$status] ?? 'bg-gray-100 text-gray-800' }}">
                            {{ $statusLabels[$status] ?? ucfirst($status) }}
                        </span>
                    </div>
                </div>

                <!-- Event Info -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-3">Detail Event</h3>
                    <div class="flex gap-4">
                        <img src="{{ $order->event->poster_url }}" alt="{{ $order->event->title }}"
                             class="w-20 h-28 object-cover rounded-lg"
                             onerror="this.src='https://placehold.co/80x112?text=No+Image'">
                        <div>
                            <h4 class="font-semibold text-gray-900">{{ $order->event->title }}</h4>
                            <p class="text-sm text-gray-600 mt-1">{{ $order->event->formatted_date }}</p>
                            <p class="text-sm text-gray-600">{{ $order->event->formatted_location }}</p>
                            <a href="{{ route('events.show', $order->event) }}" class="text-sm text-blue-600 hover:text-blue-800 mt-2 inline-block">
                                Lihat Event →
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Customer Info -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-3">Data Pemesan</h3>
                    <div class="space-y-1 text-sm">
                        <p><span class="text-gray-500">Nama:</span> {{ $order->customer_name }}</p>
                        <p><span class="text-gray-500">Email:</span> {{ $order->customer_email }}</p>
                        <p><span class="text-gray-500">No. HP:</span> {{ $order->customer_phone }}</p>
                    </div>
                </div>

                <!-- Order Items -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-3">Detail Tiket</h3>
                    <div class="space-y-3">
                        @foreach($order->items as $item)
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="font-medium text-gray-900">{{ $item->ticket_name }}</p>
                                    @if($item->variant_name)
                                        <p class="text-sm text-gray-500">{{ $item->variant_name }}</p>
                                    @endif
                                    <p class="text-sm text-gray-500">{{ $item->quantity }} x Rp {{ number_format($item->unit_price, 0, ',', '.') }}</p>
                                </div>
                                <p class="font-medium text-gray-900">Rp {{ number_format($item->subtotal, 0, ',', '.') }}</p>
                            </div>
                        @endforeach
                    </div>
                </div>

                <!-- Payment Summary -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-3">Ringkasan Pembayaran</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Subtotal</span>
                            <span>Rp {{ number_format($order->subtotal, 0, ',', '.') }}</span>
                        </div>
                        @if($order->discount > 0)
                            <div class="flex justify-between text-green-600">
                                <span>Diskon</span>
                                <span>-Rp {{ number_format($order->discount, 0, ',', '.') }}</span>
                            </div>
                        @endif
                        <div class="flex justify-between">
                            <span class="text-gray-600">Biaya Layanan</span>
                            <span>Rp {{ number_format($order->payment_fee, 0, ',', '.') }}</span>
                        </div>
                        <div class="flex justify-between text-lg font-bold pt-2 border-t">
                            <span>Total</span>
                            <span>Rp {{ number_format($order->total, 0, ',', '.') }}</span>
                        </div>
                    </div>
                </div>

                <!-- E-Tickets (if paid) -->
                @if($status === 'paid' && $order->issuedTickets->count() > 0)
                    <div class="p-6 border-b bg-blue-50">
                        <h3 class="text-sm font-medium text-blue-800 mb-3">E-Ticket</h3>
                        <div class="space-y-2">
                            @foreach($order->issuedTickets as $ticket)
                                <div class="flex items-center justify-between bg-white rounded-lg p-3">
                                    <div>
                                        <p class="font-mono text-sm font-semibold">{{ $ticket->code }}</p>
                                        <p class="text-xs text-gray-500">{{ $ticket->orderItem->ticket_name ?? 'Ticket' }}</p>
                                    </div>
                                    <a href="{{ route('tickets.show', $ticket->code) }}" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                        Lihat Tiket →
                                    </a>
                                </div>
                            @endforeach
                        </div>
                    </div>
                @endif

                <!-- Actions -->
                <div class="p-6">
                    @if($status === 'pending')
                        @php
                            $isExpired = $order->expires_at && $order->expires_at->isPast();
                        @endphp

                        @if(!$isExpired)
                            <div class="flex flex-col sm:flex-row gap-3">
                                <a href="{{ route('checkout.payment', $order) }}"
                                class="flex-1 bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                                    Bayar Sekarang
                                </a>
                                <form action="{{ route('orders.cancel', $order) }}" method="POST" class="flex-1">
                                    @csrf
                                    <button type="submit"
                                            onclick="return confirm('Yakin ingin membatalkan pesanan ini?')"
                                            class="w-full border border-red-500 text-red-500 py-3 px-4 rounded-lg font-semibold hover:bg-red-50 transition">
                                        Batalkan Pesanan
                                    </button>
                                </form>
                            </div>
                        @else
                            <div class="text-center py-4">
                                <p class="text-red-600 font-medium mb-4">Waktu pembayaran telah habis</p>
                                <a href="{{ route('checkout.index', $order->event) }}"
                                class="inline-block bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition">
                                    Pesan Ulang
                                </a>
                            </div>
                        @endif
                    @elseif($status === 'paid')
                        <a href="{{ route('tickets.index') }}"
                        class="block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                            Lihat Semua Tiket Saya
                        </a>
                    @endif

                    <p class="text-xs text-gray-500 mt-4 text-center">
                        Tanggal Order: {{ $order->created_at->format('d M Y H:i') }}
                        @if($order->paid_at)
                            <br>Tanggal Bayar: {{ $order->paid_at->format('d M Y H:i') }}
                        @endif
                    </p>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/organizers/show.blade.php (82 lines)
======================================================================
<x-app-layout>
    <div class="bg-white">
        <!-- Header Banner -->
        <div class="relative h-48 md:h-64 bg-gray-900">
            @if($organizer->banner_url)
                <img src="{{ $organizer->banner_url }}" alt="{{ $organizer->name }}" class="w-full h-full object-cover opacity-70">
            @else
                <div class="w-full h-full bg-gradient-to-r from-blue-600 to-blue-800"></div>
            @endif
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Profile Card -->
            <div class="relative -mt-16 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6 md:flex md:items-center md:gap-6">
                    <img src="{{ $organizer->logo_url }}" alt="{{ $organizer->name }}"
                         class="w-24 h-24 md:w-32 md:h-32 rounded-xl object-cover border-4 border-white shadow-lg mx-auto md:mx-0">
                    <div class="text-center md:text-left mt-4 md:mt-0 flex-1">
                        <div class="flex items-center justify-center md:justify-start gap-2">
                            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">{{ $organizer->name }}</h1>
                            @if($organizer->is_verified)
                                <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            @endif
                        </div>
                        @if($organizer->city)
                            <p class="text-gray-600 mt-1">{{ $organizer->city }}, {{ $organizer->province }}</p>
                        @endif
                        @if($organizer->bio)
                            <p class="text-gray-600 mt-2">{{ $organizer->bio }}</p>
                        @endif
                    </div>
                    <div class="mt-4 md:mt-0 flex gap-4 justify-center md:justify-end">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-gray-900">{{ $organizer->published_events_count }}</p>
                            <p class="text-sm text-gray-500">Events</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-gray-900">{{ number_format($organizer->total_tickets_sold) }}</p>
                            <p class="text-sm text-gray-500">Tiket Terjual</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Social Links -->
            @if($organizer->socialLinks->count() > 0)
            <div class="mb-8 flex flex-wrap gap-3 justify-center md:justify-start">
                @foreach($organizer->socialLinks as $link)
                    <a href="{{ $link->url }}" target="_blank"
                       class="inline-flex items-center px-4 py-2 bg-gray-100 rounded-lg text-gray-700 hover:bg-gray-200 transition">
                        {{ ucfirst($link->platform) }}
                    </a>
                @endforeach
            </div>
            @endif

            <!-- Events -->
            <div class="py-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Events by {{ $organizer->name }}</h2>

                @if($events->count() > 0)
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        @foreach($events as $event)
                            <x-event-card :event="$event" />
                        @endforeach
                    </div>

                    <div class="mt-8">
                        {{ $events->links() }}
                    </div>
                @else
                    <div class="text-center py-16">
                        <p class="text-gray-500">Belum ada event dari organizer ini</p>
                    </div>
                @endif
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/profile/edit.blade.php (137 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Back -->
            <nav class="text-sm mb-6">
                <a href="{{ route('profile.index') }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Profil</a>
            </nav>

            <h1 class="text-2xl font-bold text-gray-900 mb-6">Edit Profil</h1>

            @if(session('success'))
                <div class="mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg">
                    {{ session('success') }}
                </div>
            @endif

            @if(session('error'))
                <div class="mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                    {{ session('error') }}
                </div>
            @endif

            <!-- Profile Form -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Informasi Profil</h2>
                    <p class="text-sm text-gray-500 mt-1">Update informasi profil dan alamat email</p>
                </div>
                <form action="{{ route('profile.update') }}" method="POST" class="p-6">
                    @csrf
                    @method('PUT')

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                            <input type="text" name="name" required
                                   value="{{ old('name', auth()->user()->name) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('name') border-red-500 @enderror">
                            @error('name')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" name="email" required
                                   value="{{ old('email', auth()->user()->email) }}"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('email') border-red-500 @enderror">
                            @error('email')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">No. Telepon</label>
                            <input type="tel" name="phone"
                                   value="{{ old('phone', auth()->user()->phone) }}"
                                   placeholder="08xxxxxxxxxx"
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('phone') border-red-500 @enderror">
                            @error('phone')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>
                    </div>

                    <div class="mt-6">
                        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition">
                            Simpan Perubahan
                        </button>
                    </div>
                </form>
            </div>

            <!-- Password Form -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Ubah Password</h2>
                    <p class="text-sm text-gray-500 mt-1">Pastikan menggunakan password yang kuat</p>
                </div>
                <form action="{{ route('profile.password') }}" method="POST" class="p-6">
                    @csrf
                    @method('PUT')

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password Saat Ini</label>
                            <input type="password" name="current_password" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('current_password') border-red-500 @enderror">
                            @error('current_password')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password Baru</label>
                            <input type="password" name="password" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 @error('password') border-red-500 @enderror">
                            @error('password')
                                <p class="mt-1 text-sm text-red-600">{{ $message }}</p>
                            @enderror
                            <p class="mt-1 text-xs text-gray-500">Minimal 8 karakter</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Konfirmasi Password Baru</label>
                            <input type="password" name="password_confirmation" required
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                    </div>

                    <div class="mt-6">
                        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition">
                            Ubah Password
                        </button>
                    </div>
                </form>
            </div>

            <!-- Danger Zone -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mt-6 border border-red-200">
                <div class="p-6 border-b border-red-200 bg-red-50">
                    <h2 class="text-lg font-semibold text-red-800">Zona Berbahaya</h2>
                    <p class="text-sm text-red-600 mt-1">Tindakan ini tidak dapat dibatalkan</p>
                </div>
                <div class="p-6">
                    <p class="text-gray-600 mb-4">Setelah akun dihapus, semua data akan hilang secara permanen.</p>
                    <button type="button"
                            onclick="alert('Fitur ini akan segera tersedia')"
                            class="border border-red-500 text-red-500 px-4 py-2 rounded-lg font-medium hover:bg-red-50 transition">
                        Hapus Akun
                    </button>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/profile/index.blade.php (144 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-2xl font-bold text-gray-900 mb-6">Profil Saya</h1>

            @if(session('success'))
                <div class="mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg">
                    {{ session('success') }}
                </div>
            @endif

            @if(session('error'))
                <div class="mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                    {{ session('error') }}
                </div>
            @endif

            <!-- Profile Info Card -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b">
                    <div class="flex items-center justify-between">
                        <h2 class="text-lg font-semibold text-gray-900">Informasi Akun</h2>
                        <a href="{{ route('profile.edit') }}" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                            Edit Profil →
                        </a>
                    </div>
                </div>
                <div class="p-6">
                    <div class="flex items-center gap-6 mb-6">
                        <!-- Avatar -->
                        <div class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold">
                            {{ strtoupper(substr(auth()->user()->name, 0, 2)) }}
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900">{{ auth()->user()->name }}</h3>
                            <p class="text-gray-600">{{ auth()->user()->email }}</p>
                            @php
                                $role = auth()->user()->role;
                                $roleValue = is_object($role) ? $role->value : $role;
                            @endphp
                            <span class="inline-block mt-2 px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">
                                {{ ucfirst($roleValue) }}
                            </span>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="text-sm text-gray-500">Nama Lengkap</p>
                            <p class="font-medium text-gray-900">{{ auth()->user()->name }}</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Email</p>
                            <p class="font-medium text-gray-900">{{ auth()->user()->email }}</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">No. Telepon</p>
                            <p class="font-medium text-gray-900">{{ auth()->user()->phone ?? '-' }}</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Bergabung Sejak</p>
                            <p class="font-medium text-gray-900">{{ auth()->user()->created_at->format('d M Y') }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <p class="text-sm text-gray-500">Total Pesanan</p>
                    <p class="text-2xl font-bold text-gray-900">{{ auth()->user()->orders()->count() }}</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <p class="text-sm text-gray-500">Tiket Aktif</p>
                    <p class="text-2xl font-bold text-green-600">{{ auth()->user()->issuedTickets()->where('is_used', false)->count() }}</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <p class="text-sm text-gray-500">Event Dihadiri</p>
                    <p class="text-2xl font-bold text-blue-600">{{ auth()->user()->issuedTickets()->where('is_used', true)->count() }}</p>
                </div>
            </div>

            <!-- Quick Links -->
            <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                <div class="p-6 border-b">
                    <h2 class="text-lg font-semibold text-gray-900">Menu Cepat</h2>
                </div>
                <div class="divide-y">
                    <a href="{{ route('orders.index') }}" class="flex items-center justify-between p-4 hover:bg-gray-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Pesanan Saya</p>
                                <p class="text-sm text-gray-500">Lihat riwayat pesanan</p>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                    <a href="{{ route('tickets.index') }}" class="flex items-center justify-between p-4 hover:bg-gray-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Tiket Saya</p>
                                <p class="text-sm text-gray-500">Lihat e-ticket yang dimiliki</p>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                    <a href="{{ route('profile.edit') }}" class="flex items-center justify-between p-4 hover:bg-gray-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">Edit Profil</p>
                                <p class="text-sm text-gray-500">Ubah data profil & password</p>
                            </div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/tickets/index.blade.php (56 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-2xl font-bold text-gray-900 mb-6">Tiket Saya</h1>

            @if($tickets->count() > 0)
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    @foreach($tickets as $ticket)
                        <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                            <div class="p-4 border-b bg-gradient-to-r from-blue-600 to-blue-700">
                                <p class="text-white text-sm opacity-80">E-Ticket</p>
                                <p class="text-white font-mono text-lg font-bold">{{ $ticket->code }}</p>
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-gray-900">{{ $ticket->orderItem->order->event->title ?? 'Event' }}</h3>
                                <p class="text-sm text-gray-600 mt-1">{{ $ticket->orderItem->order->event->formatted_date ?? '' }}</p>
                                <p class="text-sm text-gray-600">{{ $ticket->orderItem->ticket_name ?? 'Ticket' }}</p>

                                <div class="mt-4 flex items-center justify-between">
                                    @if($ticket->is_used)
                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800">
                                            Sudah Digunakan
                                        </span>
                                    @else
                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">
                                            Aktif
                                        </span>
                                    @endif
                                    <a href="{{ route('tickets.show', $ticket->code) }}" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                        Lihat Detail →
                                    </a>
                                </div>
                            </div>
                        </div>
                    @endforeach
                </div>

                <div class="mt-6">
                    {{ $tickets->links() }}
                </div>
            @else
                <div class="bg-white rounded-xl shadow-sm p-12 text-center">
                    <svg class="mx-auto h-16 w-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
                    </svg>
                    <h3 class="mt-4 text-lg font-medium text-gray-900">Belum ada tiket</h3>
                    <p class="mt-2 text-gray-500">Tiket akan muncul setelah kamu menyelesaikan pembayaran</p>
                    <a href="{{ route('events.index') }}" class="mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition">
                        Cari Event
                    </a>
                </div>
            @endif
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pages/tickets/show.blade.php (91 lines)
======================================================================
<x-app-layout>
    <div class="bg-gray-50 min-h-screen py-8">
        <div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Back -->
            <nav class="text-sm mb-6">
                <a href="{{ route('tickets.index') }}" class="text-blue-600 hover:text-blue-800">← Kembali ke Tiket</a>
            </nav>

            <!-- Ticket Card -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <!-- Header -->
                <div class="bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white text-center">
                    <p class="text-sm opacity-80">E-Ticket</p>
                    <p class="font-mono text-2xl font-bold mt-1">{{ $ticket->code }}</p>

                    @if($ticket->is_used)
                        <span class="inline-block mt-3 px-3 py-1 text-xs font-medium rounded-full bg-gray-500">
                            SUDAH DIGUNAKAN
                        </span>
                    @else
                        <span class="inline-block mt-3 px-3 py-1 text-xs font-medium rounded-full bg-green-500">
                            AKTIF
                        </span>
                    @endif
                </div>

                <!-- QR Code Placeholder -->
                <div class="p-6 text-center border-b">
                    <div class="w-48 h-48 mx-auto bg-gray-100 rounded-lg flex items-center justify-center">
                        <div class="text-center">
                            <svg class="w-16 h-16 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
                            </svg>
                            <p class="text-sm text-gray-500 mt-2">QR Code</p>
                            <p class="text-xs text-gray-400">{{ $ticket->code }}</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500 mt-4">Tunjukkan QR code ini saat masuk venue</p>
                </div>

                <!-- Event Info -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">Event</h3>
                    <p class="font-semibold text-gray-900">{{ $ticket->orderItem->order->event->title ?? 'Event' }}</p>
                    <p class="text-sm text-gray-600 mt-1">{{ $ticket->orderItem->order->event->formatted_date ?? '' }}</p>
                    <p class="text-sm text-gray-600">{{ $ticket->orderItem->order->event->formatted_location ?? '' }}</p>
                </div>

                <!-- Ticket Info -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">Tipe Tiket</h3>
                    <p class="font-semibold text-gray-900">{{ $ticket->orderItem->ticket_name ?? 'Ticket' }}</p>
                    @if($ticket->orderItem->variant_name)
                        <p class="text-sm text-gray-600">{{ $ticket->orderItem->variant_name }}</p>
                    @endif
                </div>

                <!-- Attendee Info -->
                <div class="p-6 border-b">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">Nama Peserta</h3>
                    <p class="font-semibold text-gray-900">{{ $ticket->attendee_name }}</p>
                    <p class="text-sm text-gray-600">{{ $ticket->attendee_email }}</p>
                </div>

                <!-- Used Info -->
                @if($ticket->is_used)
                    <div class="p-6 border-b bg-gray-50">
                        <h3 class="text-sm font-medium text-gray-500 mb-2">Info Check-in</h3>
                        <p class="text-sm text-gray-600">Digunakan pada: {{ $ticket->used_at ? $ticket->used_at->format('d M Y H:i') : '-' }}</p>
                        @if($ticket->check_in_notes)
                            <p class="text-sm text-gray-600">Catatan: {{ $ticket->check_in_notes }}</p>
                        @endif
                    </div>
                @endif

                <!-- Actions -->
                <div class="p-6">
                    <a href="{{ route('tickets.download', $ticket->code) }}"
                       class="block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition">
                        Download PDF
                    </a>

                    <p class="text-xs text-gray-500 mt-4 text-center">
                        Order: {{ $ticket->orderItem->order->order_number ?? '' }}
                    </p>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>

======================================================================
FILE: resources/views/pdf/ticket.blade.php (249 lines)
======================================================================
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>E-Ticket {{ $ticket->code }}</title>
    <style>
        @page {
            margin: 15px;
            size: A5 landscape;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'DejaVu Sans', sans-serif;
            font-size: 10px;
            color: #333;
            background: #fff;
        }
        .ticket {
            width: 100%;
            border: 2px solid #2563eb;
            border-radius: 8px;
            overflow: hidden;
        }
        .ticket-header {
            background: #2563eb;
            color: white;
            padding: 10px 15px;
            text-align: center;
        }
        .ticket-header h1 {
            font-size: 18px;
            margin: 0;
        }
        .ticket-header .brand {
            font-size: 11px;
            opacity: 0.9;
            margin-bottom: 2px;
        }
        .ticket-body {
            display: table;
            width: 100%;
        }
        .ticket-info {
            display: table-cell;
            width: 62%;
            padding: 12px 15px;
            vertical-align: top;
        }
        .ticket-qr {
            display: table-cell;
            width: 38%;
            padding: 12px 15px;
            text-align: center;
            vertical-align: top;
            border-left: 2px dashed #d1d5db;
            background: #f9fafb;
        }
        .info-row {
            margin-bottom: 8px;
        }
        .info-label {
            font-size: 8px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1px;
        }
        .info-value {
            font-size: 11px;
            font-weight: bold;
            color: #111827;
        }
        .info-value.large {
            font-size: 14px;
        }
        .ticket-code-label {
            font-size: 8px;
            color: #6b7280;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        .ticket-code-box {
            width: 130px;
            padding: 15px 10px;
            background: #fff;
            border: 2px solid #2563eb;
            margin: 0 auto 8px;
            border-radius: 4px;
        }
        .ticket-code {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            font-weight: bold;
            color: #2563eb;
            letter-spacing: 1px;
            word-break: break-all;
        }
        .divider {
            border-top: 1px dashed #d1d5db;
            margin: 8px 0;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 9px;
            font-weight: bold;
            text-transform: uppercase;
        }
        .status-active {
            background: #d1fae5;
            color: #065f46;
        }
        .status-used {
            background: #fee2e2;
            color: #991b1b;
        }
        .ticket-footer {
            background: #f3f4f6;
            padding: 8px 15px;
            border-top: 1px solid #e5e7eb;
        }
        .footer-table {
            width: 100%;
        }
        .footer-left {
            text-align: left;
        }
        .footer-right {
            text-align: right;
        }
        .footer-label {
            font-size: 7px;
            color: #6b7280;
            text-transform: uppercase;
        }
        .footer-value {
            font-size: 9px;
            color: #374151;
            font-weight: bold;
        }
        .instructions {
            margin-top: 6px;
            padding: 6px 10px;
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 4px;
            font-size: 8px;
            color: #92400e;
        }
        .instructions strong {
            color: #78350f;
        }
    </style>
</head>
<body>
    <div class="ticket">
        <!-- Header -->
        <div class="ticket-header">
            <div class="brand">ngevent.id</div>
            <h1>E-TICKET</h1>
        </div>

        <!-- Body -->
        <div class="ticket-body">
            <!-- Info Section -->
            <div class="ticket-info">
                <div class="info-row">
                    <div class="info-label">Event</div>
                    <div class="info-value large">{{ $ticket->orderItem->order->event->title ?? 'Event' }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">Tanggal & Waktu</div>
                    <div class="info-value">{{ $ticket->orderItem->order->event->formatted_date ?? '-' }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">Lokasi</div>
                    <div class="info-value">{{ $ticket->orderItem->order->event->formatted_location ?? '-' }}</div>
                </div>

                <div class="divider"></div>

                <div class="info-row">
                    <div class="info-label">Tipe Tiket</div>
                    <div class="info-value">
                        {{ $ticket->orderItem->ticket_name ?? 'Ticket' }}
                        @if($ticket->orderItem->variant_name)
                            - {{ $ticket->orderItem->variant_name }}
                        @endif
                    </div>
                </div>

                <div class="info-row">
                    <div class="info-label">Nama Peserta</div>
                    <div class="info-value">{{ $ticket->attendee_name }}</div>
                </div>

                <div class="info-row">
                    <div class="info-label">Email</div>
                    <div class="info-value">{{ $ticket->attendee_email }}</div>
                </div>
            </div>

            <!-- Code Section -->
            <div class="ticket-qr">
                <div class="ticket-code-label">Kode Tiket</div>
                <div class="ticket-code-box">
                    <div class="ticket-code">{{ $ticket->code }}</div>
                </div>

                @php
                    $statusText = $ticket->is_used ? 'SUDAH DIGUNAKAN' : 'BELUM DIGUNAKAN';
                    $statusClass = $ticket->is_used ? 'status-used' : 'status-active';
                @endphp
                <div class="status-badge {{ $statusClass }}">
                    {{ $statusText }}
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="ticket-footer">
            <table class="footer-table">
                <tr>
                    <td class="footer-left">
                        <div class="footer-label">No. Order</div>
                        <div class="footer-value">{{ $ticket->orderItem->order->order_number ?? '-' }}</div>
                    </td>
                    <td class="footer-right">
                        <div class="footer-label">Tanggal Pembelian</div>
                        <div class="footer-value">{{ $ticket->created_at->format('d M Y, H:i') }}</div>
                    </td>
                </tr>
            </table>

            <div class="instructions">
                <strong>Petunjuk:</strong> Tunjukkan e-ticket ini saat memasuki venue. Sebutkan kode tiket kepada petugas untuk verifikasi. Tiket hanya berlaku untuk 1 orang.
            </div>
        </div>
    </div>
</body>
</html>

======================================================================
FILE: routes/admin.php (21 lines)
======================================================================
<?php

use App\Http\Controllers\Admin\DashboardController;
use Illuminate\Support\Facades\Route;

Route::middleware(['auth', 'admin'])
    ->prefix('admin')
    ->name('admin.')
    ->group(function () {
        // Dashboard
        Route::get('/', [DashboardController::class, 'index'])->name('dashboard');

        // Placeholder routes
        Route::view('events', 'admin.placeholder', ['title' => 'Events'])->name('events.index');
        Route::view('categories', 'admin.placeholder', ['title' => 'Categories'])->name('categories.index');
        Route::view('users', 'admin.placeholder', ['title' => 'Users'])->name('users.index');
        Route::view('organizers', 'admin.placeholder', ['title' => 'Organizers'])->name('organizers.index');
        Route::view('vouchers', 'admin.placeholder', ['title' => 'Vouchers'])->name('vouchers.index');
        Route::view('settlements', 'admin.placeholder', ['title' => 'Settlements'])->name('settlements.index');
    });

======================================================================
FILE: routes/api.php (37 lines)
======================================================================
<?php

use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| API Routes
|--------------------------------------------------------------------------
*/

Route::prefix('v1')->name('api.')->group(function () {

    // Public API - Categories
    Route::get('/categories', function () {
        return \App\Models\Category::active()->ordered()->get();
    })->name('categories');

    // Public API - Events
    Route::get('/events', function () {
        return \App\Models\Event::with(['category', 'organizer'])
            ->published()
            ->upcoming()
            ->paginate(12);
    })->name('events');

    Route::get('/events/featured', function () {
        return \App\Models\Event::with(['category', 'organizer'])
            ->published()
            ->upcoming()
            ->featured()
            ->limit(6)
            ->get();
    })->name('events.featured');

    // TODO: Add full API controllers later
});

======================================================================
FILE: routes/auth.php (27 lines)
======================================================================
<?php

use App\Http\Controllers\Auth\LoginController;
use App\Http\Controllers\Auth\RegisterController;
use App\Http\Controllers\Auth\ForgotPasswordController;
use Illuminate\Support\Facades\Route;

// Guest Routes
Route::middleware('guest')->group(function () {
    Route::get('/login', [LoginController::class, 'showLoginForm'])->name('login');
    Route::post('/login', [LoginController::class, 'login']);

    Route::get('/register', [RegisterController::class, 'showRegistrationForm'])->name('register');
    Route::post('/register', [RegisterController::class, 'register']);

    Route::get('/register/organizer', [RegisterController::class, 'showOrganizerForm'])->name('register.organizer');
    Route::post('/register/organizer', [RegisterController::class, 'registerOrganizer']);

    Route::get('/forgot-password', [ForgotPasswordController::class, 'showLinkRequestForm'])->name('password.request');
    Route::post('/forgot-password', [ForgotPasswordController::class, 'sendResetLinkEmail'])->name('password.email');
});

// Authenticated Routes
Route::middleware('auth')->group(function () {
    Route::post('/logout', [LoginController::class, 'logout'])->name('logout');
});

======================================================================
FILE: routes/console.php (9 lines)
======================================================================
<?php

use Illuminate\Foundation\Inspiring;
use Illuminate\Support\Facades\Artisan;

Artisan::command('inspire', function () {
    $this->comment(Inspiring::quote());
})->purpose('Display an inspiring quote');

======================================================================
FILE: routes/organizer.php (36 lines)
======================================================================
<?php

use App\Http\Controllers\Organizer\DashboardController;
use App\Http\Controllers\Organizer\EventController;
use App\Http\Controllers\Organizer\OrderController;
use App\Http\Controllers\Organizer\AttendeeController;
use App\Http\Controllers\Organizer\ProfileController;
use Illuminate\Support\Facades\Route;

Route::middleware(['auth', 'organizer'])
    ->prefix('organizer')
    ->name('organizer.')
    ->group(function () {
        // Dashboard
        Route::get('/', [DashboardController::class, 'index'])->name('dashboard');

        // Events
        Route::resource('events', EventController::class);
        Route::post('events/{event}/publish', [EventController::class, 'publish'])->name('events.publish');
        Route::post('events/{event}/unpublish', [EventController::class, 'unpublish'])->name('events.unpublish');
        Route::post('events/{event}/duplicate', [EventController::class, 'duplicate'])->name('events.duplicate');

        // Orders
        Route::get('orders', [OrderController::class, 'index'])->name('orders.index');
        Route::get('orders/{order}', [OrderController::class, 'show'])->name('orders.show');

        // Attendees / Check-in
        Route::get('attendees', [AttendeeController::class, 'index'])->name('attendees.index');
        Route::get('attendees/{event}', [AttendeeController::class, 'event'])->name('attendees.event');
        Route::post('attendees/{ticket}/checkin', [AttendeeController::class, 'checkin'])->name('attendees.checkin');

        // Settings
        Route::get('settings', [ProfileController::class, 'index'])->name('settings.index');
        Route::put('settings', [ProfileController::class, 'update'])->name('settings.update');
    });

======================================================================
FILE: routes/web.php (49 lines)
======================================================================
<?php

use App\Http\Controllers\User\HomeController;
use App\Http\Controllers\User\EventController;
use App\Http\Controllers\User\CheckoutController;
use App\Http\Controllers\User\OrderController;
use App\Http\Controllers\User\TicketController;
use App\Http\Controllers\User\ProfileController;
use Illuminate\Support\Facades\Route;

// Public Routes
Route::get('/', [HomeController::class, 'index'])->name('home');

// Events
Route::get('/events', [EventController::class, 'index'])->name('events.index');
Route::get('/events/category/{category:slug}', [EventController::class, 'category'])->name('events.category');
Route::get('/events/{event:slug}', [EventController::class, 'show'])->name('events.show');

// Organizer Profile (public)
Route::get('/organizer/{organizer:slug}', [EventController::class, 'organizer'])->name('organizer.show');

// Authenticated Routes
Route::middleware(['auth'])->group(function () {
    // Checkout
    Route::get('/checkout/{event:slug}', [CheckoutController::class, 'index'])->name('checkout.index');
    Route::post('/checkout/{event:slug}', [CheckoutController::class, 'store'])->name('checkout.store');
    Route::get('/checkout/payment/{order}', [CheckoutController::class, 'payment'])->name('checkout.payment');
    Route::post('/checkout/payment/{order}', [CheckoutController::class, 'processPayment'])->name('checkout.process');
    Route::get('/checkout/success/{order}', [CheckoutController::class, 'success'])->name('checkout.success');
    Route::get('/checkout/failed/{order}', [CheckoutController::class, 'failed'])->name('checkout.failed');
    Route::get('/checkout/expired/{order}', [CheckoutController::class, 'expired'])->name('checkout.expired');

    // Orders
    Route::get('/orders', [OrderController::class, 'index'])->name('orders.index');
    Route::get('/orders/{order}', [OrderController::class, 'show'])->name('orders.show');
    Route::post('/orders/{order}/cancel', [OrderController::class, 'cancel'])->name('orders.cancel');

    // Tickets
    Route::get('/tickets', [TicketController::class, 'index'])->name('tickets.index');
    Route::get('/tickets/{ticket:code}', [TicketController::class, 'show'])->name('tickets.show');
    Route::get('/tickets/{ticket:code}/download', [TicketController::class, 'download'])->name('tickets.download');

    // Profile
    Route::get('/profile', [ProfileController::class, 'index'])->name('profile.index');
    Route::get('/profile/edit', [ProfileController::class, 'edit'])->name('profile.edit');
    Route::put('/profile', [ProfileController::class, 'update'])->name('profile.update');
    Route::put('/profile/password', [ProfileController::class, 'updatePassword'])->name('profile.password');
});

======================================================================
FILE: routes/webhook.php (24 lines)
======================================================================
<?php

use Illuminate\Support\Facades\Route;

/*
|--------------------------------------------------------------------------
| Webhook Routes
|--------------------------------------------------------------------------
*/

Route::prefix('webhook')->name('webhook.')->group(function () {
    // Xendit Payment Webhook
    Route::post('/xendit', function () {
        // TODO: Implement XenditController
        return response()->json(['status' => 'ok']);
    })->middleware('xendit.webhook')->name('xendit');

    // Xendit Invoice Callback
    Route::post('/xendit/invoice', function () {
        // TODO: Implement XenditController
        return response()->json(['status' => 'ok']);
    })->middleware('xendit.webhook')->name('xendit.invoice');
});

======================================================================
FILE: tailwind.config.js (21 lines)
======================================================================
/** @type {import('tailwindcss').Config} */
export default {
    content: [
        "./vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php",
        "./storage/framework/views/*.php",
        "./resources/views/**/*.blade.php",
        "./resources/js/**/*.js",
    ],
    theme: {
        extend: {
            fontFamily: {
                sans: ['Inter', 'system-ui', 'sans-serif'],
            },
        },
    },
    plugins: [
        require('@tailwindcss/forms'),
        require('@tailwindcss/typography'),
    ],
}

======================================================================
FILE: tests/Feature/ExampleTest.php (20 lines)
======================================================================
<?php

namespace Tests\Feature;

// use Illuminate\Foundation\Testing\RefreshDatabase;
use Tests\TestCase;

class ExampleTest extends TestCase
{
    /**
     * A basic test example.
     */
    public function test_the_application_returns_a_successful_response(): void
    {
        $response = $this->get('/');

        $response->assertStatus(200);
    }
}

======================================================================
FILE: tests/TestCase.php (11 lines)
======================================================================
<?php

namespace Tests;

use Illuminate\Foundation\Testing\TestCase as BaseTestCase;

abstract class TestCase extends BaseTestCase
{
    //
}

======================================================================
FILE: tests/Unit/ExampleTest.php (17 lines)
======================================================================
<?php

namespace Tests\Unit;

use PHPUnit\Framework\TestCase;

class ExampleTest extends TestCase
{
    /**
     * A basic test example.
     */
    public function test_that_true_is_true(): void
    {
        $this->assertTrue(true);
    }
}

======================================================================
FILE: vite.config.js (15 lines)
======================================================================
import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: [
                'resources/css/app.css',
                'resources/js/app.js',
            ],
            refresh: true,
        }),
    ],
});
